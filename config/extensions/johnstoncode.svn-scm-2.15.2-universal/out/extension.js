/*! For license information please see extension.js.LICENSE.txt */
(()=>{var t={5623:t=>{"use strict";function e(t,e,o){t instanceof RegExp&&(t=r(t,o)),e instanceof RegExp&&(e=r(e,o));var s=n(t,e,o);return s&&{start:s[0],end:s[1],pre:o.slice(0,s[0]),body:o.slice(s[0]+t.length,s[1]),post:o.slice(s[1]+e.length)}}function r(t,e){var r=e.match(t);return r?r[0]:null}function n(t,e,r){var n,o,s,i,a,c=r.indexOf(t),u=r.indexOf(e,c+1),h=c;if(c>=0&&u>0){for(n=[],s=r.length;h>=0&&!a;)h==c?(n.push(h),c=r.indexOf(t,h+1)):1==n.length?a=[n.pop(),u]:((o=n.pop())<s&&(s=o,i=u),u=r.indexOf(e,h+1)),h=c<u&&c>=0?c:u;n.length&&(a=[s,i])}return a}t.exports=e,e.range=n},3644:(t,e,r)=>{var n=r(1048),o=r(5623);t.exports=function(t){return t?("{}"===t.substr(0,2)&&(t="\\{\\}"+t.substr(2)),y(function(t){return t.split("\\\\").join(s).split("\\{").join(i).split("\\}").join(a).split("\\,").join(c).split("\\.").join(u)}(t),!0).map(l)):[]};var s="\0SLASH"+Math.random()+"\0",i="\0OPEN"+Math.random()+"\0",a="\0CLOSE"+Math.random()+"\0",c="\0COMMA"+Math.random()+"\0",u="\0PERIOD"+Math.random()+"\0";function h(t){return parseInt(t,10)==t?parseInt(t,10):t.charCodeAt(0)}function l(t){return t.split(s).join("\\").split(i).join("{").split(a).join("}").split(c).join(",").split(u).join(".")}function p(t){if(!t)return[""];var e=[],r=o("{","}",t);if(!r)return t.split(",");var n=r.pre,s=r.body,i=r.post,a=n.split(",");a[a.length-1]+="{"+s+"}";var c=p(i);return i.length&&(a[a.length-1]+=c.shift(),a.push.apply(a,c)),e.push.apply(e,a),e}function d(t){return"{"+t+"}"}function f(t){return/^-?0\d/.test(t)}function m(t,e){return t<=e}function g(t,e){return t>=e}function y(t,e){var r=[],s=o("{","}",t);if(!s||/\$$/.test(s.pre))return[t];var i,c=/^-?\d+\.\.-?\d+(?:\.\.-?\d+)?$/.test(s.body),u=/^[a-zA-Z]\.\.[a-zA-Z](?:\.\.-?\d+)?$/.test(s.body),l=c||u,v=s.body.indexOf(",")>=0;if(!l&&!v)return s.post.match(/,.*\}/)?y(t=s.pre+"{"+s.body+a+s.post):[t];if(l)i=s.body.split(/\.\./);else if(1===(i=p(s.body)).length&&1===(i=y(i[0],!1).map(d)).length)return(b=s.post.length?y(s.post,!1):[""]).map((function(t){return s.pre+i[0]+t}));var w,E=s.pre,b=s.post.length?y(s.post,!1):[""];if(l){var C=h(i[0]),_=h(i[1]),O=Math.max(i[0].length,i[1].length),S=3==i.length?Math.abs(h(i[2])):1,D=m;_<C&&(S*=-1,D=g);var I=i.some(f);w=[];for(var R=C;D(R,_);R+=S){var T;if(u)"\\"===(T=String.fromCharCode(R))&&(T="");else if(T=String(R),I){var x=O-T.length;if(x>0){var P=new Array(x+1).join("0");T=R<0?"-"+P+T.slice(1):P+T}}w.push(T)}}else w=n(i,(function(t){return y(t,!1)}));for(var N=0;N<w.length;N++)for(var A=0;A<b.length;A++){var M=E+w[N]+b[A];(!e||l||M)&&r.push(M)}return r}},3903:function(t,e,r){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.ISO_2022_CN=e.ISO_2022_KR=e.ISO_2022_JP=void 0;const o=n(r(6327));class s{constructor(){this.escapeSequences=[]}name(){return"ISO_2022"}match(t){let e,r,n,s,i=0,a=0,c=0;const u=t.fInputBytes,h=t.fInputLen;t:for(e=0;e<h;e++){if(27==u[e]){e:for(n=0;n<this.escapeSequences.length;n++){const t=this.escapeSequences[n];if(!(h-e<t.length)){for(r=1;r<t.length;r++)if(t[r]!=u[e+r])continue e;i++,e+=t.length-1;continue t}}a++}14!=u[e]&&15!=u[e]||c++}return 0==i?null:(s=(100*i-100*a)/(i+a),i+c<5&&(s-=10*(5-(i+c))),s<=0?null:o.default(t,this,s))}}e.ISO_2022_JP=class extends s{constructor(){super(...arguments),this.escapeSequences=[[27,36,40,67],[27,36,40,68],[27,36,64],[27,36,65],[27,36,66],[27,38,64],[27,40,66],[27,40,72],[27,40,73],[27,40,74],[27,46,65],[27,46,70]]}name(){return"ISO-2022-JP"}},e.ISO_2022_KR=class extends s{constructor(){super(...arguments),this.escapeSequences=[[27,36,41,67]]}name(){return"ISO-2022-KR"}},e.ISO_2022_CN=class extends s{constructor(){super(...arguments),this.escapeSequences=[[27,36,41,65],[27,36,41,71],[27,36,42,72],[27,36,41,69],[27,36,43,73],[27,36,43,74],[27,36,43,75],[27,36,43,76],[27,36,43,77],[27,78],[27,79]]}name(){return"ISO-2022-CN"}}},6893:function(t,e,r){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.gb_18030=e.euc_kr=e.euc_jp=e.big5=e.sjis=void 0;const o=n(r(6327));function s(t,e){const r=(t,e,n,o)=>{if(o<n)return-1;const s=Math.floor(n+o>>>1);return e>t[s]?r(t,e,s+1,o):e<t[s]?r(t,e,n,s-1):s};return r(t,e,0,t.length-1)}class i{constructor(){this.charValue=0,this.index=0,this.nextIndex=0,this.error=!1,this.done=!1}reset(){this.charValue=0,this.index=-1,this.nextIndex=0,this.error=!1,this.done=!1}nextByte(t){return this.nextIndex>=t.fRawLength?(this.done=!0,-1):255&t.fRawInput[this.nextIndex++]}}class a{constructor(){this.commonChars=[]}name(){return"mbcs"}match(t){let e=0,r=0,n=0,a=0,c=0;const u=new i;t:{for(u.reset();this.nextChar(u,t);){if(a++,u.error)n++;else{const t=4294967295&u.charValue;!(t<=255)&&(e++,null!=this.commonChars&&s(this.commonChars,t)>=0&&r++)}if(n>=2&&5*n>=e)break t}if(e<=10&&0==n)c=0==e&&a<10?0:10;else if(e<20*n)c=0;else if(null==this.commonChars)c=30+e-20*n,c>100&&(c=100);else{const t=90/Math.log(e/4);c=Math.floor(Math.log(r+1)*t+10),c=Math.min(c,100)}}return 0==c?null:o.default(t,this,c)}nextChar(t,e){return!0}}function c(t,e){t.index=t.nextIndex,t.error=!1;let r=0,n=0,o=0;return r=t.charValue=t.nextByte(e),r<0?t.done=!0:r<=141||(n=t.nextByte(e),t.charValue=t.charValue<<8|n,r>=161&&r<=254?n<161&&(t.error=!0):142!=r?143==r&&(o=t.nextByte(e),t.charValue=t.charValue<<8|o,o<161&&(t.error=!0)):n<161&&(t.error=!0)),0==t.done}e.sjis=class extends a{constructor(){super(...arguments),this.commonChars=[33088,33089,33090,33093,33115,33129,33130,33141,33142,33440,33442,33444,33449,33450,33451,33453,33455,33457,33459,33461,33463,33469,33470,33473,33476,33477,33478,33480,33481,33484,33485,33500,33504,33511,33512,33513,33514,33520,33521,33601,33603,33614,33615,33624,33630,33634,33639,33653,33654,33673,33674,33675,33677,33683,36502,37882,38314]}name(){return"Shift_JIS"}language(){return"ja"}nextChar(t,e){t.index=t.nextIndex,t.error=!1;const r=t.charValue=t.nextByte(e);if(r<0)return!1;if(r<=127||r>160&&r<=223)return!0;const n=t.nextByte(e);return!(n<0||(t.charValue=r<<8|n,n>=64&&n<=127||n>=128&&n<=255||(t.error=!0),0))}},e.big5=class extends a{constructor(){super(...arguments),this.commonChars=[41280,41281,41282,41283,41287,41289,41333,41334,42048,42054,42055,42056,42065,42068,42071,42084,42090,42092,42103,42147,42148,42151,42177,42190,42193,42207,42216,42237,42304,42312,42328,42345,42445,42471,42583,42593,42594,42600,42608,42664,42675,42681,42707,42715,42726,42738,42816,42833,42841,42970,43171,43173,43181,43217,43219,43236,43260,43456,43474,43507,43627,43706,43710,43724,43772,44103,44111,44208,44242,44377,44745,45024,45290,45423,45747,45764,45935,46156,46158,46412,46501,46525,46544,46552,46705,47085,47207,47428,47832,47940,48033,48593,49860,50105,50240,50271]}name(){return"Big5"}language(){return"zh"}nextChar(t,e){t.index=t.nextIndex,t.error=!1;const r=t.charValue=t.nextByte(e);if(r<0)return!1;if(r<=127||255==r)return!0;const n=t.nextByte(e);return!(n<0||(t.charValue=t.charValue<<8|n,(n<64||127==n||255==n)&&(t.error=!0),0))}},e.euc_jp=class extends a{constructor(){super(...arguments),this.commonChars=[41377,41378,41379,41382,41404,41418,41419,41430,41431,42146,42148,42150,42152,42154,42155,42156,42157,42159,42161,42163,42165,42167,42169,42171,42173,42175,42176,42177,42179,42180,42182,42183,42184,42185,42186,42187,42190,42191,42192,42206,42207,42209,42210,42212,42216,42217,42218,42219,42220,42223,42226,42227,42402,42403,42404,42406,42407,42410,42413,42415,42416,42419,42421,42423,42424,42425,42431,42435,42438,42439,42440,42441,42443,42448,42453,42454,42455,42462,42464,42465,42469,42473,42474,42475,42476,42477,42483,47273,47572,47854,48072,48880,49079,50410,50940,51133,51896,51955,52188,52689],this.nextChar=c}name(){return"EUC-JP"}language(){return"ja"}},e.euc_kr=class extends a{constructor(){super(...arguments),this.commonChars=[45217,45235,45253,45261,45268,45286,45293,45304,45306,45308,45496,45497,45511,45527,45538,45994,46011,46274,46287,46297,46315,46501,46517,46527,46535,46569,46835,47023,47042,47054,47270,47278,47286,47288,47291,47337,47531,47534,47564,47566,47613,47800,47822,47824,47857,48103,48115,48125,48301,48314,48338,48374,48570,48576,48579,48581,48838,48840,48863,48878,48888,48890,49057,49065,49088,49124,49131,49132,49144,49319,49327,49336,49338,49339,49341,49351,49356,49358,49359,49366,49370,49381,49403,49404,49572,49574,49590,49622,49631,49654,49656,50337,50637,50862,51151,51153,51154,51160,51173,51373],this.nextChar=c}name(){return"EUC-KR"}language(){return"ko"}},e.gb_18030=class extends a{constructor(){super(...arguments),this.commonChars=[41377,41378,41379,41380,41392,41393,41457,41459,41889,41900,41914,45480,45496,45502,45755,46025,46070,46323,46525,46532,46563,46767,46804,46816,47010,47016,47037,47062,47069,47284,47327,47350,47531,47561,47576,47610,47613,47821,48039,48086,48097,48122,48316,48347,48382,48588,48845,48861,49076,49094,49097,49332,49389,49611,49883,50119,50396,50410,50636,50935,51192,51371,51403,51413,51431,51663,51706,51889,51893,51911,51920,51926,51957,51965,52460,52728,52906,52932,52946,52965,53173,53186,53206,53442,53445,53456,53460,53671,53930,53938,53941,53947,53972,54211,54224,54269,54466,54490,54754,54992]}name(){return"GB18030"}language(){return"zh"}nextChar(t,e){t.index=t.nextIndex,t.error=!1;let r=0,n=0,o=0,s=0;t:if(r=t.charValue=t.nextByte(e),r<0)t.done=!0;else if(!(r<=128)&&(n=t.nextByte(e),t.charValue=t.charValue<<8|n,r>=129&&r<=254)){if(n>=64&&n<=126||n>=80&&n<=254)break t;if(n>=48&&n<=57&&(o=t.nextByte(e),o>=129&&o<=254&&(s=t.nextByte(e),s>=48&&s<=57))){t.charValue=t.charValue<<16|o<<8|s;break t}t.error=!0}return 0==t.done}}},2708:function(t,e,r){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.KOI8_R=e.windows_1256=e.windows_1251=e.ISO_8859_9=e.ISO_8859_8=e.ISO_8859_7=e.ISO_8859_6=e.ISO_8859_5=e.ISO_8859_2=e.ISO_8859_1=void 0;const o=n(r(6327));class s{constructor(t,e){this.byteIndex=0,this.ngram=0,this.ngramCount=0,this.hitCount=0,this.spaceChar=32,this.ngramList=t,this.byteMap=e}search(t,e){let r=0;return t[r+32]<=e&&(r+=32),t[r+16]<=e&&(r+=16),t[r+8]<=e&&(r+=8),t[r+4]<=e&&(r+=4),t[r+2]<=e&&(r+=2),t[r+1]<=e&&(r+=1),t[r]>e&&(r-=1),r<0||t[r]!=e?-1:r}lookup(t){this.ngramCount+=1,this.search(this.ngramList,t)>=0&&(this.hitCount+=1)}addByte(t){this.ngram=(this.ngram<<8)+(255&t)&16777215,this.lookup(this.ngram)}nextByte(t){return this.byteIndex>=t.fInputLen?-1:255&t.fInputBytes[this.byteIndex++]}parse(t,e){let r,n=!1;for(this.spaceChar=e;(r=this.nextByte(t))>=0;){const t=this.byteMap[r];0!=t&&(t==this.spaceChar&&n||this.addByte(t),n=t==this.spaceChar)}this.addByte(this.spaceChar);const o=this.hitCount/this.ngramCount;return o>.33?98:Math.floor(300*o)}}class i{constructor(t,e){this.fLang=t,this.fNGrams=e}}class a{constructor(){this.spaceChar=32}ngrams(){return[]}byteMap(){return[]}name(t){return"sbcs"}match(t){const e=this.ngrams();if(r=e,Array.isArray(r)&&isFinite(r[0])){const r=new s(e,this.byteMap()).parse(t,this.spaceChar);return r<=0?null:o.default(t,this,r)}var r;let n,i=-1;for(let r=e.length-1;r>=0;r--){const o=e[r],a=new s(o.fNGrams,this.byteMap()).parse(t,this.spaceChar);a>i&&(i=a,n=o.fLang)}const a=this.name(t);return i<=0?null:o.default(t,this,i,a,n)}}e.ISO_8859_1=class extends a{byteMap(){return[32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,0,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,32,32,32,32,32,32,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,170,32,32,32,32,32,32,32,32,32,32,181,32,32,32,32,186,32,32,32,32,32,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,242,243,244,245,246,32,248,249,250,251,252,253,254,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,242,243,244,245,246,32,248,249,250,251,252,253,254,255]}ngrams(){return[new i("da",[2122086,2122100,2122853,2123118,2123122,2123375,2123873,2124064,2125157,2125671,2126053,2126697,2126708,2126953,2127465,6383136,6385184,6385252,6386208,6386720,6579488,6579566,6579570,6579572,6627443,6644768,6644837,6647328,6647396,6648352,6648421,6648608,6648864,6713202,6776096,6776174,6776178,6907749,6908960,6909543,7038240,7039845,7103858,7104871,7105637,7169380,7234661,7234848,7235360,7235429,7300896,7302432,7303712,7398688,7479396,7479397,7479411,7496992,7566437,7610483,7628064,7628146,7629164,7759218]),new i("de",[2122094,2122101,2122341,2122849,2122853,2122857,2123113,2123621,2123873,2124142,2125161,2126691,2126693,2127214,2127461,2127471,2127717,2128501,6448498,6514720,6514789,6514804,6578547,6579566,6579570,6580581,6627428,6627443,6646126,6646132,6647328,6648352,6648608,6776174,6841710,6845472,6906728,6907168,6909472,6909541,6911008,7104867,7105637,7217249,7217252,7217267,7234592,7234661,7234848,7235360,7235429,7238757,7479396,7496805,7497065,7562088,7566437,7610468,7628064,7628142,7628146,7695972,7695975,7759218]),new i("en",[2122016,2122094,2122341,2122607,2123375,2123873,2123877,2124142,2125153,2125670,2125938,2126437,2126689,2126708,2126952,2126959,2127720,6383972,6384672,6385184,6385252,6386464,6386720,6386789,6386793,6561889,6561908,6627425,6627443,6627444,6644768,6647412,6648352,6648608,6713202,6840692,6841632,6841714,6906912,6909472,6909543,6909806,6910752,7217249,7217268,7234592,7235360,7238688,7300640,7302688,7303712,7496992,7500576,7544929,7544948,7561577,7566368,7610484,7628146,7628897,7628901,7629167,7630624,7631648]),new i("es",[2122016,2122593,2122607,2122853,2123116,2123118,2123123,2124142,2124897,2124911,2125921,2125935,2125938,2126197,2126437,2126693,2127214,2128160,6365283,6365284,6365285,6365292,6365296,6382441,6382703,6384672,6386208,6386464,6515187,6516590,6579488,6579564,6582048,6627428,6627429,6627436,6646816,6647328,6647412,6648608,6648692,6907246,6943598,7102752,7106419,7217253,7238757,7282788,7282789,7302688,7303712,7303968,7364978,7435621,7495968,7497075,7544932,7544933,7544944,7562528,7628064,7630624,7693600,15953440]),new i("fr",[2122101,2122607,2122849,2122853,2122869,2123118,2123124,2124897,2124901,2125921,2125935,2125938,2126197,2126693,2126703,2127214,2154528,6385268,6386793,6513952,6516590,6579488,6579571,6583584,6627425,6627427,6627428,6627429,6627436,6627440,6627443,6647328,6647412,6648352,6648608,6648864,6649202,6909806,6910752,6911008,7102752,7103776,7103859,7169390,7217252,7234848,7238432,7238688,7302688,7302772,7304562,7435621,7479404,7496992,7544929,7544932,7544933,7544940,7544944,7610468,7628064,7629167,7693600,7696928]),new i("it",[2122092,2122600,2122607,2122853,2122857,2123040,2124140,2124142,2124897,2125925,2125938,2127214,6365283,6365284,6365296,6365299,6386799,6514789,6516590,6579564,6580512,6627425,6627427,6627428,6627433,6627436,6627440,6627443,6646816,6646892,6647412,6648352,6841632,6889569,6889571,6889572,6889587,6906144,6908960,6909472,6909806,7102752,7103776,7104800,7105633,7234848,7235872,7237408,7238757,7282785,7282788,7282793,7282803,7302688,7302757,7366002,7495968,7496992,7563552,7627040,7628064,7629088,7630624,8022383]),new i("nl",[2122092,2122341,2122849,2122853,2122857,2123109,2123118,2123621,2123877,2124142,2125153,2125157,2125680,2126949,2127457,2127461,2127471,2127717,2128489,6381934,6381938,6385184,6385252,6386208,6386720,6514804,6579488,6579566,6579570,6627426,6627446,6645102,6645106,6647328,6648352,6648435,6648864,6776174,6841716,6907168,6909472,6909543,6910752,7217250,7217252,7217253,7217256,7217263,7217270,7234661,7235360,7302756,7303026,7303200,7303712,7562088,7566437,7610468,7628064,7628142,7628146,7758190,7759218,7761775]),new i("no",[2122100,2122102,2122853,2123118,2123122,2123375,2123873,2124064,2125157,2125671,2126053,2126693,2126699,2126703,2126708,2126953,2127465,2155808,6385252,6386208,6386720,6579488,6579566,6579572,6627443,6644768,6647328,6647397,6648352,6648421,6648864,6648948,6713202,6776174,6908779,6908960,6909543,7038240,7039845,7103776,7105637,7169380,7169390,7217267,7234848,7235360,7235429,7237221,7300896,7302432,7303712,7398688,7479411,7496992,7565165,7566437,7610483,7628064,7628142,7628146,7629164,7631904,7631973,7759218]),new i("pt",[2122016,2122607,2122849,2122853,2122863,2123040,2123123,2125153,2125423,2125600,2125921,2125935,2125938,2126197,2126437,2126693,2127213,6365281,6365283,6365284,6365296,6382693,6382703,6384672,6386208,6386273,6386464,6516589,6516590,6578464,6579488,6582048,6582131,6627425,6627428,6647072,6647412,6648608,6648692,6906144,6906721,7169390,7238757,7238767,7282785,7282787,7282788,7282789,7282800,7303968,7364978,7435621,7495968,7497075,7544929,7544932,7544933,7544944,7566433,7628064,7630624,7693600,14905120,15197039]),new i("sv",[2122100,2122102,2122853,2123118,2123510,2123873,2124064,2124142,2124655,2125157,2125667,2126053,2126699,2126703,2126708,2126953,2127457,2127465,2155634,6382693,6385184,6385252,6386208,6386804,6514720,6579488,6579566,6579570,6579572,6644768,6647328,6648352,6648864,6747762,6776174,6909036,6909543,7037216,7105568,7169380,7217267,7233824,7234661,7235360,7235429,7235950,7299944,7302432,7302688,7398688,7479393,7479411,7495968,7564129,7565165,7610483,7627040,7628064,7628146,7629164,7631904,7758194,14971424,16151072])]}name(t){return t&&t.fC1Bytes?"windows-1252":"ISO-8859-1"}},e.ISO_8859_2=class extends a{byteMap(){return[32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,0,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,32,32,32,32,32,32,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,177,32,179,32,181,182,32,32,185,186,187,188,32,190,191,32,177,32,179,32,181,182,183,32,185,186,187,188,32,190,191,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,242,243,244,245,246,32,248,249,250,251,252,253,254,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,242,243,244,245,246,32,248,249,250,251,252,253,254,32]}ngrams(){return[new i("cs",[2122016,2122361,2122863,2124389,2125409,2125413,2125600,2125668,2125935,2125938,2126072,2126447,2126693,2126703,2126708,2126959,2127392,2127481,2128481,6365296,6513952,6514720,6627440,6627443,6627446,6647072,6647533,6844192,6844260,6910836,6972704,7042149,7103776,7104800,7233824,7268640,7269408,7269664,7282800,7300206,7301737,7304052,7304480,7304801,7368548,7368554,7369327,7403621,7562528,7565173,7566433,7566441,7566446,7628146,7630573,7630624,7676016,12477728,14773997,15296623,15540336,15540339,15559968,16278884]),new i("hu",[2122016,2122106,2122341,2123111,2123116,2123365,2123873,2123887,2124147,2124645,2124649,2124790,2124901,2125153,2125157,2125161,2125413,2126714,2126949,2156915,6365281,6365291,6365293,6365299,6384416,6385184,6388256,6447470,6448494,6645625,6646560,6646816,6646885,6647072,6647328,6648421,6648864,6648933,6648948,6781216,6844263,6909556,6910752,7020641,7075450,7169383,7170414,7217249,7233899,7234923,7234925,7238688,7300985,7544929,7567973,7567988,7568097,7596391,7610465,7631904,7659891,8021362,14773792,15299360]),new i("pl",[2122618,2122863,2124064,2124389,2124655,2125153,2125161,2125409,2125417,2125668,2125935,2125938,2126697,2127648,2127721,2127737,2128416,2128481,6365296,6365303,6385257,6514720,6519397,6519417,6582048,6584937,6627440,6627443,6627447,6627450,6645615,6646304,6647072,6647401,6778656,6906144,6907168,6907242,7037216,7039264,7039333,7170405,7233824,7235937,7235941,7282800,7305057,7305065,7368556,7369313,7369327,7369338,7502437,7502457,7563754,7564137,7566433,7825765,7955304,7957792,8021280,8022373,8026400,15955744]),new i("ro",[2122016,2122083,2122593,2122597,2122607,2122613,2122853,2122857,2124897,2125153,2125925,2125938,2126693,2126819,2127214,2144873,2158190,6365283,6365284,6386277,6386720,6386789,6386976,6513010,6516590,6518048,6546208,6579488,6627425,6627427,6627428,6627440,6627443,6644e3,6646048,6646885,6647412,6648692,6889569,6889571,6889572,6889584,6907168,6908192,6909472,7102752,7103776,7106418,7107945,7234848,7238770,7303712,7365998,7496992,7497057,7501088,7594784,7628064,7631477,7660320,7694624,7695392,12216608,15625760])]}name(t){return t&&t.fC1Bytes?"windows-1250":"ISO-8859-2"}},e.ISO_8859_5=class extends a{byteMap(){return[32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,0,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,32,32,32,32,32,32,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,241,242,243,244,245,246,247,248,249,250,251,252,32,254,255,208,209,210,211,212,213,214,215,216,217,218,219,220,221,222,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,208,209,210,211,212,213,214,215,216,217,218,219,220,221,222,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,32,241,242,243,244,245,246,247,248,249,250,251,252,32,254,255]}ngrams(){return[2150944,2151134,2151646,2152400,2152480,2153168,2153182,2153936,2153941,2154193,2154462,2154464,2154704,2154974,2154978,2155230,2156514,2158050,13688280,13689580,13884960,14015468,14015960,14016994,14017056,14164191,14210336,14211104,14216992,14407133,14407712,14413021,14536736,14538016,14538965,14538991,14540320,14540498,14557394,14557407,14557409,14602784,14602960,14603230,14604576,14605292,14605344,14606818,14671579,14672085,14672088,14672094,14733522,14734804,14803664,14803666,14803672,14806816,14865883,14868e3,14868192,14871584,15196894,15459616]}name(){return"ISO-8859-5"}language(){return"ru"}},e.ISO_8859_6=class extends a{byteMap(){return[32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,0,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,32,32,32,32,32,32,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,193,194,195,196,197,198,199,200,201,202,203,204,205,206,207,208,209,210,211,212,213,214,215,216,217,218,32,32,32,32,32,224,225,226,227,228,229,230,231,232,233,234,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32]}ngrams(){return[2148324,2148326,2148551,2152932,2154986,2155748,2156006,2156743,13050055,13091104,13093408,13095200,13100064,13100227,13100231,13100232,13100234,13100236,13100237,13100239,13100243,13100249,13100258,13100261,13100264,13100266,13100320,13100576,13100746,13115591,13181127,13181153,13181156,13181157,13181160,13246663,13574343,13617440,13705415,13748512,13836487,14229703,14279913,14805536,14950599,14993696,15001888,15002144,15016135,15058720,15059232,15066656,15081671,15147207,15189792,15255524,15263264,15278279,15343815,15343845,15343848,15386912,15388960,15394336]}name(){return"ISO-8859-6"}language(){return"ar"}},e.ISO_8859_7=class extends a{byteMap(){return[32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,0,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,32,32,32,32,32,32,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,161,162,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,220,32,221,222,223,32,252,32,253,254,192,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,32,243,244,245,246,247,248,249,250,251,220,221,222,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,242,243,244,245,246,247,248,249,250,251,252,253,254,32]}ngrams(){return[2154989,2154992,2155497,2155753,2156016,2156320,2157281,2157797,2158049,2158368,2158817,2158831,2158833,2159604,2159605,2159847,2159855,14672160,14754017,14754036,14805280,14806304,14807292,14807584,14936545,15067424,15069728,15147252,15199520,15200800,15278324,15327520,15330014,15331872,15393257,15393268,15525152,15540449,15540453,15540464,15589664,15725088,15725856,15790069,15790575,15793184,15868129,15868133,15868138,15868144,15868148,15983904,15984416,15987951,16048416,16048617,16050157,16050162,16050666,16052e3,16052213,16054765,16379168,16706848]}name(t){return t&&t.fC1Bytes?"windows-1253":"ISO-8859-7"}language(){return"el"}},e.ISO_8859_8=class extends a{byteMap(){return[32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,0,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,32,32,32,32,32,32,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,181,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,242,243,244,245,246,247,248,249,250,32,32,32,32,32]}ngrams(){return[new i("he",[2154725,2154727,2154729,2154746,2154985,2154990,2155744,2155749,2155753,2155758,2155762,2155769,2155770,2157792,2157796,2158304,2159340,2161132,14744096,14950624,14950625,14950628,14950636,14950638,14950649,15001056,15065120,15068448,15068960,15071264,15071776,15278308,15328288,15328762,15329773,15330592,15331104,15333408,15333920,15474912,15474916,15523872,15524896,15540448,15540449,15540452,15540460,15540462,15540473,15655968,15671524,15787040,15788320,15788525,15920160,16261348,16312813,16378912,16392416,16392417,16392420,16392428,16392430,16392441]),new i("he",[2154725,2154732,2155753,2155756,2155758,2155760,2157040,2157810,2157817,2158053,2158057,2158565,2158569,2160869,2160873,2161376,2161381,2161385,14688484,14688492,14688493,14688506,14738464,14738916,14740512,14741024,14754020,14754029,14754042,14950628,14950633,14950636,14950637,14950639,14950648,14950650,15002656,15065120,15066144,15196192,15327264,15327520,15328288,15474916,15474925,15474938,15528480,15530272,15591913,15591920,15591928,15605988,15605997,15606010,15655200,15655968,15918112,16326884,16326893,16326906,16376864,16441376,16442400,16442857])]}name(t){return t&&t.fC1Bytes?"windows-1255":"ISO-8859-8"}language(){return"he"}},e.ISO_8859_9=class extends a{byteMap(){return[32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,0,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,32,32,32,32,32,32,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,170,32,32,32,32,32,32,32,32,32,32,181,32,32,32,32,186,32,32,32,32,32,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,242,243,244,245,246,32,248,249,250,251,252,105,254,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,242,243,244,245,246,32,248,249,250,251,252,253,254,255]}ngrams(){return[2122337,2122345,2122357,2122849,2122853,2123621,2123873,2124140,2124641,2124655,2125153,2125676,2126689,2126945,2127461,2128225,6365282,6384416,6384737,6384993,6385184,6385405,6386208,6386273,6386429,6386685,6388065,6449522,6578464,6579488,6580512,6627426,6627435,6644841,6647328,6648352,6648425,6648681,6909029,6909472,6909545,6910496,7102830,7102834,7103776,7103858,7217249,7217250,7217259,7234657,7234661,7234848,7235872,7235950,7273760,7498094,7535982,7759136,7954720,7958386,16608800,16608868,16609021,16642301]}name(t){return t&&t.fC1Bytes?"windows-1254":"ISO-8859-9"}language(){return"tr"}},e.windows_1251=class extends a{byteMap(){return[32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,0,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,32,32,32,32,32,32,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,32,32,32,32,32,144,131,32,131,32,32,32,32,32,32,154,32,156,157,158,159,144,32,32,32,32,32,32,32,32,32,154,32,156,157,158,159,32,162,162,188,32,180,32,32,184,32,186,32,32,32,32,191,32,32,179,179,180,181,32,32,184,32,186,32,188,190,190,191,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,242,243,244,245,246,247,248,249,250,251,252,253,254,255,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,242,243,244,245,246,247,248,249,250,251,252,253,254,255]}ngrams(){return[2155040,2155246,2155758,2156512,2156576,2157280,2157294,2158048,2158053,2158305,2158574,2158576,2158816,2159086,2159090,2159342,2160626,2162162,14740968,14742268,14937632,15068156,15068648,15069682,15069728,15212783,15263008,15263776,15269664,15459821,15460384,15465709,15589408,15590688,15591653,15591679,15592992,15593186,15605986,15605999,15606001,15655456,15655648,15655918,15657248,15657980,15658016,15659506,15724267,15724773,15724776,15724782,15786210,15787492,15856352,15856354,15856360,15859488,15918571,15920672,15920880,15924256,16249582,16512288]}name(){return"windows-1251"}language(){return"ru"}},e.windows_1256=class extends a{byteMap(){return[32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,0,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,32,32,32,32,32,32,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,32,32,32,32,32,32,129,32,131,32,32,32,32,136,32,138,32,156,141,142,143,144,32,32,32,32,32,32,32,152,32,154,32,156,32,32,159,32,32,32,32,32,32,32,32,32,32,170,32,32,32,32,32,32,32,32,32,32,181,32,32,32,32,32,32,32,32,32,32,192,193,194,195,196,197,198,199,200,201,202,203,204,205,206,207,208,209,210,211,212,213,214,32,216,217,218,219,220,221,222,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,32,32,32,32,244,32,32,32,32,249,32,251,252,32,32,255]}ngrams(){return[2148321,2148324,2148551,2153185,2153965,2154977,2155492,2156231,13050055,13091104,13093408,13095200,13099296,13099459,13099463,13099464,13099466,13099468,13099469,13099471,13099475,13099482,13099486,13099491,13099494,13099501,13099808,13100064,13100234,13115591,13181127,13181149,13181153,13181155,13181158,13246663,13574343,13617440,13705415,13748512,13836487,14295239,14344684,14544160,14753991,14797088,14806048,14806304,14885063,14927648,14928160,14935072,14950599,15016135,15058720,15124449,15131680,15474887,15540423,15540451,15540454,15583520,15585568,15590432]}name(){return"windows-1256"}language(){return"ar"}},e.KOI8_R=class extends a{byteMap(){return[32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,0,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,32,32,32,32,32,32,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,163,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,163,32,32,32,32,32,32,32,32,32,32,32,32,192,193,194,195,196,197,198,199,200,201,202,203,204,205,206,207,208,209,210,211,212,213,214,215,216,217,218,219,220,221,222,223,192,193,194,195,196,197,198,199,200,201,202,203,204,205,206,207,208,209,210,211,212,213,214,215,216,217,218,219,220,221,222,223]}ngrams(){return[2147535,2148640,2149313,2149327,2150081,2150085,2150338,2150607,2150610,2151105,2151375,2151380,2151631,2152224,2152399,2153153,2153684,2154196,12701385,12702936,12963032,12963529,12964820,12964896,13094688,13181136,13223200,13224224,13226272,13419982,13420832,13424846,13549856,13550880,13552069,13552081,13553440,13553623,13574352,13574355,13574359,13617103,13617696,13618392,13618464,13620180,13621024,13621185,13684684,13685445,13685449,13685455,13812183,13813188,13881632,13882561,13882569,13882583,13944268,13946656,13946834,13948960,14272544,14603471]}name(){return"KOI8-R"}language(){return"ru"}}},7423:function(t,e,r){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.UTF_32LE=e.UTF_32BE=e.UTF_16LE=e.UTF_16BE=void 0;const o=n(r(6327));e.UTF_16BE=class{name(){return"UTF-16BE"}match(t){const e=t.fRawInput;return e.length>=2&&254==(255&e[0])&&255==(255&e[1])?o.default(t,this,100):null}},e.UTF_16LE=class{name(){return"UTF-16LE"}match(t){const e=t.fRawInput;return e.length>=2&&255==(255&e[0])&&254==(255&e[1])?e.length>=4&&0==e[2]&&0==e[3]?null:o.default(t,this,100):null}};class s{name(){return"UTF-32"}getChar(t,e){return-1}match(t){let e=0,r=0,n=!1,s=0;const i=t.fRawLength/4*4,a=t.fRawInput;if(0==i)return null;65279==this.getChar(a,0)&&(n=!0);for(let t=0;t<i;t+=4){const n=this.getChar(a,t);n<0||n>=1114111||n>=55296&&n<=57343?r+=1:e+=1}return n&&0==r?s=100:n&&e>10*r?s=80:e>3&&0==r?s=100:e>0&&0==r?s=80:e>10*r&&(s=25),0==s?null:o.default(t,this,s)}}e.UTF_32BE=class extends s{name(){return"UTF-32BE"}getChar(t,e){return(255&t[e+0])<<24|(255&t[e+1])<<16|(255&t[e+2])<<8|255&t[e+3]}},e.UTF_32LE=class extends s{name(){return"UTF-32LE"}getChar(t,e){return(255&t[e+3])<<24|(255&t[e+2])<<16|(255&t[e+1])<<8|255&t[e+0]}}},4101:function(t,e,r){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const o=n(r(6327));e.default=class{name(){return"UTF-8"}match(t){let e,r=!1,n=0,s=0,i=0;const a=t.fRawInput;t.fRawLength>=3&&239==(255&a[0])&&187==(255&a[1])&&191==(255&a[2])&&(r=!0);for(let e=0;e<t.fRawLength;e++){const r=a[e];if(0!=(128&r)){if(192==(224&r))i=1;else if(224==(240&r))i=2;else if(240==(248&r))i=3;else{if(s++,s>5)break;i=0}for(;e++,!(e>=t.fRawLength);){if(128!=(192&a[e])){s++;break}if(0==--i){n++;break}}}}if(e=0,r&&0==s)e=100;else if(r&&n>10*s)e=80;else if(n>3&&0==s)e=100;else if(n>0&&0==s)e=80;else if(0==n&&0==s)e=10;else{if(!(n>10*s))return null;e=25}return o.default(t,this,e)}}},671:(t,e,r)=>{"use strict";let n;Object.defineProperty(e,"__esModule",{value:!0}),e.default=()=>{if("object"==typeof t.exports)return n=n||r(5747),n;throw new Error("File system is not available")}},6729:function(t,e,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(t,e,r,n){void 0===n&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){void 0===n&&(n=r),t[n]=e[r]}),o=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),s=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)"default"!==r&&Object.prototype.hasOwnProperty.call(t,r)&&n(e,t,r);return o(e,t),e},i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.detectFileSync=e.detectFile=e.analyse=e.detect=void 0;const a=i(r(671)),c=i(r(4101)),u=s(r(7423)),h=s(r(6893)),l=s(r(2708)),p=s(r(3903)),d=[new c.default,new u.UTF_16BE,new u.UTF_16LE,new u.UTF_32BE,new u.UTF_32LE,new h.sjis,new h.big5,new h.euc_jp,new h.euc_kr,new h.gb_18030,new p.ISO_2022_JP,new p.ISO_2022_KR,new p.ISO_2022_CN,new l.ISO_8859_1,new l.ISO_8859_2,new l.ISO_8859_5,new l.ISO_8859_6,new l.ISO_8859_7,new l.ISO_8859_8,new l.ISO_8859_9,new l.windows_1251,new l.windows_1256,new l.KOI8_R];e.detect=t=>{const r=e.analyse(t);return r.length>0?r[0].name:null},e.analyse=t=>{const e=[];for(let t=0;t<256;t++)e[t]=0;for(let r=t.length-1;r>=0;r--)e[255&t[r]]++;let r=!1;for(let t=128;t<=159;t+=1)if(0!==e[t]){r=!0;break}const n={fByteStats:e,fC1Bytes:r,fRawInput:t,fRawLength:t.length,fInputBytes:t,fInputLen:t.length};return d.map((t=>t.match(n))).filter((t=>!!t)).sort(((t,e)=>e.confidence-t.confidence))},e.detectFile=(t,r={})=>new Promise(((n,o)=>{let s;const i=a.default(),c=(t,r)=>{s&&i.closeSync(s),t?o(t):n(e.detect(r))};if(r&&r.sampleSize){s=i.openSync(t,"r");const e=Buffer.allocUnsafe(r.sampleSize);i.read(s,e,0,r.sampleSize,null,(t=>{c(t,e)}))}else i.readFile(t,c)})),e.detectFileSync=(t,r={})=>{const n=a.default();if(r&&r.sampleSize){const o=n.openSync(t,"r"),s=Buffer.allocUnsafe(r.sampleSize);return n.readSync(o,s,0,r.sampleSize),n.closeSync(o),e.detect(s)}return e.detect(n.readFileSync(t))},e.default={analyse:e.analyse,detect:e.detect,detectFileSync:e.detectFileSync,detectFile:e.detectFile}},6327:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=(t,e,r,n,o)=>({confidence:r,name:n||e.name(t),lang:o})},1048:t=>{t.exports=function(t,r){for(var n=[],o=0;o<t.length;o++){var s=r(t[o],o);e(s)?n.push.apply(n,s):n.push(s)}return n};var e=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)}},7484:function(t){t.exports=function(){"use strict";var t=6e4,e=36e5,r="millisecond",n="second",o="minute",s="hour",i="day",a="week",c="month",u="quarter",h="year",l="date",p="Invalid Date",d=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,f=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,m={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_")},g=function(t,e,r){var n=String(t);return!n||n.length>=e?t:""+Array(e+1-n.length).join(r)+t},y={s:g,z:function(t){var e=-t.utcOffset(),r=Math.abs(e),n=Math.floor(r/60),o=r%60;return(e<=0?"+":"-")+g(n,2,"0")+":"+g(o,2,"0")},m:function t(e,r){if(e.date()<r.date())return-t(r,e);var n=12*(r.year()-e.year())+(r.month()-e.month()),o=e.clone().add(n,c),s=r-o<0,i=e.clone().add(n+(s?-1:1),c);return+(-(n+(r-o)/(s?o-i:i-o))||0)},a:function(t){return t<0?Math.ceil(t)||0:Math.floor(t)},p:function(t){return{M:c,y:h,w:a,d:i,D:l,h:s,m:o,s:n,ms:r,Q:u}[t]||String(t||"").toLowerCase().replace(/s$/,"")},u:function(t){return void 0===t}},v="en",w={};w[v]=m;var E=function(t){return t instanceof O},b=function(t,e,r){var n;if(!t)return v;if("string"==typeof t)w[t]&&(n=t),e&&(w[t]=e,n=t);else{var o=t.name;w[o]=t,n=o}return!r&&n&&(v=n),n||!r&&v},C=function(t,e){if(E(t))return t.clone();var r="object"==typeof e?e:{};return r.date=t,r.args=arguments,new O(r)},_=y;_.l=b,_.i=E,_.w=function(t,e){return C(t,{locale:e.$L,utc:e.$u,x:e.$x,$offset:e.$offset})};var O=function(){function m(t){this.$L=b(t.locale,null,!0),this.parse(t)}var g=m.prototype;return g.parse=function(t){this.$d=function(t){var e=t.date,r=t.utc;if(null===e)return new Date(NaN);if(_.u(e))return new Date;if(e instanceof Date)return new Date(e);if("string"==typeof e&&!/Z$/i.test(e)){var n=e.match(d);if(n){var o=n[2]-1||0,s=(n[7]||"0").substring(0,3);return r?new Date(Date.UTC(n[1],o,n[3]||1,n[4]||0,n[5]||0,n[6]||0,s)):new Date(n[1],o,n[3]||1,n[4]||0,n[5]||0,n[6]||0,s)}}return new Date(e)}(t),this.$x=t.x||{},this.init()},g.init=function(){var t=this.$d;this.$y=t.getFullYear(),this.$M=t.getMonth(),this.$D=t.getDate(),this.$W=t.getDay(),this.$H=t.getHours(),this.$m=t.getMinutes(),this.$s=t.getSeconds(),this.$ms=t.getMilliseconds()},g.$utils=function(){return _},g.isValid=function(){return!(this.$d.toString()===p)},g.isSame=function(t,e){var r=C(t);return this.startOf(e)<=r&&r<=this.endOf(e)},g.isAfter=function(t,e){return C(t)<this.startOf(e)},g.isBefore=function(t,e){return this.endOf(e)<C(t)},g.$g=function(t,e,r){return _.u(t)?this[e]:this.set(r,t)},g.unix=function(){return Math.floor(this.valueOf()/1e3)},g.valueOf=function(){return this.$d.getTime()},g.startOf=function(t,e){var r=this,u=!!_.u(e)||e,p=_.p(t),d=function(t,e){var n=_.w(r.$u?Date.UTC(r.$y,e,t):new Date(r.$y,e,t),r);return u?n:n.endOf(i)},f=function(t,e){return _.w(r.toDate()[t].apply(r.toDate("s"),(u?[0,0,0,0]:[23,59,59,999]).slice(e)),r)},m=this.$W,g=this.$M,y=this.$D,v="set"+(this.$u?"UTC":"");switch(p){case h:return u?d(1,0):d(31,11);case c:return u?d(1,g):d(0,g+1);case a:var w=this.$locale().weekStart||0,E=(m<w?m+7:m)-w;return d(u?y-E:y+(6-E),g);case i:case l:return f(v+"Hours",0);case s:return f(v+"Minutes",1);case o:return f(v+"Seconds",2);case n:return f(v+"Milliseconds",3);default:return this.clone()}},g.endOf=function(t){return this.startOf(t,!1)},g.$set=function(t,e){var a,u=_.p(t),p="set"+(this.$u?"UTC":""),d=(a={},a[i]=p+"Date",a[l]=p+"Date",a[c]=p+"Month",a[h]=p+"FullYear",a[s]=p+"Hours",a[o]=p+"Minutes",a[n]=p+"Seconds",a[r]=p+"Milliseconds",a)[u],f=u===i?this.$D+(e-this.$W):e;if(u===c||u===h){var m=this.clone().set(l,1);m.$d[d](f),m.init(),this.$d=m.set(l,Math.min(this.$D,m.daysInMonth())).$d}else d&&this.$d[d](f);return this.init(),this},g.set=function(t,e){return this.clone().$set(t,e)},g.get=function(t){return this[_.p(t)]()},g.add=function(r,u){var l,p=this;r=Number(r);var d=_.p(u),f=function(t){var e=C(p);return _.w(e.date(e.date()+Math.round(t*r)),p)};if(d===c)return this.set(c,this.$M+r);if(d===h)return this.set(h,this.$y+r);if(d===i)return f(1);if(d===a)return f(7);var m=(l={},l[o]=t,l[s]=e,l[n]=1e3,l)[d]||1,g=this.$d.getTime()+r*m;return _.w(g,this)},g.subtract=function(t,e){return this.add(-1*t,e)},g.format=function(t){var e=this,r=this.$locale();if(!this.isValid())return r.invalidDate||p;var n=t||"YYYY-MM-DDTHH:mm:ssZ",o=_.z(this),s=this.$H,i=this.$m,a=this.$M,c=r.weekdays,u=r.months,h=function(t,r,o,s){return t&&(t[r]||t(e,n))||o[r].substr(0,s)},l=function(t){return _.s(s%12||12,t,"0")},d=r.meridiem||function(t,e,r){var n=t<12?"AM":"PM";return r?n.toLowerCase():n},m={YY:String(this.$y).slice(-2),YYYY:this.$y,M:a+1,MM:_.s(a+1,2,"0"),MMM:h(r.monthsShort,a,u,3),MMMM:h(u,a),D:this.$D,DD:_.s(this.$D,2,"0"),d:String(this.$W),dd:h(r.weekdaysMin,this.$W,c,2),ddd:h(r.weekdaysShort,this.$W,c,3),dddd:c[this.$W],H:String(s),HH:_.s(s,2,"0"),h:l(1),hh:l(2),a:d(s,i,!0),A:d(s,i,!1),m:String(i),mm:_.s(i,2,"0"),s:String(this.$s),ss:_.s(this.$s,2,"0"),SSS:_.s(this.$ms,3,"0"),Z:o};return n.replace(f,(function(t,e){return e||m[t]||o.replace(":","")}))},g.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},g.diff=function(r,l,p){var d,f=_.p(l),m=C(r),g=(m.utcOffset()-this.utcOffset())*t,y=this-m,v=_.m(this,m);return v=(d={},d[h]=v/12,d[c]=v,d[u]=v/3,d[a]=(y-g)/6048e5,d[i]=(y-g)/864e5,d[s]=y/e,d[o]=y/t,d[n]=y/1e3,d)[f]||y,p?v:_.a(v)},g.daysInMonth=function(){return this.endOf(c).$D},g.$locale=function(){return w[this.$L]},g.locale=function(t,e){if(!t)return this.$L;var r=this.clone(),n=b(t,e,!0);return n&&(r.$L=n),r},g.clone=function(){return _.w(this.$d,this)},g.toDate=function(){return new Date(this.valueOf())},g.toJSON=function(){return this.isValid()?this.toISOString():null},g.toISOString=function(){return this.$d.toISOString()},g.toString=function(){return this.$d.toUTCString()},m}(),S=O.prototype;return C.prototype=S,[["$ms",r],["$s",n],["$m",o],["$H",s],["$W",i],["$M",c],["$y",h],["$D",l]].forEach((function(t){S[t[1]]=function(e){return this.$g(e,t[0],t[1])}})),C.extend=function(t,e){return t.$i||(t(e,O,C),t.$i=!0),C},C.locale=b,C.isDayjs=E,C.unix=function(t){return C(1e3*t)},C.en=w[v],C.Ls=w,C.p={},C}()},4110:function(t){t.exports=function(){"use strict";return function(t,e,r){t=t||{};var n=e.prototype,o={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function s(t,e,r,o){return n.fromToBase(t,e,r,o)}r.en.relativeTime=o,n.fromToBase=function(e,n,s,i,a){for(var c,u,h,l=s.$locale().relativeTime||o,p=t.thresholds||[{l:"s",r:44,d:"second"},{l:"m",r:89},{l:"mm",r:44,d:"minute"},{l:"h",r:89},{l:"hh",r:21,d:"hour"},{l:"d",r:35},{l:"dd",r:25,d:"day"},{l:"M",r:45},{l:"MM",r:10,d:"month"},{l:"y",r:17},{l:"yy",d:"year"}],d=p.length,f=0;f<d;f+=1){var m=p[f];m.d&&(c=i?r(e).diff(s,m.d,!0):s.diff(e,m.d,!0));var g=(t.rounding||Math.round)(Math.abs(c));if(h=c>0,g<=m.r||!m.r){g<=1&&f>0&&(m=p[f-1]);var y=l[m.l];a&&(g=a(""+g)),u="string"==typeof y?y.replace("%d",g):y(g,n,m.l,h);break}}if(n)return u;var v=h?l.future:l.past;return"function"==typeof v?v(u):v.replace("%s",u)},n.to=function(t,e){return s(t,e,this,!0)},n.from=function(t,e){return s(t,e,this)};var i=function(t){return t.$u?r.utc():r()};n.toNow=function(t){return this.to(i(this),t)},n.fromNow=function(t){return this.from(i(this),t)}}}()},7334:(t,e,r)=>{t.exports=h,h.realpath=h,h.sync=l,h.realpathSync=l,h.monkeypatch=function(){n.realpath=h,n.realpathSync=l},h.unmonkeypatch=function(){n.realpath=o,n.realpathSync=s};var n=r(5747),o=n.realpath,s=n.realpathSync,i=process.version,a=/^v[0-5]\./.test(i),c=r(7059);function u(t){return t&&"realpath"===t.syscall&&("ELOOP"===t.code||"ENOMEM"===t.code||"ENAMETOOLONG"===t.code)}function h(t,e,r){if(a)return o(t,e,r);"function"==typeof e&&(r=e,e=null),o(t,e,(function(n,o){u(n)?c.realpath(t,e,r):r(n,o)}))}function l(t,e){if(a)return s(t,e);try{return s(t,e)}catch(r){if(u(r))return c.realpathSync(t,e);throw r}}},7059:(t,e,r)=>{var n=r(5622),o="win32"===process.platform,s=r(5747),i=process.env.NODE_DEBUG&&/fs/.test(process.env.NODE_DEBUG);if(n.normalize,o)var a=/(.*?)(?:[\/\\]+|$)/g;else a=/(.*?)(?:[\/]+|$)/g;if(o)var c=/^(?:[a-zA-Z]:|[\\\/]{2}[^\\\/]+[\\\/][^\\\/]+)?[\\\/]*/;else c=/^[\/]*/;e.realpathSync=function(t,e){if(t=n.resolve(t),e&&Object.prototype.hasOwnProperty.call(e,t))return e[t];var r,i,u,h,l=t,p={},d={};function f(){var e=c.exec(t);r=e[0].length,i=e[0],u=e[0],h="",o&&!d[u]&&(s.lstatSync(u),d[u]=!0)}for(f();r<t.length;){a.lastIndex=r;var m=a.exec(t);if(h=i,i+=m[0],u=h+m[1],r=a.lastIndex,!(d[u]||e&&e[u]===u)){var g;if(e&&Object.prototype.hasOwnProperty.call(e,u))g=e[u];else{var y=s.lstatSync(u);if(!y.isSymbolicLink()){d[u]=!0,e&&(e[u]=u);continue}var v=null;if(!o){var w=y.dev.toString(32)+":"+y.ino.toString(32);p.hasOwnProperty(w)&&(v=p[w])}null===v&&(s.statSync(u),v=s.readlinkSync(u)),g=n.resolve(h,v),e&&(e[u]=g),o||(p[w]=v)}t=n.resolve(g,t.slice(r)),f()}}return e&&(e[l]=t),t},e.realpath=function(t,e,r){if("function"!=typeof r&&(r=function(t){return"function"==typeof t?t:function(){var t;if(i){var e=new Error;t=function(t){t&&(e.message=t.message,r(t=e))}}else t=r;return t;function r(t){if(t){if(process.throwDeprecation)throw t;if(!process.noDeprecation){var e="fs: missing callback "+(t.stack||t.message);process.traceDeprecation?console.trace(e):console.error(e)}}}}()}(e),e=null),t=n.resolve(t),e&&Object.prototype.hasOwnProperty.call(e,t))return process.nextTick(r.bind(null,null,e[t]));var u,h,l,p,d=t,f={},m={};function g(){var e=c.exec(t);u=e[0].length,h=e[0],l=e[0],p="",o&&!m[l]?s.lstat(l,(function(t){if(t)return r(t);m[l]=!0,y()})):process.nextTick(y)}function y(){if(u>=t.length)return e&&(e[d]=t),r(null,t);a.lastIndex=u;var n=a.exec(t);return p=h,h+=n[0],l=p+n[1],u=a.lastIndex,m[l]||e&&e[l]===l?process.nextTick(y):e&&Object.prototype.hasOwnProperty.call(e,l)?E(e[l]):s.lstat(l,v)}function v(t,n){if(t)return r(t);if(!n.isSymbolicLink())return m[l]=!0,e&&(e[l]=l),process.nextTick(y);if(!o){var i=n.dev.toString(32)+":"+n.ino.toString(32);if(f.hasOwnProperty(i))return w(null,f[i],l)}s.stat(l,(function(t){if(t)return r(t);s.readlink(l,(function(t,e){o||(f[i]=e),w(t,e)}))}))}function w(t,o,s){if(t)return r(t);var i=n.resolve(p,o);e&&(e[s]=i),E(i)}function E(e){t=n.resolve(e,t.slice(u)),g()}g()}},6772:(t,e,r)=>{function n(t,e){return Object.prototype.hasOwnProperty.call(t,e)}e.setopts=function(t,e,r){if(r||(r={}),r.matchBase&&-1===e.indexOf("/")){if(r.noglobstar)throw new Error("base matching requires globstar");e="**/"+e}t.silent=!!r.silent,t.pattern=e,t.strict=!1!==r.strict,t.realpath=!!r.realpath,t.realpathCache=r.realpathCache||Object.create(null),t.follow=!!r.follow,t.dot=!!r.dot,t.mark=!!r.mark,t.nodir=!!r.nodir,t.nodir&&(t.mark=!0),t.sync=!!r.sync,t.nounique=!!r.nounique,t.nonull=!!r.nonull,t.nosort=!!r.nosort,t.nocase=!!r.nocase,t.stat=!!r.stat,t.noprocess=!!r.noprocess,t.absolute=!!r.absolute,t.maxLength=r.maxLength||1/0,t.cache=r.cache||Object.create(null),t.statCache=r.statCache||Object.create(null),t.symlinks=r.symlinks||Object.create(null),function(t,e){t.ignore=e.ignore||[],Array.isArray(t.ignore)||(t.ignore=[t.ignore]),t.ignore.length&&(t.ignore=t.ignore.map(u))}(t,r),t.changedCwd=!1;var s=process.cwd();n(r,"cwd")?(t.cwd=o.resolve(r.cwd),t.changedCwd=t.cwd!==s):t.cwd=s,t.root=r.root||o.resolve(t.cwd,"/"),t.root=o.resolve(t.root),"win32"===process.platform&&(t.root=t.root.replace(/\\/g,"/")),t.cwdAbs=i(t.cwd)?t.cwd:h(t,t.cwd),"win32"===process.platform&&(t.cwdAbs=t.cwdAbs.replace(/\\/g,"/")),t.nomount=!!r.nomount,r.nonegate=!0,r.nocomment=!0,t.minimatch=new a(e,r),t.options=t.minimatch.options},e.ownProp=n,e.makeAbs=h,e.finish=function(t){for(var e=t.nounique,r=e?[]:Object.create(null),n=0,o=t.matches.length;n<o;n++){var s=t.matches[n];if(s&&0!==Object.keys(s).length){var i=Object.keys(s);e?r.push.apply(r,i):i.forEach((function(t){r[t]=!0}))}else if(t.nonull){var a=t.minimatch.globSet[n];e?r.push(a):r[a]=!0}}if(e||(r=Object.keys(r)),t.nosort||(r=r.sort(c)),t.mark){for(n=0;n<r.length;n++)r[n]=t._mark(r[n]);t.nodir&&(r=r.filter((function(e){var r=!/\/$/.test(e),n=t.cache[e]||t.cache[h(t,e)];return r&&n&&(r="DIR"!==n&&!Array.isArray(n)),r})))}t.ignore.length&&(r=r.filter((function(e){return!l(t,e)}))),t.found=r},e.mark=function(t,e){var r=h(t,e),n=t.cache[r],o=e;if(n){var s="DIR"===n||Array.isArray(n),i="/"===e.slice(-1);if(s&&!i?o+="/":!s&&i&&(o=o.slice(0,-1)),o!==e){var a=h(t,o);t.statCache[a]=t.statCache[r],t.cache[a]=t.cache[r]}}return o},e.isIgnored=l,e.childrenIgnored=function(t,e){return!!t.ignore.length&&t.ignore.some((function(t){return!(!t.gmatcher||!t.gmatcher.match(e))}))};var o=r(5622),s=r(1171),i=r(4095),a=s.Minimatch;function c(t,e){return t.localeCompare(e,"en")}function u(t){var e=null;if("/**"===t.slice(-3)){var r=t.replace(/(\/\*\*)+$/,"");e=new a(r,{dot:!0})}return{matcher:new a(t,{dot:!0}),gmatcher:e}}function h(t,e){var r=e;return r="/"===e.charAt(0)?o.join(t.root,e):i(e)||""===e?e:t.changedCwd?o.resolve(t.cwd,e):o.resolve(e),"win32"===process.platform&&(r=r.replace(/\\/g,"/")),r}function l(t,e){return!!t.ignore.length&&t.ignore.some((function(t){return t.matcher.match(e)||!(!t.gmatcher||!t.gmatcher.match(e))}))}},2884:(t,e,r)=>{t.exports=w;var n=r(5747),o=r(7334),s=r(1171),i=(s.Minimatch,r(4378)),a=r(8614).EventEmitter,c=r(5622),u=r(2357),h=r(4095),l=r(4751),p=r(6772),d=p.setopts,f=p.ownProp,m=r(7844),g=(r(1669),p.childrenIgnored),y=p.isIgnored,v=r(778);function w(t,e,r){if("function"==typeof e&&(r=e,e={}),e||(e={}),e.sync){if(r)throw new TypeError("callback provided to sync glob");return l(t,e)}return new b(t,e,r)}w.sync=l;var E=w.GlobSync=l.GlobSync;function b(t,e,r){if("function"==typeof e&&(r=e,e=null),e&&e.sync){if(r)throw new TypeError("callback provided to sync glob");return new E(t,e)}if(!(this instanceof b))return new b(t,e,r);d(this,t,e),this._didRealPath=!1;var n=this.minimatch.set.length;this.matches=new Array(n),"function"==typeof r&&(r=v(r),this.on("error",r),this.on("end",(function(t){r(null,t)})));var o=this;if(this._processing=0,this._emitQueue=[],this._processQueue=[],this.paused=!1,this.noprocess)return this;if(0===n)return i();for(var s=0;s<n;s++)this._process(this.minimatch.set[s],s,!1,i);function i(){--o._processing,o._processing<=0&&o._finish()}}w.glob=w,w.hasMagic=function(t,e){var r=function(t,e){if(null===e||"object"!=typeof e)return t;for(var r=Object.keys(e),n=r.length;n--;)t[r[n]]=e[r[n]];return t}({},e);r.noprocess=!0;var n=new b(t,r).minimatch.set;if(!t)return!1;if(n.length>1)return!0;for(var o=0;o<n[0].length;o++)if("string"!=typeof n[0][o])return!0;return!1},w.Glob=b,i(b,a),b.prototype._finish=function(){if(u(this instanceof b),!this.aborted){if(this.realpath&&!this._didRealpath)return this._realpath();p.finish(this),this.emit("end",this.found)}},b.prototype._realpath=function(){if(!this._didRealpath){this._didRealpath=!0;var t=this.matches.length;if(0===t)return this._finish();for(var e=this,r=0;r<this.matches.length;r++)this._realpathSet(r,n)}function n(){0==--t&&e._finish()}},b.prototype._realpathSet=function(t,e){var r=this.matches[t];if(!r)return e();var n=Object.keys(r),s=this,i=n.length;if(0===i)return e();var a=this.matches[t]=Object.create(null);n.forEach((function(r,n){r=s._makeAbs(r),o.realpath(r,s.realpathCache,(function(n,o){n?"stat"===n.syscall?a[r]=!0:s.emit("error",n):a[o]=!0,0==--i&&(s.matches[t]=a,e())}))}))},b.prototype._mark=function(t){return p.mark(this,t)},b.prototype._makeAbs=function(t){return p.makeAbs(this,t)},b.prototype.abort=function(){this.aborted=!0,this.emit("abort")},b.prototype.pause=function(){this.paused||(this.paused=!0,this.emit("pause"))},b.prototype.resume=function(){if(this.paused){if(this.emit("resume"),this.paused=!1,this._emitQueue.length){var t=this._emitQueue.slice(0);this._emitQueue.length=0;for(var e=0;e<t.length;e++){var r=t[e];this._emitMatch(r[0],r[1])}}if(this._processQueue.length){var n=this._processQueue.slice(0);for(this._processQueue.length=0,e=0;e<n.length;e++){var o=n[e];this._processing--,this._process(o[0],o[1],o[2],o[3])}}}},b.prototype._process=function(t,e,r,n){if(u(this instanceof b),u("function"==typeof n),!this.aborted)if(this._processing++,this.paused)this._processQueue.push([t,e,r,n]);else{for(var o,i=0;"string"==typeof t[i];)i++;switch(i){case t.length:return void this._processSimple(t.join("/"),e,n);case 0:o=null;break;default:o=t.slice(0,i).join("/")}var a,c=t.slice(i);null===o?a=".":h(o)||h(t.join("/"))?(o&&h(o)||(o="/"+o),a=o):a=o;var l=this._makeAbs(a);if(g(this,a))return n();c[0]===s.GLOBSTAR?this._processGlobStar(o,a,l,c,e,r,n):this._processReaddir(o,a,l,c,e,r,n)}},b.prototype._processReaddir=function(t,e,r,n,o,s,i){var a=this;this._readdir(r,s,(function(c,u){return a._processReaddir2(t,e,r,n,o,s,u,i)}))},b.prototype._processReaddir2=function(t,e,r,n,o,s,i,a){if(!i)return a();for(var u=n[0],h=!!this.minimatch.negate,l=u._glob,p=this.dot||"."===l.charAt(0),d=[],f=0;f<i.length;f++)("."!==(g=i[f]).charAt(0)||p)&&(h&&!t?!g.match(u):g.match(u))&&d.push(g);var m=d.length;if(0===m)return a();if(1===n.length&&!this.mark&&!this.stat){for(this.matches[o]||(this.matches[o]=Object.create(null)),f=0;f<m;f++){var g=d[f];t&&(g="/"!==t?t+"/"+g:t+g),"/"!==g.charAt(0)||this.nomount||(g=c.join(this.root,g)),this._emitMatch(o,g)}return a()}for(n.shift(),f=0;f<m;f++)g=d[f],t&&(g="/"!==t?t+"/"+g:t+g),this._process([g].concat(n),o,s,a);a()},b.prototype._emitMatch=function(t,e){if(!this.aborted&&!y(this,e))if(this.paused)this._emitQueue.push([t,e]);else{var r=h(e)?e:this._makeAbs(e);if(this.mark&&(e=this._mark(e)),this.absolute&&(e=r),!this.matches[t][e]){if(this.nodir){var n=this.cache[r];if("DIR"===n||Array.isArray(n))return}this.matches[t][e]=!0;var o=this.statCache[r];o&&this.emit("stat",e,o),this.emit("match",e)}}},b.prototype._readdirInGlobStar=function(t,e){if(!this.aborted){if(this.follow)return this._readdir(t,!1,e);var r=this,o=m("lstat\0"+t,(function(n,o){if(n&&"ENOENT"===n.code)return e();var s=o&&o.isSymbolicLink();r.symlinks[t]=s,s||!o||o.isDirectory()?r._readdir(t,!1,e):(r.cache[t]="FILE",e())}));o&&n.lstat(t,o)}},b.prototype._readdir=function(t,e,r){if(!this.aborted&&(r=m("readdir\0"+t+"\0"+e,r))){if(e&&!f(this.symlinks,t))return this._readdirInGlobStar(t,r);if(f(this.cache,t)){var o=this.cache[t];if(!o||"FILE"===o)return r();if(Array.isArray(o))return r(null,o)}n.readdir(t,function(t,e,r){return function(n,o){n?t._readdirError(e,n,r):t._readdirEntries(e,o,r)}}(this,t,r))}},b.prototype._readdirEntries=function(t,e,r){if(!this.aborted){if(!this.mark&&!this.stat)for(var n=0;n<e.length;n++){var o=e[n];o="/"===t?t+o:t+"/"+o,this.cache[o]=!0}return this.cache[t]=e,r(null,e)}},b.prototype._readdirError=function(t,e,r){if(!this.aborted){switch(e.code){case"ENOTSUP":case"ENOTDIR":var n=this._makeAbs(t);if(this.cache[n]="FILE",n===this.cwdAbs){var o=new Error(e.code+" invalid cwd "+this.cwd);o.path=this.cwd,o.code=e.code,this.emit("error",o),this.abort()}break;case"ENOENT":case"ELOOP":case"ENAMETOOLONG":case"UNKNOWN":this.cache[this._makeAbs(t)]=!1;break;default:this.cache[this._makeAbs(t)]=!1,this.strict&&(this.emit("error",e),this.abort()),this.silent||console.error("glob error",e)}return r()}},b.prototype._processGlobStar=function(t,e,r,n,o,s,i){var a=this;this._readdir(r,s,(function(c,u){a._processGlobStar2(t,e,r,n,o,s,u,i)}))},b.prototype._processGlobStar2=function(t,e,r,n,o,s,i,a){if(!i)return a();var c=n.slice(1),u=t?[t]:[],h=u.concat(c);this._process(h,o,!1,a);var l=this.symlinks[r],p=i.length;if(l&&s)return a();for(var d=0;d<p;d++)if("."!==i[d].charAt(0)||this.dot){var f=u.concat(i[d],c);this._process(f,o,!0,a);var m=u.concat(i[d],n);this._process(m,o,!0,a)}a()},b.prototype._processSimple=function(t,e,r){var n=this;this._stat(t,(function(o,s){n._processSimple2(t,e,o,s,r)}))},b.prototype._processSimple2=function(t,e,r,n,o){if(this.matches[e]||(this.matches[e]=Object.create(null)),!n)return o();if(t&&h(t)&&!this.nomount){var s=/[\/\\]$/.test(t);"/"===t.charAt(0)?t=c.join(this.root,t):(t=c.resolve(this.root,t),s&&(t+="/"))}"win32"===process.platform&&(t=t.replace(/\\/g,"/")),this._emitMatch(e,t),o()},b.prototype._stat=function(t,e){var r=this._makeAbs(t),o="/"===t.slice(-1);if(t.length>this.maxLength)return e();if(!this.stat&&f(this.cache,r)){var s=this.cache[r];if(Array.isArray(s)&&(s="DIR"),!o||"DIR"===s)return e(null,s);if(o&&"FILE"===s)return e()}var i=this.statCache[r];if(void 0!==i){if(!1===i)return e(null,i);var a=i.isDirectory()?"DIR":"FILE";return o&&"FILE"===a?e():e(null,a,i)}var c=this,u=m("stat\0"+r,(function(o,s){if(s&&s.isSymbolicLink())return n.stat(r,(function(n,o){n?c._stat2(t,r,null,s,e):c._stat2(t,r,n,o,e)}));c._stat2(t,r,o,s,e)}));u&&n.lstat(r,u)},b.prototype._stat2=function(t,e,r,n,o){if(r&&("ENOENT"===r.code||"ENOTDIR"===r.code))return this.statCache[e]=!1,o();var s="/"===t.slice(-1);if(this.statCache[e]=n,"/"===e.slice(-1)&&n&&!n.isDirectory())return o(null,!1,n);var i=!0;return n&&(i=n.isDirectory()?"DIR":"FILE"),this.cache[e]=this.cache[e]||i,s&&"FILE"===i?o():o(null,i,n)}},4751:(t,e,r)=>{t.exports=f,f.GlobSync=m;var n=r(5747),o=r(7334),s=r(1171),i=(s.Minimatch,r(2884).Glob,r(1669),r(5622)),a=r(2357),c=r(4095),u=r(6772),h=u.setopts,l=u.ownProp,p=u.childrenIgnored,d=u.isIgnored;function f(t,e){if("function"==typeof e||3===arguments.length)throw new TypeError("callback provided to sync glob\nSee: https://github.com/isaacs/node-glob/issues/167");return new m(t,e).found}function m(t,e){if(!t)throw new Error("must provide pattern");if("function"==typeof e||3===arguments.length)throw new TypeError("callback provided to sync glob\nSee: https://github.com/isaacs/node-glob/issues/167");if(!(this instanceof m))return new m(t,e);if(h(this,t,e),this.noprocess)return this;var r=this.minimatch.set.length;this.matches=new Array(r);for(var n=0;n<r;n++)this._process(this.minimatch.set[n],n,!1);this._finish()}m.prototype._finish=function(){if(a(this instanceof m),this.realpath){var t=this;this.matches.forEach((function(e,r){var n=t.matches[r]=Object.create(null);for(var s in e)try{s=t._makeAbs(s),n[o.realpathSync(s,t.realpathCache)]=!0}catch(e){if("stat"!==e.syscall)throw e;n[t._makeAbs(s)]=!0}}))}u.finish(this)},m.prototype._process=function(t,e,r){a(this instanceof m);for(var n,o=0;"string"==typeof t[o];)o++;switch(o){case t.length:return void this._processSimple(t.join("/"),e);case 0:n=null;break;default:n=t.slice(0,o).join("/")}var i,u=t.slice(o);null===n?i=".":c(n)||c(t.join("/"))?(n&&c(n)||(n="/"+n),i=n):i=n;var h=this._makeAbs(i);p(this,i)||(u[0]===s.GLOBSTAR?this._processGlobStar(n,i,h,u,e,r):this._processReaddir(n,i,h,u,e,r))},m.prototype._processReaddir=function(t,e,r,n,o,s){var a=this._readdir(r,s);if(a){for(var c=n[0],u=!!this.minimatch.negate,h=c._glob,l=this.dot||"."===h.charAt(0),p=[],d=0;d<a.length;d++)("."!==(g=a[d]).charAt(0)||l)&&(u&&!t?!g.match(c):g.match(c))&&p.push(g);var f=p.length;if(0!==f)if(1!==n.length||this.mark||this.stat)for(n.shift(),d=0;d<f;d++){var m;g=p[d],m=t?[t,g]:[g],this._process(m.concat(n),o,s)}else{this.matches[o]||(this.matches[o]=Object.create(null));for(d=0;d<f;d++){var g=p[d];t&&(g="/"!==t.slice(-1)?t+"/"+g:t+g),"/"!==g.charAt(0)||this.nomount||(g=i.join(this.root,g)),this._emitMatch(o,g)}}}},m.prototype._emitMatch=function(t,e){if(!d(this,e)){var r=this._makeAbs(e);if(this.mark&&(e=this._mark(e)),this.absolute&&(e=r),!this.matches[t][e]){if(this.nodir){var n=this.cache[r];if("DIR"===n||Array.isArray(n))return}this.matches[t][e]=!0,this.stat&&this._stat(e)}}},m.prototype._readdirInGlobStar=function(t){if(this.follow)return this._readdir(t,!1);var e,r;try{r=n.lstatSync(t)}catch(t){if("ENOENT"===t.code)return null}var o=r&&r.isSymbolicLink();return this.symlinks[t]=o,o||!r||r.isDirectory()?e=this._readdir(t,!1):this.cache[t]="FILE",e},m.prototype._readdir=function(t,e){if(e&&!l(this.symlinks,t))return this._readdirInGlobStar(t);if(l(this.cache,t)){var r=this.cache[t];if(!r||"FILE"===r)return null;if(Array.isArray(r))return r}try{return this._readdirEntries(t,n.readdirSync(t))}catch(e){return this._readdirError(t,e),null}},m.prototype._readdirEntries=function(t,e){if(!this.mark&&!this.stat)for(var r=0;r<e.length;r++){var n=e[r];n="/"===t?t+n:t+"/"+n,this.cache[n]=!0}return this.cache[t]=e,e},m.prototype._readdirError=function(t,e){switch(e.code){case"ENOTSUP":case"ENOTDIR":var r=this._makeAbs(t);if(this.cache[r]="FILE",r===this.cwdAbs){var n=new Error(e.code+" invalid cwd "+this.cwd);throw n.path=this.cwd,n.code=e.code,n}break;case"ENOENT":case"ELOOP":case"ENAMETOOLONG":case"UNKNOWN":this.cache[this._makeAbs(t)]=!1;break;default:if(this.cache[this._makeAbs(t)]=!1,this.strict)throw e;this.silent||console.error("glob error",e)}},m.prototype._processGlobStar=function(t,e,r,n,o,s){var i=this._readdir(r,s);if(i){var a=n.slice(1),c=t?[t]:[],u=c.concat(a);this._process(u,o,!1);var h=i.length;if(!this.symlinks[r]||!s)for(var l=0;l<h;l++)if("."!==i[l].charAt(0)||this.dot){var p=c.concat(i[l],a);this._process(p,o,!0);var d=c.concat(i[l],n);this._process(d,o,!0)}}},m.prototype._processSimple=function(t,e){var r=this._stat(t);if(this.matches[e]||(this.matches[e]=Object.create(null)),r){if(t&&c(t)&&!this.nomount){var n=/[\/\\]$/.test(t);"/"===t.charAt(0)?t=i.join(this.root,t):(t=i.resolve(this.root,t),n&&(t+="/"))}"win32"===process.platform&&(t=t.replace(/\\/g,"/")),this._emitMatch(e,t)}},m.prototype._stat=function(t){var e=this._makeAbs(t),r="/"===t.slice(-1);if(t.length>this.maxLength)return!1;if(!this.stat&&l(this.cache,e)){var o=this.cache[e];if(Array.isArray(o)&&(o="DIR"),!r||"DIR"===o)return o;if(r&&"FILE"===o)return!1}var s=this.statCache[e];if(!s){var i;try{i=n.lstatSync(e)}catch(t){if(t&&("ENOENT"===t.code||"ENOTDIR"===t.code))return this.statCache[e]=!1,!1}if(i&&i.isSymbolicLink())try{s=n.statSync(e)}catch(t){s=i}else s=i}return this.statCache[e]=s,o=!0,s&&(o=s.isDirectory()?"DIR":"FILE"),this.cache[e]=this.cache[e]||o,(!r||"FILE"!==o)&&o},m.prototype._mark=function(t){return u.mark(this,t)},m.prototype._makeAbs=function(t){return u.makeAbs(this,t)}},7844:(t,e,r)=>{var n=r(2479),o=Object.create(null),s=r(778);function i(t){for(var e=t.length,r=[],n=0;n<e;n++)r[n]=t[n];return r}t.exports=n((function(t,e){return o[t]?(o[t].push(e),null):(o[t]=[e],function(t){return s((function e(){var r=o[t],n=r.length,s=i(arguments);try{for(var a=0;a<n;a++)r[a].apply(null,s)}finally{r.length>n?(r.splice(0,n),process.nextTick((function(){e.apply(null,s)}))):delete o[t]}}))}(t))}))},4378:(t,e,r)=>{try{var n=r(1669);if("function"!=typeof n.inherits)throw"";t.exports=n.inherits}catch(e){t.exports=r(5717)}},5717:t=>{"function"==typeof Object.create?t.exports=function(t,e){e&&(t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:t.exports=function(t,e){if(e){t.super_=e;var r=function(){};r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t}}},1171:(t,e,r)=>{t.exports=p,p.Minimatch=d;var n={sep:"/"};try{n=r(5622)}catch(t){}var o=p.GLOBSTAR=d.GLOBSTAR={},s=r(3644),i={"!":{open:"(?:(?!(?:",close:"))[^/]*?)"},"?":{open:"(?:",close:")?"},"+":{open:"(?:",close:")+"},"*":{open:"(?:",close:")*"},"@":{open:"(?:",close:")"}},a="[^/]",c="[^/]*?",u="().*{}+?[]^$\\!".split("").reduce((function(t,e){return t[e]=!0,t}),{}),h=/\/+/;function l(t,e){t=t||{},e=e||{};var r={};return Object.keys(e).forEach((function(t){r[t]=e[t]})),Object.keys(t).forEach((function(e){r[e]=t[e]})),r}function p(t,e,r){if("string"!=typeof e)throw new TypeError("glob pattern string required");return r||(r={}),!(!r.nocomment&&"#"===e.charAt(0))&&(""===e.trim()?""===t:new d(e,r).match(t))}function d(t,e){if(!(this instanceof d))return new d(t,e);if("string"!=typeof t)throw new TypeError("glob pattern string required");e||(e={}),t=t.trim(),"/"!==n.sep&&(t=t.split(n.sep).join("/")),this.options=e,this.set=[],this.pattern=t,this.regexp=null,this.negate=!1,this.comment=!1,this.empty=!1,this.make()}function f(t,e){if(e||(e=this instanceof d?this.options:{}),void 0===(t=void 0===t?this.pattern:t))throw new TypeError("undefined pattern");return e.nobrace||!t.match(/\{.*\}/)?[t]:s(t)}p.filter=function(t,e){return e=e||{},function(r,n,o){return p(r,t,e)}},p.defaults=function(t){if(!t||!Object.keys(t).length)return p;var e=p,r=function(r,n,o){return e.minimatch(r,n,l(t,o))};return r.Minimatch=function(r,n){return new e.Minimatch(r,l(t,n))},r},d.defaults=function(t){return t&&Object.keys(t).length?p.defaults(t).Minimatch:d},d.prototype.debug=function(){},d.prototype.make=function(){if(!this._made){var t=this.pattern,e=this.options;if(e.nocomment||"#"!==t.charAt(0))if(t){this.parseNegate();var r=this.globSet=this.braceExpand();e.debug&&(this.debug=console.error),this.debug(this.pattern,r),r=this.globParts=r.map((function(t){return t.split(h)})),this.debug(this.pattern,r),r=r.map((function(t,e,r){return t.map(this.parse,this)}),this),this.debug(this.pattern,r),r=r.filter((function(t){return-1===t.indexOf(!1)})),this.debug(this.pattern,r),this.set=r}else this.empty=!0;else this.comment=!0}},d.prototype.parseNegate=function(){var t=this.pattern,e=!1,r=0;if(!this.options.nonegate){for(var n=0,o=t.length;n<o&&"!"===t.charAt(n);n++)e=!e,r++;r&&(this.pattern=t.substr(r)),this.negate=e}},p.braceExpand=function(t,e){return f(t,e)},d.prototype.braceExpand=f,d.prototype.parse=function(t,e){if(t.length>65536)throw new TypeError("pattern is too long");var r=this.options;if(!r.noglobstar&&"**"===t)return o;if(""===t)return"";var n,s="",h=!!r.nocase,l=!1,p=[],d=[],f=!1,g=-1,y=-1,v="."===t.charAt(0)?"":r.dot?"(?!(?:^|\\/)\\.{1,2}(?:$|\\/))":"(?!\\.)",w=this;function E(){if(n){switch(n){case"*":s+=c,h=!0;break;case"?":s+=a,h=!0;break;default:s+="\\"+n}w.debug("clearStateChar %j %j",n,s),n=!1}}for(var b,C=0,_=t.length;C<_&&(b=t.charAt(C));C++)if(this.debug("%s\t%s %s %j",t,C,s,b),l&&u[b])s+="\\"+b,l=!1;else switch(b){case"/":return!1;case"\\":E(),l=!0;continue;case"?":case"*":case"+":case"@":case"!":if(this.debug("%s\t%s %s %j <-- stateChar",t,C,s,b),f){this.debug("  in class"),"!"===b&&C===y+1&&(b="^"),s+=b;continue}w.debug("call clearStateChar %j",n),E(),n=b,r.noext&&E();continue;case"(":if(f){s+="(";continue}if(!n){s+="\\(";continue}p.push({type:n,start:C-1,reStart:s.length,open:i[n].open,close:i[n].close}),s+="!"===n?"(?:(?!(?:":"(?:",this.debug("plType %j %j",n,s),n=!1;continue;case")":if(f||!p.length){s+="\\)";continue}E(),h=!0;var O=p.pop();s+=O.close,"!"===O.type&&d.push(O),O.reEnd=s.length;continue;case"|":if(f||!p.length||l){s+="\\|",l=!1;continue}E(),s+="|";continue;case"[":if(E(),f){s+="\\"+b;continue}f=!0,y=C,g=s.length,s+=b;continue;case"]":if(C===y+1||!f){s+="\\"+b,l=!1;continue}if(f){var S=t.substring(y+1,C);try{RegExp("["+S+"]")}catch(t){var D=this.parse(S,m);s=s.substr(0,g)+"\\["+D[0]+"\\]",h=h||D[1],f=!1;continue}}h=!0,f=!1,s+=b;continue;default:E(),l?l=!1:!u[b]||"^"===b&&f||(s+="\\"),s+=b}for(f&&(S=t.substr(y+1),D=this.parse(S,m),s=s.substr(0,g)+"\\["+D[0],h=h||D[1]),O=p.pop();O;O=p.pop()){var I=s.slice(O.reStart+O.open.length);this.debug("setting tail",s,O),I=I.replace(/((?:\\{2}){0,64})(\\?)\|/g,(function(t,e,r){return r||(r="\\"),e+e+r+"|"})),this.debug("tail=%j\n   %s",I,I,O,s);var R="*"===O.type?c:"?"===O.type?a:"\\"+O.type;h=!0,s=s.slice(0,O.reStart)+R+"\\("+I}E(),l&&(s+="\\\\");var T=!1;switch(s.charAt(0)){case".":case"[":case"(":T=!0}for(var x=d.length-1;x>-1;x--){var P=d[x],N=s.slice(0,P.reStart),A=s.slice(P.reStart,P.reEnd-8),M=s.slice(P.reEnd-8,P.reEnd),F=s.slice(P.reEnd);M+=F;var L=N.split("(").length-1,k=F;for(C=0;C<L;C++)k=k.replace(/\)[+*?]?/,"");var j="";""===(F=k)&&e!==m&&(j="$"),s=N+A+F+j+M}if(""!==s&&h&&(s="(?=.)"+s),T&&(s=v+s),e===m)return[s,h];if(!h)return t.replace(/\\(.)/g,"$1");var $=r.nocase?"i":"";try{var U=new RegExp("^"+s+"$",$)}catch(t){return new RegExp("$.")}return U._glob=t,U._src=s,U};var m={};p.makeRe=function(t,e){return new d(t,e||{}).makeRe()},d.prototype.makeRe=function(){if(this.regexp||!1===this.regexp)return this.regexp;var t=this.set;if(!t.length)return this.regexp=!1,this.regexp;var e=this.options,r=e.noglobstar?c:e.dot?"(?:(?!(?:\\/|^)(?:\\.{1,2})($|\\/)).)*?":"(?:(?!(?:\\/|^)\\.).)*?",n=e.nocase?"i":"",s=t.map((function(t){return t.map((function(t){return t===o?r:"string"==typeof t?t.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"):t._src})).join("\\/")})).join("|");s="^(?:"+s+")$",this.negate&&(s="^(?!"+s+").*$");try{this.regexp=new RegExp(s,n)}catch(t){this.regexp=!1}return this.regexp},p.match=function(t,e,r){var n=new d(e,r=r||{});return t=t.filter((function(t){return n.match(t)})),n.options.nonull&&!t.length&&t.push(e),t},d.prototype.match=function(t,e){if(this.debug("match",t,this.pattern),this.comment)return!1;if(this.empty)return""===t;if("/"===t&&e)return!0;var r=this.options;"/"!==n.sep&&(t=t.split(n.sep).join("/")),t=t.split(h),this.debug(this.pattern,"split",t);var o,s,i=this.set;for(this.debug(this.pattern,"set",i),s=t.length-1;s>=0&&!(o=t[s]);s--);for(s=0;s<i.length;s++){var a=i[s],c=t;if(r.matchBase&&1===a.length&&(c=[o]),this.matchOne(c,a,e))return!!r.flipNegate||!this.negate}return!r.flipNegate&&this.negate},d.prototype.matchOne=function(t,e,r){var n=this.options;this.debug("matchOne",{this:this,file:t,pattern:e}),this.debug("matchOne",t.length,e.length);for(var s=0,i=0,a=t.length,c=e.length;s<a&&i<c;s++,i++){this.debug("matchOne loop");var u,h=e[i],l=t[s];if(this.debug(e,h,l),!1===h)return!1;if(h===o){this.debug("GLOBSTAR",[e,h,l]);var p=s,d=i+1;if(d===c){for(this.debug("** at the end");s<a;s++)if("."===t[s]||".."===t[s]||!n.dot&&"."===t[s].charAt(0))return!1;return!0}for(;p<a;){var f=t[p];if(this.debug("\nglobstar while",t,p,e,d,f),this.matchOne(t.slice(p),e.slice(d),r))return this.debug("globstar found match!",p,a,f),!0;if("."===f||".."===f||!n.dot&&"."===f.charAt(0)){this.debug("dot detected!",t,p,e,d);break}this.debug("globstar swallow a segment, and continue"),p++}return!(!r||(this.debug("\n>>> no match, partial?",t,p,e,d),p!==a))}if("string"==typeof h?(u=n.nocase?l.toLowerCase()===h.toLowerCase():l===h,this.debug("string match",h,l,u)):(u=l.match(h),this.debug("pattern match",h,l,u)),!u)return!1}if(s===a&&i===c)return!0;if(s===a)return r;if(i===c)return s===a-1&&""===t[s];throw new Error("wtf?")}},778:(t,e,r)=>{var n=r(2479);function o(t){var e=function(){return e.called?e.value:(e.called=!0,e.value=t.apply(this,arguments))};return e.called=!1,e}function s(t){var e=function(){if(e.called)throw new Error(e.onceError);return e.called=!0,e.value=t.apply(this,arguments)},r=t.name||"Function wrapped with `once`";return e.onceError=r+" shouldn't be called more than once",e.called=!1,e}t.exports=n(o),t.exports.strict=n(s),o.proto=o((function(){Object.defineProperty(Function.prototype,"once",{value:function(){return o(this)},configurable:!0}),Object.defineProperty(Function.prototype,"onceStrict",{value:function(){return s(this)},configurable:!0})}))},8965:(t,e,r)=>{"use strict";var n=r(5747);t.exports=n},4095:t=>{"use strict";function e(t){return"/"===t.charAt(0)}function r(t){var e=/^([a-zA-Z]:|[\\\/]{2}[^\\\/]+[\\\/]+[^\\\/]+)?([\\\/])?([\s\S]*?)$/.exec(t),r=e[1]||"",n=Boolean(r&&":"!==r.charAt(1));return Boolean(e[2]||n)}t.exports="win32"===process.platform?r:e,t.exports.posix=e,t.exports.win32=r},6099:(t,e,r)=>{!function(t){t.parser=function(t,e){return new o(t,e)},t.SAXParser=o,t.SAXStream=i,t.createStream=function(t,e){return new i(t,e)},t.MAX_BUFFER_LENGTH=65536;var e,n=["comment","sgmlDecl","textNode","tagName","doctype","procInstName","procInstBody","entity","attribName","attribValue","cdata","script"];function o(e,r){if(!(this instanceof o))return new o(e,r);var s=this;!function(t){for(var e=0,r=n.length;e<r;e++)t[n[e]]=""}(s),s.q=s.c="",s.bufferCheckPosition=t.MAX_BUFFER_LENGTH,s.opt=r||{},s.opt.lowercase=s.opt.lowercase||s.opt.lowercasetags,s.looseCase=s.opt.lowercase?"toLowerCase":"toUpperCase",s.tags=[],s.closed=s.closedRoot=s.sawRoot=!1,s.tag=s.error=null,s.strict=!!e,s.noscript=!(!e&&!s.opt.noscript),s.state=C.BEGIN,s.strictEntities=s.opt.strictEntities,s.ENTITIES=s.strictEntities?Object.create(t.XML_ENTITIES):Object.create(t.ENTITIES),s.attribList=[],s.opt.xmlns&&(s.ns=Object.create(u)),s.trackPosition=!1!==s.opt.position,s.trackPosition&&(s.position=s.line=s.column=0),O(s,"onready")}t.EVENTS=["text","processinginstruction","sgmldeclaration","doctype","comment","opentagstart","attribute","opentag","closetag","opencdata","cdata","closecdata","error","end","ready","script","opennamespace","closenamespace"],Object.create||(Object.create=function(t){function e(){}return e.prototype=t,new e}),Object.keys||(Object.keys=function(t){var e=[];for(var r in t)t.hasOwnProperty(r)&&e.push(r);return e}),o.prototype={end:function(){T(this)},write:function(e){var r=this;if(this.error)throw this.error;if(r.closed)return R(r,"Cannot write after close. Assign an onready handler.");if(null===e)return T(r);"object"==typeof e&&(e=e.toString());for(var o=0,s="";s=j(e,o++),r.c=s,s;)switch(r.trackPosition&&(r.position++,"\n"===s?(r.line++,r.column=0):r.column++),r.state){case C.BEGIN:if(r.state=C.BEGIN_WHITESPACE,"\ufeff"===s)continue;k(r,s);continue;case C.BEGIN_WHITESPACE:k(r,s);continue;case C.TEXT:if(r.sawRoot&&!r.closedRoot){for(var i=o-1;s&&"<"!==s&&"&"!==s;)(s=j(e,o++))&&r.trackPosition&&(r.position++,"\n"===s?(r.line++,r.column=0):r.column++);r.textNode+=e.substring(i,o-1)}"<"!==s||r.sawRoot&&r.closedRoot&&!r.strict?(f(s)||r.sawRoot&&!r.closedRoot||x(r,"Text data outside of root node."),"&"===s?r.state=C.TEXT_ENTITY:r.textNode+=s):(r.state=C.OPEN_WAKA,r.startTagPosition=r.position);continue;case C.SCRIPT:"<"===s?r.state=C.SCRIPT_ENDING:r.script+=s;continue;case C.SCRIPT_ENDING:"/"===s?r.state=C.CLOSE_TAG:(r.script+="<"+s,r.state=C.SCRIPT);continue;case C.OPEN_WAKA:if("!"===s)r.state=C.SGML_DECL,r.sgmlDecl="";else if(f(s));else if(y(h,s))r.state=C.OPEN_TAG,r.tagName=s;else if("/"===s)r.state=C.CLOSE_TAG,r.tagName="";else if("?"===s)r.state=C.PROC_INST,r.procInstName=r.procInstBody="";else{if(x(r,"Unencoded <"),r.startTagPosition+1<r.position){var a=r.position-r.startTagPosition;s=new Array(a).join(" ")+s}r.textNode+="<"+s,r.state=C.TEXT}continue;case C.SGML_DECL:"[CDATA["===(r.sgmlDecl+s).toUpperCase()?(S(r,"onopencdata"),r.state=C.CDATA,r.sgmlDecl="",r.cdata=""):r.sgmlDecl+s==="--"?(r.state=C.COMMENT,r.comment="",r.sgmlDecl=""):"DOCTYPE"===(r.sgmlDecl+s).toUpperCase()?(r.state=C.DOCTYPE,(r.doctype||r.sawRoot)&&x(r,"Inappropriately located doctype declaration"),r.doctype="",r.sgmlDecl=""):">"===s?(S(r,"onsgmldeclaration",r.sgmlDecl),r.sgmlDecl="",r.state=C.TEXT):m(s)?(r.state=C.SGML_DECL_QUOTED,r.sgmlDecl+=s):r.sgmlDecl+=s;continue;case C.SGML_DECL_QUOTED:s===r.q&&(r.state=C.SGML_DECL,r.q=""),r.sgmlDecl+=s;continue;case C.DOCTYPE:">"===s?(r.state=C.TEXT,S(r,"ondoctype",r.doctype),r.doctype=!0):(r.doctype+=s,"["===s?r.state=C.DOCTYPE_DTD:m(s)&&(r.state=C.DOCTYPE_QUOTED,r.q=s));continue;case C.DOCTYPE_QUOTED:r.doctype+=s,s===r.q&&(r.q="",r.state=C.DOCTYPE);continue;case C.DOCTYPE_DTD:r.doctype+=s,"]"===s?r.state=C.DOCTYPE:m(s)&&(r.state=C.DOCTYPE_DTD_QUOTED,r.q=s);continue;case C.DOCTYPE_DTD_QUOTED:r.doctype+=s,s===r.q&&(r.state=C.DOCTYPE_DTD,r.q="");continue;case C.COMMENT:"-"===s?r.state=C.COMMENT_ENDING:r.comment+=s;continue;case C.COMMENT_ENDING:"-"===s?(r.state=C.COMMENT_ENDED,r.comment=I(r.opt,r.comment),r.comment&&S(r,"oncomment",r.comment),r.comment=""):(r.comment+="-"+s,r.state=C.COMMENT);continue;case C.COMMENT_ENDED:">"!==s?(x(r,"Malformed comment"),r.comment+="--"+s,r.state=C.COMMENT):r.state=C.TEXT;continue;case C.CDATA:"]"===s?r.state=C.CDATA_ENDING:r.cdata+=s;continue;case C.CDATA_ENDING:"]"===s?r.state=C.CDATA_ENDING_2:(r.cdata+="]"+s,r.state=C.CDATA);continue;case C.CDATA_ENDING_2:">"===s?(r.cdata&&S(r,"oncdata",r.cdata),S(r,"onclosecdata"),r.cdata="",r.state=C.TEXT):"]"===s?r.cdata+="]":(r.cdata+="]]"+s,r.state=C.CDATA);continue;case C.PROC_INST:"?"===s?r.state=C.PROC_INST_ENDING:f(s)?r.state=C.PROC_INST_BODY:r.procInstName+=s;continue;case C.PROC_INST_BODY:if(!r.procInstBody&&f(s))continue;"?"===s?r.state=C.PROC_INST_ENDING:r.procInstBody+=s;continue;case C.PROC_INST_ENDING:">"===s?(S(r,"onprocessinginstruction",{name:r.procInstName,body:r.procInstBody}),r.procInstName=r.procInstBody="",r.state=C.TEXT):(r.procInstBody+="?"+s,r.state=C.PROC_INST_BODY);continue;case C.OPEN_TAG:y(l,s)?r.tagName+=s:(P(r),">"===s?M(r):"/"===s?r.state=C.OPEN_TAG_SLASH:(f(s)||x(r,"Invalid character in tag name"),r.state=C.ATTRIB));continue;case C.OPEN_TAG_SLASH:">"===s?(M(r,!0),F(r)):(x(r,"Forward-slash in opening tag not followed by >"),r.state=C.ATTRIB);continue;case C.ATTRIB:if(f(s))continue;">"===s?M(r):"/"===s?r.state=C.OPEN_TAG_SLASH:y(h,s)?(r.attribName=s,r.attribValue="",r.state=C.ATTRIB_NAME):x(r,"Invalid attribute name");continue;case C.ATTRIB_NAME:"="===s?r.state=C.ATTRIB_VALUE:">"===s?(x(r,"Attribute without value"),r.attribValue=r.attribName,A(r),M(r)):f(s)?r.state=C.ATTRIB_NAME_SAW_WHITE:y(l,s)?r.attribName+=s:x(r,"Invalid attribute name");continue;case C.ATTRIB_NAME_SAW_WHITE:if("="===s)r.state=C.ATTRIB_VALUE;else{if(f(s))continue;x(r,"Attribute without value"),r.tag.attributes[r.attribName]="",r.attribValue="",S(r,"onattribute",{name:r.attribName,value:""}),r.attribName="",">"===s?M(r):y(h,s)?(r.attribName=s,r.state=C.ATTRIB_NAME):(x(r,"Invalid attribute name"),r.state=C.ATTRIB)}continue;case C.ATTRIB_VALUE:if(f(s))continue;m(s)?(r.q=s,r.state=C.ATTRIB_VALUE_QUOTED):(x(r,"Unquoted attribute value"),r.state=C.ATTRIB_VALUE_UNQUOTED,r.attribValue=s);continue;case C.ATTRIB_VALUE_QUOTED:if(s!==r.q){"&"===s?r.state=C.ATTRIB_VALUE_ENTITY_Q:r.attribValue+=s;continue}A(r),r.q="",r.state=C.ATTRIB_VALUE_CLOSED;continue;case C.ATTRIB_VALUE_CLOSED:f(s)?r.state=C.ATTRIB:">"===s?M(r):"/"===s?r.state=C.OPEN_TAG_SLASH:y(h,s)?(x(r,"No whitespace between attributes"),r.attribName=s,r.attribValue="",r.state=C.ATTRIB_NAME):x(r,"Invalid attribute name");continue;case C.ATTRIB_VALUE_UNQUOTED:if(!g(s)){"&"===s?r.state=C.ATTRIB_VALUE_ENTITY_U:r.attribValue+=s;continue}A(r),">"===s?M(r):r.state=C.ATTRIB;continue;case C.CLOSE_TAG:if(r.tagName)">"===s?F(r):y(l,s)?r.tagName+=s:r.script?(r.script+="</"+r.tagName,r.tagName="",r.state=C.SCRIPT):(f(s)||x(r,"Invalid tagname in closing tag"),r.state=C.CLOSE_TAG_SAW_WHITE);else{if(f(s))continue;v(h,s)?r.script?(r.script+="</"+s,r.state=C.SCRIPT):x(r,"Invalid tagname in closing tag."):r.tagName=s}continue;case C.CLOSE_TAG_SAW_WHITE:if(f(s))continue;">"===s?F(r):x(r,"Invalid characters in closing tag");continue;case C.TEXT_ENTITY:case C.ATTRIB_VALUE_ENTITY_Q:case C.ATTRIB_VALUE_ENTITY_U:var c,u;switch(r.state){case C.TEXT_ENTITY:c=C.TEXT,u="textNode";break;case C.ATTRIB_VALUE_ENTITY_Q:c=C.ATTRIB_VALUE_QUOTED,u="attribValue";break;case C.ATTRIB_VALUE_ENTITY_U:c=C.ATTRIB_VALUE_UNQUOTED,u="attribValue"}";"===s?(r[u]+=L(r),r.entity="",r.state=c):y(r.entity.length?d:p,s)?r.entity+=s:(x(r,"Invalid character in entity name"),r[u]+="&"+r.entity+s,r.entity="",r.state=c);continue;default:throw new Error(r,"Unknown state: "+r.state)}return r.position>=r.bufferCheckPosition&&function(e){for(var r=Math.max(t.MAX_BUFFER_LENGTH,10),o=0,s=0,i=n.length;s<i;s++){var a=e[n[s]].length;if(a>r)switch(n[s]){case"textNode":D(e);break;case"cdata":S(e,"oncdata",e.cdata),e.cdata="";break;case"script":S(e,"onscript",e.script),e.script="";break;default:R(e,"Max buffer length exceeded: "+n[s])}o=Math.max(o,a)}var c=t.MAX_BUFFER_LENGTH-o;e.bufferCheckPosition=c+e.position}(r),r},resume:function(){return this.error=null,this},close:function(){return this.write(null)},flush:function(){var t;D(t=this),""!==t.cdata&&(S(t,"oncdata",t.cdata),t.cdata=""),""!==t.script&&(S(t,"onscript",t.script),t.script="")}};try{e=r(2413).Stream}catch(t){e=function(){}}var s=t.EVENTS.filter((function(t){return"error"!==t&&"end"!==t}));function i(t,r){if(!(this instanceof i))return new i(t,r);e.apply(this),this._parser=new o(t,r),this.writable=!0,this.readable=!0;var n=this;this._parser.onend=function(){n.emit("end")},this._parser.onerror=function(t){n.emit("error",t),n._parser.error=null},this._decoder=null,s.forEach((function(t){Object.defineProperty(n,"on"+t,{get:function(){return n._parser["on"+t]},set:function(e){if(!e)return n.removeAllListeners(t),n._parser["on"+t]=e,e;n.on(t,e)},enumerable:!0,configurable:!1})}))}i.prototype=Object.create(e.prototype,{constructor:{value:i}}),i.prototype.write=function(t){if("function"==typeof Buffer&&"function"==typeof Buffer.isBuffer&&Buffer.isBuffer(t)){if(!this._decoder){var e=r(4304).StringDecoder;this._decoder=new e("utf8")}t=this._decoder.write(t)}return this._parser.write(t.toString()),this.emit("data",t),!0},i.prototype.end=function(t){return t&&t.length&&this.write(t),this._parser.end(),!0},i.prototype.on=function(t,r){var n=this;return n._parser["on"+t]||-1===s.indexOf(t)||(n._parser["on"+t]=function(){var e=1===arguments.length?[arguments[0]]:Array.apply(null,arguments);e.splice(0,0,t),n.emit.apply(n,e)}),e.prototype.on.call(n,t,r)};var a="http://www.w3.org/XML/1998/namespace",c="http://www.w3.org/2000/xmlns/",u={xml:a,xmlns:c},h=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,l=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/,p=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,d=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/;function f(t){return" "===t||"\n"===t||"\r"===t||"\t"===t}function m(t){return'"'===t||"'"===t}function g(t){return">"===t||f(t)}function y(t,e){return t.test(e)}function v(t,e){return!y(t,e)}var w,E,b,C=0;for(var _ in t.STATE={BEGIN:C++,BEGIN_WHITESPACE:C++,TEXT:C++,TEXT_ENTITY:C++,OPEN_WAKA:C++,SGML_DECL:C++,SGML_DECL_QUOTED:C++,DOCTYPE:C++,DOCTYPE_QUOTED:C++,DOCTYPE_DTD:C++,DOCTYPE_DTD_QUOTED:C++,COMMENT_STARTING:C++,COMMENT:C++,COMMENT_ENDING:C++,COMMENT_ENDED:C++,CDATA:C++,CDATA_ENDING:C++,CDATA_ENDING_2:C++,PROC_INST:C++,PROC_INST_BODY:C++,PROC_INST_ENDING:C++,OPEN_TAG:C++,OPEN_TAG_SLASH:C++,ATTRIB:C++,ATTRIB_NAME:C++,ATTRIB_NAME_SAW_WHITE:C++,ATTRIB_VALUE:C++,ATTRIB_VALUE_QUOTED:C++,ATTRIB_VALUE_CLOSED:C++,ATTRIB_VALUE_UNQUOTED:C++,ATTRIB_VALUE_ENTITY_Q:C++,ATTRIB_VALUE_ENTITY_U:C++,CLOSE_TAG:C++,CLOSE_TAG_SAW_WHITE:C++,SCRIPT:C++,SCRIPT_ENDING:C++},t.XML_ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},t.ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'",AElig:198,Aacute:193,Acirc:194,Agrave:192,Aring:197,Atilde:195,Auml:196,Ccedil:199,ETH:208,Eacute:201,Ecirc:202,Egrave:200,Euml:203,Iacute:205,Icirc:206,Igrave:204,Iuml:207,Ntilde:209,Oacute:211,Ocirc:212,Ograve:210,Oslash:216,Otilde:213,Ouml:214,THORN:222,Uacute:218,Ucirc:219,Ugrave:217,Uuml:220,Yacute:221,aacute:225,acirc:226,aelig:230,agrave:224,aring:229,atilde:227,auml:228,ccedil:231,eacute:233,ecirc:234,egrave:232,eth:240,euml:235,iacute:237,icirc:238,igrave:236,iuml:239,ntilde:241,oacute:243,ocirc:244,ograve:242,oslash:248,otilde:245,ouml:246,szlig:223,thorn:254,uacute:250,ucirc:251,ugrave:249,uuml:252,yacute:253,yuml:255,copy:169,reg:174,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,ordf:170,laquo:171,not:172,shy:173,macr:175,deg:176,plusmn:177,sup1:185,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,times:215,divide:247,OElig:338,oelig:339,Scaron:352,scaron:353,Yuml:376,fnof:402,circ:710,tilde:732,Alpha:913,Beta:914,Gamma:915,Delta:916,Epsilon:917,Zeta:918,Eta:919,Theta:920,Iota:921,Kappa:922,Lambda:923,Mu:924,Nu:925,Xi:926,Omicron:927,Pi:928,Rho:929,Sigma:931,Tau:932,Upsilon:933,Phi:934,Chi:935,Psi:936,Omega:937,alpha:945,beta:946,gamma:947,delta:948,epsilon:949,zeta:950,eta:951,theta:952,iota:953,kappa:954,lambda:955,mu:956,nu:957,xi:958,omicron:959,pi:960,rho:961,sigmaf:962,sigma:963,tau:964,upsilon:965,phi:966,chi:967,psi:968,omega:969,thetasym:977,upsih:978,piv:982,ensp:8194,emsp:8195,thinsp:8201,zwnj:8204,zwj:8205,lrm:8206,rlm:8207,ndash:8211,mdash:8212,lsquo:8216,rsquo:8217,sbquo:8218,ldquo:8220,rdquo:8221,bdquo:8222,dagger:8224,Dagger:8225,bull:8226,hellip:8230,permil:8240,prime:8242,Prime:8243,lsaquo:8249,rsaquo:8250,oline:8254,frasl:8260,euro:8364,image:8465,weierp:8472,real:8476,trade:8482,alefsym:8501,larr:8592,uarr:8593,rarr:8594,darr:8595,harr:8596,crarr:8629,lArr:8656,uArr:8657,rArr:8658,dArr:8659,hArr:8660,forall:8704,part:8706,exist:8707,empty:8709,nabla:8711,isin:8712,notin:8713,ni:8715,prod:8719,sum:8721,minus:8722,lowast:8727,radic:8730,prop:8733,infin:8734,ang:8736,and:8743,or:8744,cap:8745,cup:8746,int:8747,there4:8756,sim:8764,cong:8773,asymp:8776,ne:8800,equiv:8801,le:8804,ge:8805,sub:8834,sup:8835,nsub:8836,sube:8838,supe:8839,oplus:8853,otimes:8855,perp:8869,sdot:8901,lceil:8968,rceil:8969,lfloor:8970,rfloor:8971,lang:9001,rang:9002,loz:9674,spades:9824,clubs:9827,hearts:9829,diams:9830},Object.keys(t.ENTITIES).forEach((function(e){var r=t.ENTITIES[e],n="number"==typeof r?String.fromCharCode(r):r;t.ENTITIES[e]=n})),t.STATE)t.STATE[t.STATE[_]]=_;function O(t,e,r){t[e]&&t[e](r)}function S(t,e,r){t.textNode&&D(t),O(t,e,r)}function D(t){t.textNode=I(t.opt,t.textNode),t.textNode&&O(t,"ontext",t.textNode),t.textNode=""}function I(t,e){return t.trim&&(e=e.trim()),t.normalize&&(e=e.replace(/\s+/g," ")),e}function R(t,e){return D(t),t.trackPosition&&(e+="\nLine: "+t.line+"\nColumn: "+t.column+"\nChar: "+t.c),e=new Error(e),t.error=e,O(t,"onerror",e),t}function T(t){return t.sawRoot&&!t.closedRoot&&x(t,"Unclosed root tag"),t.state!==C.BEGIN&&t.state!==C.BEGIN_WHITESPACE&&t.state!==C.TEXT&&R(t,"Unexpected end"),D(t),t.c="",t.closed=!0,O(t,"onend"),o.call(t,t.strict,t.opt),t}function x(t,e){if("object"!=typeof t||!(t instanceof o))throw new Error("bad call to strictFail");t.strict&&R(t,e)}function P(t){t.strict||(t.tagName=t.tagName[t.looseCase]());var e=t.tags[t.tags.length-1]||t,r=t.tag={name:t.tagName,attributes:{}};t.opt.xmlns&&(r.ns=e.ns),t.attribList.length=0,S(t,"onopentagstart",r)}function N(t,e){var r=t.indexOf(":")<0?["",t]:t.split(":"),n=r[0],o=r[1];return e&&"xmlns"===t&&(n="xmlns",o=""),{prefix:n,local:o}}function A(t){if(t.strict||(t.attribName=t.attribName[t.looseCase]()),-1!==t.attribList.indexOf(t.attribName)||t.tag.attributes.hasOwnProperty(t.attribName))t.attribName=t.attribValue="";else{if(t.opt.xmlns){var e=N(t.attribName,!0),r=e.prefix,n=e.local;if("xmlns"===r)if("xml"===n&&t.attribValue!==a)x(t,"xml: prefix must be bound to "+a+"\nActual: "+t.attribValue);else if("xmlns"===n&&t.attribValue!==c)x(t,"xmlns: prefix must be bound to "+c+"\nActual: "+t.attribValue);else{var o=t.tag,s=t.tags[t.tags.length-1]||t;o.ns===s.ns&&(o.ns=Object.create(s.ns)),o.ns[n]=t.attribValue}t.attribList.push([t.attribName,t.attribValue])}else t.tag.attributes[t.attribName]=t.attribValue,S(t,"onattribute",{name:t.attribName,value:t.attribValue});t.attribName=t.attribValue=""}}function M(t,e){if(t.opt.xmlns){var r=t.tag,n=N(t.tagName);r.prefix=n.prefix,r.local=n.local,r.uri=r.ns[n.prefix]||"",r.prefix&&!r.uri&&(x(t,"Unbound namespace prefix: "+JSON.stringify(t.tagName)),r.uri=n.prefix);var o=t.tags[t.tags.length-1]||t;r.ns&&o.ns!==r.ns&&Object.keys(r.ns).forEach((function(e){S(t,"onopennamespace",{prefix:e,uri:r.ns[e]})}));for(var s=0,i=t.attribList.length;s<i;s++){var a=t.attribList[s],c=a[0],u=a[1],h=N(c,!0),l=h.prefix,p=h.local,d=""===l?"":r.ns[l]||"",f={name:c,value:u,prefix:l,local:p,uri:d};l&&"xmlns"!==l&&!d&&(x(t,"Unbound namespace prefix: "+JSON.stringify(l)),f.uri=l),t.tag.attributes[c]=f,S(t,"onattribute",f)}t.attribList.length=0}t.tag.isSelfClosing=!!e,t.sawRoot=!0,t.tags.push(t.tag),S(t,"onopentag",t.tag),e||(t.noscript||"script"!==t.tagName.toLowerCase()?t.state=C.TEXT:t.state=C.SCRIPT,t.tag=null,t.tagName=""),t.attribName=t.attribValue="",t.attribList.length=0}function F(t){if(!t.tagName)return x(t,"Weird empty close tag."),t.textNode+="</>",void(t.state=C.TEXT);if(t.script){if("script"!==t.tagName)return t.script+="</"+t.tagName+">",t.tagName="",void(t.state=C.SCRIPT);S(t,"onscript",t.script),t.script=""}var e=t.tags.length,r=t.tagName;t.strict||(r=r[t.looseCase]());for(var n=r;e--&&t.tags[e].name!==n;)x(t,"Unexpected close tag");if(e<0)return x(t,"Unmatched closing tag: "+t.tagName),t.textNode+="</"+t.tagName+">",void(t.state=C.TEXT);t.tagName=r;for(var o=t.tags.length;o-- >e;){var s=t.tag=t.tags.pop();t.tagName=t.tag.name,S(t,"onclosetag",t.tagName);var i={};for(var a in s.ns)i[a]=s.ns[a];var c=t.tags[t.tags.length-1]||t;t.opt.xmlns&&s.ns!==c.ns&&Object.keys(s.ns).forEach((function(e){var r=s.ns[e];S(t,"onclosenamespace",{prefix:e,uri:r})}))}0===e&&(t.closedRoot=!0),t.tagName=t.attribValue=t.attribName="",t.attribList.length=0,t.state=C.TEXT}function L(t){var e,r=t.entity,n=r.toLowerCase(),o="";return t.ENTITIES[r]?t.ENTITIES[r]:t.ENTITIES[n]?t.ENTITIES[n]:("#"===(r=n).charAt(0)&&("x"===r.charAt(1)?(r=r.slice(2),o=(e=parseInt(r,16)).toString(16)):(r=r.slice(1),o=(e=parseInt(r,10)).toString(10))),r=r.replace(/^0+/,""),isNaN(e)||o.toLowerCase()!==r?(x(t,"Invalid character entity"),"&"+t.entity+";"):String.fromCodePoint(e))}function k(t,e){"<"===e?(t.state=C.OPEN_WAKA,t.startTagPosition=t.position):f(e)||(x(t,"Non-whitespace before first tag."),t.textNode=e,t.state=C.TEXT)}function j(t,e){var r="";return e<t.length&&(r=t.charAt(e)),r}C=t.STATE,String.fromCodePoint||(w=String.fromCharCode,E=Math.floor,b=function(){var t,e,r=16384,n=[],o=-1,s=arguments.length;if(!s)return"";for(var i="";++o<s;){var a=Number(arguments[o]);if(!isFinite(a)||a<0||a>1114111||E(a)!==a)throw RangeError("Invalid code point: "+a);a<=65535?n.push(a):(t=55296+((a-=65536)>>10),e=a%1024+56320,n.push(t,e)),(o+1===s||n.length>r)&&(i+=w.apply(null,n),n.length=0)}return i},Object.defineProperty?Object.defineProperty(String,"fromCodePoint",{value:b,configurable:!0,writable:!0}):String.fromCodePoint=b)}(e)},2257:(t,e,r)=>{const n=Symbol("SemVer ANY");class o{static get ANY(){return n}constructor(t,e){if(e=s(e),t instanceof o){if(t.loose===!!e.loose)return t;t=t.value}u("comparator",t,e),this.options=e,this.loose=!!e.loose,this.parse(t),this.semver===n?this.value="":this.value=this.operator+this.semver.version,u("comp",this)}parse(t){const e=this.options.loose?i[a.COMPARATORLOOSE]:i[a.COMPARATOR],r=t.match(e);if(!r)throw new TypeError(`Invalid comparator: ${t}`);this.operator=void 0!==r[1]?r[1]:"","="===this.operator&&(this.operator=""),r[2]?this.semver=new h(r[2],this.options.loose):this.semver=n}toString(){return this.value}test(t){if(u("Comparator.test",t,this.options.loose),this.semver===n||t===n)return!0;if("string"==typeof t)try{t=new h(t,this.options)}catch(t){return!1}return c(t,this.operator,this.semver,this.options)}intersects(t,e){if(!(t instanceof o))throw new TypeError("a Comparator is required");if(e&&"object"==typeof e||(e={loose:!!e,includePrerelease:!1}),""===this.operator)return""===this.value||new l(t.value,e).test(this.value);if(""===t.operator)return""===t.value||new l(this.value,e).test(t.semver);const r=!(">="!==this.operator&&">"!==this.operator||">="!==t.operator&&">"!==t.operator),n=!("<="!==this.operator&&"<"!==this.operator||"<="!==t.operator&&"<"!==t.operator),s=this.semver.version===t.semver.version,i=!(">="!==this.operator&&"<="!==this.operator||">="!==t.operator&&"<="!==t.operator),a=c(this.semver,"<",t.semver,e)&&(">="===this.operator||">"===this.operator)&&("<="===t.operator||"<"===t.operator),u=c(this.semver,">",t.semver,e)&&("<="===this.operator||"<"===this.operator)&&(">="===t.operator||">"===t.operator);return r||n||s&&i||a||u}}t.exports=o;const s=r(2893),{re:i,t:a}=r(5765),c=r(7539),u=r(4225),h=r(6376),l=r(6902)},6902:(t,e,r)=>{class n{constructor(t,e){if(e=s(e),t instanceof n)return t.loose===!!e.loose&&t.includePrerelease===!!e.includePrerelease?t:new n(t.raw,e);if(t instanceof i)return this.raw=t.value,this.set=[[t]],this.format(),this;if(this.options=e,this.loose=!!e.loose,this.includePrerelease=!!e.includePrerelease,this.raw=t,this.set=t.split(/\s*\|\|\s*/).map((t=>this.parseRange(t.trim()))).filter((t=>t.length)),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${t}`);if(this.set.length>1){const t=this.set[0];if(this.set=this.set.filter((t=>!f(t[0]))),0===this.set.length)this.set=[t];else if(this.set.length>1)for(const t of this.set)if(1===t.length&&m(t[0])){this.set=[t];break}}this.format()}format(){return this.range=this.set.map((t=>t.join(" ").trim())).join("||").trim(),this.range}toString(){return this.range}parseRange(t){t=t.trim();const e=`parseRange:${Object.keys(this.options).join(",")}:${t}`,r=o.get(e);if(r)return r;const n=this.options.loose,s=n?u[h.HYPHENRANGELOOSE]:u[h.HYPHENRANGE];t=t.replace(s,I(this.options.includePrerelease)),a("hyphen replace",t),t=t.replace(u[h.COMPARATORTRIM],l),a("comparator trim",t,u[h.COMPARATORTRIM]),t=(t=(t=t.replace(u[h.TILDETRIM],p)).replace(u[h.CARETTRIM],d)).split(/\s+/).join(" ");const c=n?u[h.COMPARATORLOOSE]:u[h.COMPARATOR],m=t.split(" ").map((t=>y(t,this.options))).join(" ").split(/\s+/).map((t=>D(t,this.options))).filter(this.options.loose?t=>!!t.match(c):()=>!0).map((t=>new i(t,this.options))),g=(m.length,new Map);for(const t of m){if(f(t))return[t];g.set(t.value,t)}g.size>1&&g.has("")&&g.delete("");const v=[...g.values()];return o.set(e,v),v}intersects(t,e){if(!(t instanceof n))throw new TypeError("a Range is required");return this.set.some((r=>g(r,e)&&t.set.some((t=>g(t,e)&&r.every((r=>t.every((t=>r.intersects(t,e)))))))))}test(t){if(!t)return!1;if("string"==typeof t)try{t=new c(t,this.options)}catch(t){return!1}for(let e=0;e<this.set.length;e++)if(R(this.set[e],t,this.options))return!0;return!1}}t.exports=n;const o=new(r(6062))({max:1e3}),s=r(2893),i=r(2257),a=r(4225),c=r(6376),{re:u,t:h,comparatorTrimReplace:l,tildeTrimReplace:p,caretTrimReplace:d}=r(5765),f=t=>"<0.0.0-0"===t.value,m=t=>""===t.value,g=(t,e)=>{let r=!0;const n=t.slice();let o=n.pop();for(;r&&n.length;)r=n.every((t=>o.intersects(t,e))),o=n.pop();return r},y=(t,e)=>(a("comp",t,e),t=b(t,e),a("caret",t),t=w(t,e),a("tildes",t),t=_(t,e),a("xrange",t),t=S(t,e),a("stars",t),t),v=t=>!t||"x"===t.toLowerCase()||"*"===t,w=(t,e)=>t.trim().split(/\s+/).map((t=>E(t,e))).join(" "),E=(t,e)=>{const r=e.loose?u[h.TILDELOOSE]:u[h.TILDE];return t.replace(r,((e,r,n,o,s)=>{let i;return a("tilde",t,e,r,n,o,s),v(r)?i="":v(n)?i=`>=${r}.0.0 <${+r+1}.0.0-0`:v(o)?i=`>=${r}.${n}.0 <${r}.${+n+1}.0-0`:s?(a("replaceTilde pr",s),i=`>=${r}.${n}.${o}-${s} <${r}.${+n+1}.0-0`):i=`>=${r}.${n}.${o} <${r}.${+n+1}.0-0`,a("tilde return",i),i}))},b=(t,e)=>t.trim().split(/\s+/).map((t=>C(t,e))).join(" "),C=(t,e)=>{a("caret",t,e);const r=e.loose?u[h.CARETLOOSE]:u[h.CARET],n=e.includePrerelease?"-0":"";return t.replace(r,((e,r,o,s,i)=>{let c;return a("caret",t,e,r,o,s,i),v(r)?c="":v(o)?c=`>=${r}.0.0${n} <${+r+1}.0.0-0`:v(s)?c="0"===r?`>=${r}.${o}.0${n} <${r}.${+o+1}.0-0`:`>=${r}.${o}.0${n} <${+r+1}.0.0-0`:i?(a("replaceCaret pr",i),c="0"===r?"0"===o?`>=${r}.${o}.${s}-${i} <${r}.${o}.${+s+1}-0`:`>=${r}.${o}.${s}-${i} <${r}.${+o+1}.0-0`:`>=${r}.${o}.${s}-${i} <${+r+1}.0.0-0`):(a("no pr"),c="0"===r?"0"===o?`>=${r}.${o}.${s}${n} <${r}.${o}.${+s+1}-0`:`>=${r}.${o}.${s}${n} <${r}.${+o+1}.0-0`:`>=${r}.${o}.${s} <${+r+1}.0.0-0`),a("caret return",c),c}))},_=(t,e)=>(a("replaceXRanges",t,e),t.split(/\s+/).map((t=>O(t,e))).join(" ")),O=(t,e)=>{t=t.trim();const r=e.loose?u[h.XRANGELOOSE]:u[h.XRANGE];return t.replace(r,((r,n,o,s,i,c)=>{a("xRange",t,r,n,o,s,i,c);const u=v(o),h=u||v(s),l=h||v(i),p=l;return"="===n&&p&&(n=""),c=e.includePrerelease?"-0":"",u?r=">"===n||"<"===n?"<0.0.0-0":"*":n&&p?(h&&(s=0),i=0,">"===n?(n=">=",h?(o=+o+1,s=0,i=0):(s=+s+1,i=0)):"<="===n&&(n="<",h?o=+o+1:s=+s+1),"<"===n&&(c="-0"),r=`${n+o}.${s}.${i}${c}`):h?r=`>=${o}.0.0${c} <${+o+1}.0.0-0`:l&&(r=`>=${o}.${s}.0${c} <${o}.${+s+1}.0-0`),a("xRange return",r),r}))},S=(t,e)=>(a("replaceStars",t,e),t.trim().replace(u[h.STAR],"")),D=(t,e)=>(a("replaceGTE0",t,e),t.trim().replace(u[e.includePrerelease?h.GTE0PRE:h.GTE0],"")),I=t=>(e,r,n,o,s,i,a,c,u,h,l,p,d)=>`${r=v(n)?"":v(o)?`>=${n}.0.0${t?"-0":""}`:v(s)?`>=${n}.${o}.0${t?"-0":""}`:i?`>=${r}`:`>=${r}${t?"-0":""}`} ${c=v(u)?"":v(h)?`<${+u+1}.0.0-0`:v(l)?`<${u}.${+h+1}.0-0`:p?`<=${u}.${h}.${l}-${p}`:t?`<${u}.${h}.${+l+1}-0`:`<=${c}`}`.trim(),R=(t,e,r)=>{for(let r=0;r<t.length;r++)if(!t[r].test(e))return!1;if(e.prerelease.length&&!r.includePrerelease){for(let r=0;r<t.length;r++)if(a(t[r].semver),t[r].semver!==i.ANY&&t[r].semver.prerelease.length>0){const n=t[r].semver;if(n.major===e.major&&n.minor===e.minor&&n.patch===e.patch)return!0}return!1}return!0}},6376:(t,e,r)=>{const n=r(4225),{MAX_LENGTH:o,MAX_SAFE_INTEGER:s}=r(3295),{re:i,t:a}=r(5765),c=r(2893),{compareIdentifiers:u}=r(6742);class h{constructor(t,e){if(e=c(e),t instanceof h){if(t.loose===!!e.loose&&t.includePrerelease===!!e.includePrerelease)return t;t=t.version}else if("string"!=typeof t)throw new TypeError(`Invalid Version: ${t}`);if(t.length>o)throw new TypeError(`version is longer than ${o} characters`);n("SemVer",t,e),this.options=e,this.loose=!!e.loose,this.includePrerelease=!!e.includePrerelease;const r=t.trim().match(e.loose?i[a.LOOSE]:i[a.FULL]);if(!r)throw new TypeError(`Invalid Version: ${t}`);if(this.raw=t,this.major=+r[1],this.minor=+r[2],this.patch=+r[3],this.major>s||this.major<0)throw new TypeError("Invalid major version");if(this.minor>s||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>s||this.patch<0)throw new TypeError("Invalid patch version");r[4]?this.prerelease=r[4].split(".").map((t=>{if(/^[0-9]+$/.test(t)){const e=+t;if(e>=0&&e<s)return e}return t})):this.prerelease=[],this.build=r[5]?r[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(t){if(n("SemVer.compare",this.version,this.options,t),!(t instanceof h)){if("string"==typeof t&&t===this.version)return 0;t=new h(t,this.options)}return t.version===this.version?0:this.compareMain(t)||this.comparePre(t)}compareMain(t){return t instanceof h||(t=new h(t,this.options)),u(this.major,t.major)||u(this.minor,t.minor)||u(this.patch,t.patch)}comparePre(t){if(t instanceof h||(t=new h(t,this.options)),this.prerelease.length&&!t.prerelease.length)return-1;if(!this.prerelease.length&&t.prerelease.length)return 1;if(!this.prerelease.length&&!t.prerelease.length)return 0;let e=0;do{const r=this.prerelease[e],o=t.prerelease[e];if(n("prerelease compare",e,r,o),void 0===r&&void 0===o)return 0;if(void 0===o)return 1;if(void 0===r)return-1;if(r!==o)return u(r,o)}while(++e)}compareBuild(t){t instanceof h||(t=new h(t,this.options));let e=0;do{const r=this.build[e],o=t.build[e];if(n("prerelease compare",e,r,o),void 0===r&&void 0===o)return 0;if(void 0===o)return 1;if(void 0===r)return-1;if(r!==o)return u(r,o)}while(++e)}inc(t,e){switch(t){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",e);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",e);break;case"prepatch":this.prerelease.length=0,this.inc("patch",e),this.inc("pre",e);break;case"prerelease":0===this.prerelease.length&&this.inc("patch",e),this.inc("pre",e);break;case"major":0===this.minor&&0===this.patch&&0!==this.prerelease.length||this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":0===this.patch&&0!==this.prerelease.length||this.minor++,this.patch=0,this.prerelease=[];break;case"patch":0===this.prerelease.length&&this.patch++,this.prerelease=[];break;case"pre":if(0===this.prerelease.length)this.prerelease=[0];else{let t=this.prerelease.length;for(;--t>=0;)"number"==typeof this.prerelease[t]&&(this.prerelease[t]++,t=-2);-1===t&&this.prerelease.push(0)}e&&(this.prerelease[0]===e?isNaN(this.prerelease[1])&&(this.prerelease=[e,0]):this.prerelease=[e,0]);break;default:throw new Error(`invalid increment argument: ${t}`)}return this.format(),this.raw=this.version,this}}t.exports=h},3507:(t,e,r)=>{const n=r(3959);t.exports=(t,e)=>{const r=n(t.trim().replace(/^[=v]+/,""),e);return r?r.version:null}},7539:(t,e,r)=>{const n=r(8718),o=r(1194),s=r(1312),i=r(5903),a=r(1544),c=r(2056);t.exports=(t,e,r,u)=>{switch(e){case"===":return"object"==typeof t&&(t=t.version),"object"==typeof r&&(r=r.version),t===r;case"!==":return"object"==typeof t&&(t=t.version),"object"==typeof r&&(r=r.version),t!==r;case"":case"=":case"==":return n(t,r,u);case"!=":return o(t,r,u);case">":return s(t,r,u);case">=":return i(t,r,u);case"<":return a(t,r,u);case"<=":return c(t,r,u);default:throw new TypeError(`Invalid operator: ${e}`)}}},9038:(t,e,r)=>{const n=r(6376),o=r(3959),{re:s,t:i}=r(5765);t.exports=(t,e)=>{if(t instanceof n)return t;if("number"==typeof t&&(t=String(t)),"string"!=typeof t)return null;let r=null;if((e=e||{}).rtl){let e;for(;(e=s[i.COERCERTL].exec(t))&&(!r||r.index+r[0].length!==t.length);)r&&e.index+e[0].length===r.index+r[0].length||(r=e),s[i.COERCERTL].lastIndex=e.index+e[1].length+e[2].length;s[i.COERCERTL].lastIndex=-1}else r=t.match(s[i.COERCE]);return null===r?null:o(`${r[2]}.${r[3]||"0"}.${r[4]||"0"}`,e)}},8880:(t,e,r)=>{const n=r(6376);t.exports=(t,e,r)=>{const o=new n(t,r),s=new n(e,r);return o.compare(s)||o.compareBuild(s)}},7880:(t,e,r)=>{const n=r(6269);t.exports=(t,e)=>n(t,e,!0)},6269:(t,e,r)=>{const n=r(6376);t.exports=(t,e,r)=>new n(t,r).compare(new n(e,r))},2378:(t,e,r)=>{const n=r(3959),o=r(8718);t.exports=(t,e)=>{if(o(t,e))return null;{const r=n(t),o=n(e),s=r.prerelease.length||o.prerelease.length,i=s?"pre":"",a=s?"prerelease":"";for(const t in r)if(("major"===t||"minor"===t||"patch"===t)&&r[t]!==o[t])return i+t;return a}}},8718:(t,e,r)=>{const n=r(6269);t.exports=(t,e,r)=>0===n(t,e,r)},1312:(t,e,r)=>{const n=r(6269);t.exports=(t,e,r)=>n(t,e,r)>0},5903:(t,e,r)=>{const n=r(6269);t.exports=(t,e,r)=>n(t,e,r)>=0},253:(t,e,r)=>{const n=r(6376);t.exports=(t,e,r,o)=>{"string"==typeof r&&(o=r,r=void 0);try{return new n(t,r).inc(e,o).version}catch(t){return null}}},1544:(t,e,r)=>{const n=r(6269);t.exports=(t,e,r)=>n(t,e,r)<0},2056:(t,e,r)=>{const n=r(6269);t.exports=(t,e,r)=>n(t,e,r)<=0},8679:(t,e,r)=>{const n=r(6376);t.exports=(t,e)=>new n(t,e).major},7789:(t,e,r)=>{const n=r(6376);t.exports=(t,e)=>new n(t,e).minor},1194:(t,e,r)=>{const n=r(6269);t.exports=(t,e,r)=>0!==n(t,e,r)},3959:(t,e,r)=>{const{MAX_LENGTH:n}=r(3295),{re:o,t:s}=r(5765),i=r(6376),a=r(2893);t.exports=(t,e)=>{if(e=a(e),t instanceof i)return t;if("string"!=typeof t)return null;if(t.length>n)return null;if(!(e.loose?o[s.LOOSE]:o[s.FULL]).test(t))return null;try{return new i(t,e)}catch(t){return null}}},2358:(t,e,r)=>{const n=r(6376);t.exports=(t,e)=>new n(t,e).patch},7559:(t,e,r)=>{const n=r(3959);t.exports=(t,e)=>{const r=n(t,e);return r&&r.prerelease.length?r.prerelease:null}},9795:(t,e,r)=>{const n=r(6269);t.exports=(t,e,r)=>n(e,t,r)},3657:(t,e,r)=>{const n=r(8880);t.exports=(t,e)=>t.sort(((t,r)=>n(r,t,e)))},5712:(t,e,r)=>{const n=r(6902);t.exports=(t,e,r)=>{try{e=new n(e,r)}catch(t){return!1}return e.test(t)}},1100:(t,e,r)=>{const n=r(8880);t.exports=(t,e)=>t.sort(((t,r)=>n(t,r,e)))},6397:(t,e,r)=>{const n=r(3959);t.exports=(t,e)=>{const r=n(t,e);return r?r.version:null}},1249:(t,e,r)=>{const n=r(5765);t.exports={re:n.re,src:n.src,tokens:n.t,SEMVER_SPEC_VERSION:r(3295).SEMVER_SPEC_VERSION,SemVer:r(6376),compareIdentifiers:r(6742).compareIdentifiers,rcompareIdentifiers:r(6742).rcompareIdentifiers,parse:r(3959),valid:r(6397),clean:r(3507),inc:r(253),diff:r(2378),major:r(8679),minor:r(7789),patch:r(2358),prerelease:r(7559),compare:r(6269),rcompare:r(9795),compareLoose:r(7880),compareBuild:r(8880),sort:r(1100),rsort:r(3657),gt:r(1312),lt:r(1544),eq:r(8718),neq:r(1194),gte:r(5903),lte:r(2056),cmp:r(7539),coerce:r(9038),Comparator:r(2257),Range:r(6902),satisfies:r(5712),toComparators:r(1042),maxSatisfying:r(5775),minSatisfying:r(1657),minVersion:r(5316),validRange:r(9042),outside:r(6826),gtr:r(7606),ltr:r(32),intersects:r(2937),simplifyRange:r(7908),subset:r(799)}},3295:t=>{const e=Number.MAX_SAFE_INTEGER||9007199254740991;t.exports={SEMVER_SPEC_VERSION:"2.0.0",MAX_LENGTH:256,MAX_SAFE_INTEGER:e,MAX_SAFE_COMPONENT_LENGTH:16}},4225:t=>{const e="object"==typeof process&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?(...t)=>console.error("SEMVER",...t):()=>{};t.exports=e},6742:t=>{const e=/^[0-9]+$/,r=(t,r)=>{const n=e.test(t),o=e.test(r);return n&&o&&(t=+t,r=+r),t===r?0:n&&!o?-1:o&&!n?1:t<r?-1:1};t.exports={compareIdentifiers:r,rcompareIdentifiers:(t,e)=>r(e,t)}},2893:t=>{const e=["includePrerelease","loose","rtl"];t.exports=t=>t?"object"!=typeof t?{loose:!0}:e.filter((e=>t[e])).reduce(((t,e)=>(t[e]=!0,t)),{}):{}},5765:(t,e,r)=>{const{MAX_SAFE_COMPONENT_LENGTH:n}=r(3295),o=r(4225),s=(e=t.exports={}).re=[],i=e.src=[],a=e.t={};let c=0;const u=(t,e,r)=>{const n=c++;o(n,e),a[t]=n,i[n]=e,s[n]=new RegExp(e,r?"g":void 0)};u("NUMERICIDENTIFIER","0|[1-9]\\d*"),u("NUMERICIDENTIFIERLOOSE","[0-9]+"),u("NONNUMERICIDENTIFIER","\\d*[a-zA-Z-][a-zA-Z0-9-]*"),u("MAINVERSION",`(${i[a.NUMERICIDENTIFIER]})\\.(${i[a.NUMERICIDENTIFIER]})\\.(${i[a.NUMERICIDENTIFIER]})`),u("MAINVERSIONLOOSE",`(${i[a.NUMERICIDENTIFIERLOOSE]})\\.(${i[a.NUMERICIDENTIFIERLOOSE]})\\.(${i[a.NUMERICIDENTIFIERLOOSE]})`),u("PRERELEASEIDENTIFIER",`(?:${i[a.NUMERICIDENTIFIER]}|${i[a.NONNUMERICIDENTIFIER]})`),u("PRERELEASEIDENTIFIERLOOSE",`(?:${i[a.NUMERICIDENTIFIERLOOSE]}|${i[a.NONNUMERICIDENTIFIER]})`),u("PRERELEASE",`(?:-(${i[a.PRERELEASEIDENTIFIER]}(?:\\.${i[a.PRERELEASEIDENTIFIER]})*))`),u("PRERELEASELOOSE",`(?:-?(${i[a.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${i[a.PRERELEASEIDENTIFIERLOOSE]})*))`),u("BUILDIDENTIFIER","[0-9A-Za-z-]+"),u("BUILD",`(?:\\+(${i[a.BUILDIDENTIFIER]}(?:\\.${i[a.BUILDIDENTIFIER]})*))`),u("FULLPLAIN",`v?${i[a.MAINVERSION]}${i[a.PRERELEASE]}?${i[a.BUILD]}?`),u("FULL",`^${i[a.FULLPLAIN]}$`),u("LOOSEPLAIN",`[v=\\s]*${i[a.MAINVERSIONLOOSE]}${i[a.PRERELEASELOOSE]}?${i[a.BUILD]}?`),u("LOOSE",`^${i[a.LOOSEPLAIN]}$`),u("GTLT","((?:<|>)?=?)"),u("XRANGEIDENTIFIERLOOSE",`${i[a.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),u("XRANGEIDENTIFIER",`${i[a.NUMERICIDENTIFIER]}|x|X|\\*`),u("XRANGEPLAIN",`[v=\\s]*(${i[a.XRANGEIDENTIFIER]})(?:\\.(${i[a.XRANGEIDENTIFIER]})(?:\\.(${i[a.XRANGEIDENTIFIER]})(?:${i[a.PRERELEASE]})?${i[a.BUILD]}?)?)?`),u("XRANGEPLAINLOOSE",`[v=\\s]*(${i[a.XRANGEIDENTIFIERLOOSE]})(?:\\.(${i[a.XRANGEIDENTIFIERLOOSE]})(?:\\.(${i[a.XRANGEIDENTIFIERLOOSE]})(?:${i[a.PRERELEASELOOSE]})?${i[a.BUILD]}?)?)?`),u("XRANGE",`^${i[a.GTLT]}\\s*${i[a.XRANGEPLAIN]}$`),u("XRANGELOOSE",`^${i[a.GTLT]}\\s*${i[a.XRANGEPLAINLOOSE]}$`),u("COERCE",`(^|[^\\d])(\\d{1,${n}})(?:\\.(\\d{1,${n}}))?(?:\\.(\\d{1,${n}}))?(?:$|[^\\d])`),u("COERCERTL",i[a.COERCE],!0),u("LONETILDE","(?:~>?)"),u("TILDETRIM",`(\\s*)${i[a.LONETILDE]}\\s+`,!0),e.tildeTrimReplace="$1~",u("TILDE",`^${i[a.LONETILDE]}${i[a.XRANGEPLAIN]}$`),u("TILDELOOSE",`^${i[a.LONETILDE]}${i[a.XRANGEPLAINLOOSE]}$`),u("LONECARET","(?:\\^)"),u("CARETTRIM",`(\\s*)${i[a.LONECARET]}\\s+`,!0),e.caretTrimReplace="$1^",u("CARET",`^${i[a.LONECARET]}${i[a.XRANGEPLAIN]}$`),u("CARETLOOSE",`^${i[a.LONECARET]}${i[a.XRANGEPLAINLOOSE]}$`),u("COMPARATORLOOSE",`^${i[a.GTLT]}\\s*(${i[a.LOOSEPLAIN]})$|^$`),u("COMPARATOR",`^${i[a.GTLT]}\\s*(${i[a.FULLPLAIN]})$|^$`),u("COMPARATORTRIM",`(\\s*)${i[a.GTLT]}\\s*(${i[a.LOOSEPLAIN]}|${i[a.XRANGEPLAIN]})`,!0),e.comparatorTrimReplace="$1$2$3",u("HYPHENRANGE",`^\\s*(${i[a.XRANGEPLAIN]})\\s+-\\s+(${i[a.XRANGEPLAIN]})\\s*$`),u("HYPHENRANGELOOSE",`^\\s*(${i[a.XRANGEPLAINLOOSE]})\\s+-\\s+(${i[a.XRANGEPLAINLOOSE]})\\s*$`),u("STAR","(<|>)?=?\\s*\\*"),u("GTE0","^\\s*>=\\s*0.0.0\\s*$"),u("GTE0PRE","^\\s*>=\\s*0.0.0-0\\s*$")},6062:(t,e,r)=>{"use strict";const n=r(4411),o=Symbol("max"),s=Symbol("length"),i=Symbol("lengthCalculator"),a=Symbol("allowStale"),c=Symbol("maxAge"),u=Symbol("dispose"),h=Symbol("noDisposeOnSet"),l=Symbol("lruList"),p=Symbol("cache"),d=Symbol("updateAgeOnGet"),f=()=>1,m=(t,e,r)=>{const n=t[p].get(e);if(n){const e=n.value;if(g(t,e)){if(v(t,n),!t[a])return}else r&&(t[d]&&(n.value.now=Date.now()),t[l].unshiftNode(n));return e.value}},g=(t,e)=>{if(!e||!e.maxAge&&!t[c])return!1;const r=Date.now()-e.now;return e.maxAge?r>e.maxAge:t[c]&&r>t[c]},y=t=>{if(t[s]>t[o])for(let e=t[l].tail;t[s]>t[o]&&null!==e;){const r=e.prev;v(t,e),e=r}},v=(t,e)=>{if(e){const r=e.value;t[u]&&t[u](r.key,r.value),t[s]-=r.length,t[p].delete(r.key),t[l].removeNode(e)}};class w{constructor(t,e,r,n,o){this.key=t,this.value=e,this.length=r,this.now=n,this.maxAge=o||0}}const E=(t,e,r,n)=>{let o=r.value;g(t,o)&&(v(t,r),t[a]||(o=void 0)),o&&e.call(n,o.value,o.key,t)};t.exports=class{constructor(t){if("number"==typeof t&&(t={max:t}),t||(t={}),t.max&&("number"!=typeof t.max||t.max<0))throw new TypeError("max must be a non-negative number");this[o]=t.max||1/0;const e=t.length||f;if(this[i]="function"!=typeof e?f:e,this[a]=t.stale||!1,t.maxAge&&"number"!=typeof t.maxAge)throw new TypeError("maxAge must be a number");this[c]=t.maxAge||0,this[u]=t.dispose,this[h]=t.noDisposeOnSet||!1,this[d]=t.updateAgeOnGet||!1,this.reset()}set max(t){if("number"!=typeof t||t<0)throw new TypeError("max must be a non-negative number");this[o]=t||1/0,y(this)}get max(){return this[o]}set allowStale(t){this[a]=!!t}get allowStale(){return this[a]}set maxAge(t){if("number"!=typeof t)throw new TypeError("maxAge must be a non-negative number");this[c]=t,y(this)}get maxAge(){return this[c]}set lengthCalculator(t){"function"!=typeof t&&(t=f),t!==this[i]&&(this[i]=t,this[s]=0,this[l].forEach((t=>{t.length=this[i](t.value,t.key),this[s]+=t.length}))),y(this)}get lengthCalculator(){return this[i]}get length(){return this[s]}get itemCount(){return this[l].length}rforEach(t,e){e=e||this;for(let r=this[l].tail;null!==r;){const n=r.prev;E(this,t,r,e),r=n}}forEach(t,e){e=e||this;for(let r=this[l].head;null!==r;){const n=r.next;E(this,t,r,e),r=n}}keys(){return this[l].toArray().map((t=>t.key))}values(){return this[l].toArray().map((t=>t.value))}reset(){this[u]&&this[l]&&this[l].length&&this[l].forEach((t=>this[u](t.key,t.value))),this[p]=new Map,this[l]=new n,this[s]=0}dump(){return this[l].map((t=>!g(this,t)&&{k:t.key,v:t.value,e:t.now+(t.maxAge||0)})).toArray().filter((t=>t))}dumpLru(){return this[l]}set(t,e,r){if((r=r||this[c])&&"number"!=typeof r)throw new TypeError("maxAge must be a number");const n=r?Date.now():0,a=this[i](e,t);if(this[p].has(t)){if(a>this[o])return v(this,this[p].get(t)),!1;const i=this[p].get(t).value;return this[u]&&(this[h]||this[u](t,i.value)),i.now=n,i.maxAge=r,i.value=e,this[s]+=a-i.length,i.length=a,this.get(t),y(this),!0}const d=new w(t,e,a,n,r);return d.length>this[o]?(this[u]&&this[u](t,e),!1):(this[s]+=d.length,this[l].unshift(d),this[p].set(t,this[l].head),y(this),!0)}has(t){if(!this[p].has(t))return!1;const e=this[p].get(t).value;return!g(this,e)}get(t){return m(this,t,!0)}peek(t){return m(this,t,!1)}pop(){const t=this[l].tail;return t?(v(this,t),t.value):null}del(t){v(this,this[p].get(t))}load(t){this.reset();const e=Date.now();for(let r=t.length-1;r>=0;r--){const n=t[r],o=n.e||0;if(0===o)this.set(n.k,n.v);else{const t=o-e;t>0&&this.set(n.k,n.v,t)}}}prune(){this[p].forEach(((t,e)=>m(this,e,!1)))}}},7606:(t,e,r)=>{const n=r(6826);t.exports=(t,e,r)=>n(t,e,">",r)},2937:(t,e,r)=>{const n=r(6902);t.exports=(t,e,r)=>(t=new n(t,r),e=new n(e,r),t.intersects(e))},32:(t,e,r)=>{const n=r(6826);t.exports=(t,e,r)=>n(t,e,"<",r)},5775:(t,e,r)=>{const n=r(6376),o=r(6902);t.exports=(t,e,r)=>{let s=null,i=null,a=null;try{a=new o(e,r)}catch(t){return null}return t.forEach((t=>{a.test(t)&&(s&&-1!==i.compare(t)||(s=t,i=new n(s,r)))})),s}},1657:(t,e,r)=>{const n=r(6376),o=r(6902);t.exports=(t,e,r)=>{let s=null,i=null,a=null;try{a=new o(e,r)}catch(t){return null}return t.forEach((t=>{a.test(t)&&(s&&1!==i.compare(t)||(s=t,i=new n(s,r)))})),s}},5316:(t,e,r)=>{const n=r(6376),o=r(6902),s=r(1312);t.exports=(t,e)=>{t=new o(t,e);let r=new n("0.0.0");if(t.test(r))return r;if(r=new n("0.0.0-0"),t.test(r))return r;r=null;for(let e=0;e<t.set.length;++e){const o=t.set[e];let i=null;o.forEach((t=>{const e=new n(t.semver.version);switch(t.operator){case">":0===e.prerelease.length?e.patch++:e.prerelease.push(0),e.raw=e.format();case"":case">=":i&&!s(e,i)||(i=e);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${t.operator}`)}})),!i||r&&!s(r,i)||(r=i)}return r&&t.test(r)?r:null}},6826:(t,e,r)=>{const n=r(6376),o=r(2257),{ANY:s}=o,i=r(6902),a=r(5712),c=r(1312),u=r(1544),h=r(2056),l=r(5903);t.exports=(t,e,r,p)=>{let d,f,m,g,y;switch(t=new n(t,p),e=new i(e,p),r){case">":d=c,f=h,m=u,g=">",y=">=";break;case"<":d=u,f=l,m=c,g="<",y="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(a(t,e,p))return!1;for(let r=0;r<e.set.length;++r){const n=e.set[r];let i=null,a=null;if(n.forEach((t=>{t.semver===s&&(t=new o(">=0.0.0")),i=i||t,a=a||t,d(t.semver,i.semver,p)?i=t:m(t.semver,a.semver,p)&&(a=t)})),i.operator===g||i.operator===y)return!1;if((!a.operator||a.operator===g)&&f(t,a.semver))return!1;if(a.operator===y&&m(t,a.semver))return!1}return!0}},7908:(t,e,r)=>{const n=r(5712),o=r(6269);t.exports=(t,e,r)=>{const s=[];let i=null,a=null;const c=t.sort(((t,e)=>o(t,e,r)));for(const t of c)n(t,e,r)?(a=t,i||(i=t)):(a&&s.push([i,a]),a=null,i=null);i&&s.push([i,null]);const u=[];for(const[t,e]of s)t===e?u.push(t):e||t!==c[0]?e?t===c[0]?u.push(`<=${e}`):u.push(`${t} - ${e}`):u.push(`>=${t}`):u.push("*");const h=u.join(" || "),l="string"==typeof e.raw?e.raw:String(e);return h.length<l.length?h:e}},799:(t,e,r)=>{const n=r(6902),o=r(2257),{ANY:s}=o,i=r(5712),a=r(6269),c=(t,e,r)=>{if(t===e)return!0;if(1===t.length&&t[0].semver===s){if(1===e.length&&e[0].semver===s)return!0;t=r.includePrerelease?[new o(">=0.0.0-0")]:[new o(">=0.0.0")]}if(1===e.length&&e[0].semver===s){if(r.includePrerelease)return!0;e=[new o(">=0.0.0")]}const n=new Set;let c,l,p,d,f,m,g;for(const e of t)">"===e.operator||">="===e.operator?c=u(c,e,r):"<"===e.operator||"<="===e.operator?l=h(l,e,r):n.add(e.semver);if(n.size>1)return null;if(c&&l){if(p=a(c.semver,l.semver,r),p>0)return null;if(0===p&&(">="!==c.operator||"<="!==l.operator))return null}for(const t of n){if(c&&!i(t,String(c),r))return null;if(l&&!i(t,String(l),r))return null;for(const n of e)if(!i(t,String(n),r))return!1;return!0}let y=!(!l||r.includePrerelease||!l.semver.prerelease.length)&&l.semver,v=!(!c||r.includePrerelease||!c.semver.prerelease.length)&&c.semver;y&&1===y.prerelease.length&&"<"===l.operator&&0===y.prerelease[0]&&(y=!1);for(const t of e){if(g=g||">"===t.operator||">="===t.operator,m=m||"<"===t.operator||"<="===t.operator,c)if(v&&t.semver.prerelease&&t.semver.prerelease.length&&t.semver.major===v.major&&t.semver.minor===v.minor&&t.semver.patch===v.patch&&(v=!1),">"===t.operator||">="===t.operator){if(d=u(c,t,r),d===t&&d!==c)return!1}else if(">="===c.operator&&!i(c.semver,String(t),r))return!1;if(l)if(y&&t.semver.prerelease&&t.semver.prerelease.length&&t.semver.major===y.major&&t.semver.minor===y.minor&&t.semver.patch===y.patch&&(y=!1),"<"===t.operator||"<="===t.operator){if(f=h(l,t,r),f===t&&f!==l)return!1}else if("<="===l.operator&&!i(l.semver,String(t),r))return!1;if(!t.operator&&(l||c)&&0!==p)return!1}return!(c&&m&&!l&&0!==p||l&&g&&!c&&0!==p||v||y)},u=(t,e,r)=>{if(!t)return e;const n=a(t.semver,e.semver,r);return n>0?t:n<0||">"===e.operator&&">="===t.operator?e:t},h=(t,e,r)=>{if(!t)return e;const n=a(t.semver,e.semver,r);return n<0?t:n>0||"<"===e.operator&&"<="===t.operator?e:t};t.exports=(t,e,r={})=>{if(t===e)return!0;t=new n(t,r),e=new n(e,r);let o=!1;t:for(const n of t.set){for(const t of e.set){const e=c(n,t,r);if(o=o||null!==e,e)continue t}if(o)return!1}return!0}},1042:(t,e,r)=>{const n=r(6902);t.exports=(t,e)=>new n(t,e).set.map((t=>t.map((t=>t.value)).join(" ").trim().split(" ")))},9042:(t,e,r)=>{const n=r(6902);t.exports=(t,e)=>{try{return new n(t,e).range||"*"}catch(t){return null}}},6276:(t,e,r)=>{const n=r(5747),o=r(2087),s=r(5622),i=r(6417),a={fs:n.constants,os:o.constants},c=r(5629),u="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",h=/XXXXXX/,l=(a.O_CREAT||a.fs.O_CREAT)|(a.O_EXCL||a.fs.O_EXCL)|(a.O_RDWR||a.fs.O_RDWR),p="win32"===o.platform(),d=a.EBADF||a.os.errno.EBADF,f=a.ENOENT||a.os.errno.ENOENT,m=[],g=n.rmdirSync.bind(n),y=c.sync;let v=!1;function w(t,e){const r=T(t,e),o=r[0],s=r[1];try{P(o)}catch(t){return s(t)}let i=o.tries;!function t(){try{const e=x(o);n.stat(e,(function(r){if(!r)return i-- >0?t():s(new Error("Could not get a unique tmp filename, max tries reached "+e));s(null,e)}))}catch(t){s(t)}}()}function E(t){const e=T(t)[0];P(e);let r=e.tries;do{const t=x(e);try{n.statSync(t)}catch(e){return t}}while(r-- >0);throw new Error("Could not get a unique tmp filename, max tries reached")}function b(t,e){const r=function(t){if(t&&!F(t))return e(t);e()};0<=t[0]?n.close(t[0],(function(){n.unlink(t[1],r)})):n.unlink(t[1],r)}function C(t){let e=null;try{0<=t[0]&&n.closeSync(t[0])}catch(t){if(!L(t,-d,"EBADF")&&!F(t))throw t}finally{try{n.unlinkSync(t[1])}catch(t){F(t)||(e=t)}}if(null!==e)throw e}function _(t,e,r,n){const o=S(C,[e,t],n),s=S(b,[e,t],n,o);return r.keep||m.unshift(o),n?o:s}function O(t,e,r){const o=e.unsafeCleanup?c:n.rmdir.bind(n),s=S(e.unsafeCleanup?y:g,t,r),i=S(o,t,r,s);return e.keep||m.unshift(s),r?s:i}function S(t,e,r,n){let o=!1;return function s(i){if(!o){const a=n||s,c=m.indexOf(a);return c>=0&&m.splice(c,1),o=!0,r||t===g||t===y?t(e):t(e,i||function(){})}}}function D(t){let e=[],r=null;try{r=i.randomBytes(t)}catch(e){r=i.pseudoRandomBytes(t)}for(var n=0;n<t;n++)e.push(u[r[n]%u.length]);return e.join("")}function I(t){return null===t||R(t)||!t.trim()}function R(t){return void 0===t}function T(t,e){if("function"==typeof t)return[{},t];if(R(t))return[{},e];const r={};for(const e of Object.getOwnPropertyNames(t))r[e]=t[e];return[r,e]}function x(t){const e=t.tmpdir;if(!R(t.name))return s.join(e,t.dir,t.name);if(!R(t.template))return s.join(e,t.dir,t.template).replace(h,D(6));const r=[t.prefix?t.prefix:"tmp","-",process.pid,"-",D(12),t.postfix?"-"+t.postfix:""].join("");return s.join(e,t.dir,r)}function P(t){t.tmpdir=k(t);const e=t.tmpdir;if(R(t.name)||M(t.name,"name",e),R(t.dir)||M(t.dir,"dir",e),!R(t.template)&&(M(t.template,"template",e),!t.template.match(h)))throw new Error(`Invalid template, found "${t.template}".`);if(!R(t.tries)&&isNaN(t.tries)||t.tries<0)throw new Error(`Invalid tries, found "${t.tries}".`);t.tries=R(t.name)?t.tries||3:1,t.keep=!!t.keep,t.detachDescriptor=!!t.detachDescriptor,t.discardDescriptor=!!t.discardDescriptor,t.unsafeCleanup=!!t.unsafeCleanup,t.dir=R(t.dir)?"":s.relative(e,N(t.dir,e)),t.template=R(t.template)?void 0:s.relative(e,N(t.template,e)),t.template=I(t.template)?void 0:s.relative(t.dir,t.template),t.name=R(t.name)?void 0:A(t.name),t.prefix=R(t.prefix)?"":t.prefix,t.postfix=R(t.postfix)?"":t.postfix}function N(t,e){const r=A(t);return r.startsWith(e)?s.resolve(r):s.resolve(s.join(e,r))}function A(t){return I(t)?t:t.replace(/["']/g,"")}function M(t,e,r){if("name"===e){if(s.isAbsolute(t))throw new Error(`${e} option must not contain an absolute path, found "${t}".`);let r=s.basename(t);if(".."===r||"."===r||r!==t)throw new Error(`${e} option must not contain a path, found "${t}".`)}else{if(s.isAbsolute(t)&&!t.startsWith(r))throw new Error(`${e} option must be relative to "${r}", found "${t}".`);let n=N(t,r);if(!n.startsWith(r))throw new Error(`${e} option must be relative to "${r}", found "${n}".`)}}function F(t){return L(t,-f,"ENOENT")}function L(t,e,r){return p?t.code===r:t.code===r&&t.errno===e}function k(t){return s.resolve(A(t&&t.tmpdir||o.tmpdir()))}process.addListener("exit",(function(){if(v)for(;m.length;)try{m[0]()}catch(t){}})),Object.defineProperty(t.exports,"tmpdir",{enumerable:!0,configurable:!1,get:function(){return k()}}),t.exports.dir=function(t,e){const r=T(t,e),o=r[0],s=r[1];w(o,(function(t,e){if(t)return s(t);n.mkdir(e,o.mode||448,(function(t){if(t)return s(t);s(null,e,O(e,o,!1))}))}))},t.exports.dirSync=function(t){const e=T(t)[0],r=E(e);return n.mkdirSync(r,e.mode||448),{name:r,removeCallback:O(r,e,!0)}},t.exports.file=function(t,e){const r=T(t,e),o=r[0],s=r[1];w(o,(function(t,e){if(t)return s(t);n.open(e,l,o.mode||384,(function(t,r){if(t)return s(t);if(o.discardDescriptor)return n.close(r,(function(t){return s(t,e,void 0,_(e,-1,o,!1))}));{const t=o.discardDescriptor||o.detachDescriptor;s(null,e,r,_(e,t?-1:r,o,!1))}}))}))},t.exports.fileSync=function(t){const e=T(t)[0],r=e.discardDescriptor||e.detachDescriptor,o=E(e);var s=n.openSync(o,l,e.mode||384);return e.discardDescriptor&&(n.closeSync(s),s=void 0),{name:o,fd:s,removeCallback:_(o,r?-1:s,e,!0)}},t.exports.tmpName=w,t.exports.tmpNameSync=E,t.exports.setGracefulCleanup=function(){v=!0}},5629:(t,e,r)=>{const n=r(2357),o=r(5622),s=r(5747);let i;try{i=r(2884)}catch(t){}const a={nosort:!0,silent:!0};let c=0;const u="win32"===process.platform,h=t=>{if(["unlink","chmod","stat","lstat","rmdir","readdir"].forEach((e=>{t[e]=t[e]||s[e],t[e+="Sync"]=t[e]||s[e]})),t.maxBusyTries=t.maxBusyTries||3,t.emfileWait=t.emfileWait||1e3,!1===t.glob&&(t.disableGlob=!0),!0!==t.disableGlob&&void 0===i)throw Error("glob dependency not found, set `options.disableGlob = true` if intentional");t.disableGlob=t.disableGlob||!1,t.glob=t.glob||a},l=(t,e,r)=>{"function"==typeof e&&(r=e,e={}),n(t,"rimraf: missing path"),n.equal(typeof t,"string","rimraf: path should be a string"),n.equal(typeof r,"function","rimraf: callback function required"),n(e,"rimraf: invalid options argument provided"),n.equal(typeof e,"object","rimraf: options should be object"),h(e);let o=0,s=null,a=0;const u=(t,n)=>t?r(t):(a=n.length,0===a?r():void n.forEach((t=>{const n=i=>{if(i){if(("EBUSY"===i.code||"ENOTEMPTY"===i.code||"EPERM"===i.code)&&o<e.maxBusyTries)return o++,setTimeout((()=>p(t,e,n)),100*o);if("EMFILE"===i.code&&c<e.emfileWait)return setTimeout((()=>p(t,e,n)),c++);"ENOENT"===i.code&&(i=null)}c=0,(t=>{s=s||t,0==--a&&r(s)})(i)};p(t,e,n)})));if(e.disableGlob||!i.hasMagic(t))return u(null,[t]);e.lstat(t,((r,n)=>{if(!r)return u(null,[t]);i(t,e.glob,u)}))},p=(t,e,r)=>{n(t),n(e),n("function"==typeof r),e.lstat(t,((n,o)=>n&&"ENOENT"===n.code?r(null):(n&&"EPERM"===n.code&&u&&d(t,e,n,r),o&&o.isDirectory()?m(t,e,n,r):void e.unlink(t,(n=>{if(n){if("ENOENT"===n.code)return r(null);if("EPERM"===n.code)return u?d(t,e,n,r):m(t,e,n,r);if("EISDIR"===n.code)return m(t,e,n,r)}return r(n)})))))},d=(t,e,r,o)=>{n(t),n(e),n("function"==typeof o),e.chmod(t,438,(n=>{n?o("ENOENT"===n.code?null:r):e.stat(t,((n,s)=>{n?o("ENOENT"===n.code?null:r):s.isDirectory()?m(t,e,r,o):e.unlink(t,o)}))}))},f=(t,e,r)=>{n(t),n(e);try{e.chmodSync(t,438)}catch(t){if("ENOENT"===t.code)return;throw r}let o;try{o=e.statSync(t)}catch(t){if("ENOENT"===t.code)return;throw r}o.isDirectory()?v(t,e,r):e.unlinkSync(t)},m=(t,e,r,o)=>{n(t),n(e),n("function"==typeof o),e.rmdir(t,(n=>{!n||"ENOTEMPTY"!==n.code&&"EEXIST"!==n.code&&"EPERM"!==n.code?n&&"ENOTDIR"===n.code?o(r):o(n):g(t,e,o)}))},g=(t,e,r)=>{n(t),n(e),n("function"==typeof r),e.readdir(t,((n,s)=>{if(n)return r(n);let i,a=s.length;if(0===a)return e.rmdir(t,r);s.forEach((n=>{l(o.join(t,n),e,(n=>{if(!i)return n?r(i=n):void(0==--a&&e.rmdir(t,r))}))}))}))},y=(t,e)=>{let r;if(h(e=e||{}),n(t,"rimraf: missing path"),n.equal(typeof t,"string","rimraf: path should be a string"),n(e,"rimraf: missing options"),n.equal(typeof e,"object","rimraf: options should be object"),e.disableGlob||!i.hasMagic(t))r=[t];else try{e.lstatSync(t),r=[t]}catch(n){r=i.sync(t,e.glob)}if(r.length)for(let t=0;t<r.length;t++){const n=r[t];let o;try{o=e.lstatSync(n)}catch(t){if("ENOENT"===t.code)return;"EPERM"===t.code&&u&&f(n,e,t)}try{o&&o.isDirectory()?v(n,e,null):e.unlinkSync(n)}catch(t){if("ENOENT"===t.code)return;if("EPERM"===t.code)return u?f(n,e,t):v(n,e,t);if("EISDIR"!==t.code)throw t;v(n,e,t)}}},v=(t,e,r)=>{n(t),n(e);try{e.rmdirSync(t)}catch(n){if("ENOENT"===n.code)return;if("ENOTDIR"===n.code)throw r;"ENOTEMPTY"!==n.code&&"EEXIST"!==n.code&&"EPERM"!==n.code||w(t,e)}},w=(t,e)=>{n(t),n(e),e.readdirSync(t).forEach((r=>y(o.join(t,r),e)));const r=u?100:1;let s=0;for(;;){let n=!0;try{const o=e.rmdirSync(t,e);return n=!1,o}finally{if(++s<r&&n)continue}}};t.exports=l,l.sync=y},9218:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getPatchChangelist=e.patchChangelistOptions=e.inputCommitFiles=e.inputCommitChangelist=e.inputSwitchChangelist=e.getCommitChangelistPickOptions=e.getChangelistPickOptions=void 0;const n=r(7549),o=r(5265),s=r(7815),i=r(9511),a=r(4151),c=r(6983),u=r(7701);function h(t,e=!1){const r=[];r.push(new a.default),t.changelists.forEach(((t,e)=>{t.resourceStates.length&&r.push(new s.default(t))}));const n=o.configuration.get("sourceControl.ignoreOnCommit");for(const t of n)r.some((e=>e.label===t))||r.push(new i.default(t));return e&&r.push(new c.default),r}function l(t){const e=[];t.changes.resourceStates.length&&e.push(new s.default(t.changes));const r=o.configuration.get("sourceControl.ignoreOnCommit");return t.changelists.forEach(((t,n)=>{t.resourceStates.length&&!r.includes(n)&&e.push(new s.default(t))})),e}async function p(t){const e=l(t);if(0===e.length)return void n.window.showInformationMessage("There are no changes to commit.");let r;return r=1===e.length&&t.changes.resourceStates.length?e[0]:await n.window.showQuickPick(e,{placeHolder:"Select a changelist to commit"}),r}function d(t){const e=[];return t.changelists.forEach(((t,r)=>{t.resourceStates.length&&e.push(new s.default(t))})),e}e.getChangelistPickOptions=h,e.getCommitChangelistPickOptions=l,e.inputSwitchChangelist=async function(t,e=!1){const r=h(t,e),o=await n.window.showQuickPick(r,{placeHolder:"Select an existing changelist or create a new"});if(!o)return;let s;if(o instanceof c.default)return!1;if(o instanceof a.default){const t=await n.window.showInputBox({placeHolder:"Changelist name",prompt:"Please enter a changelist name"});if(!t)return;s=t}else s=o.label;return s},e.inputCommitChangelist=p,e.inputCommitFiles=async function(t){const e=await p(t);if(e){if("changes"===e.id&&e.resourceGroup.resourceStates.length>1){const r=o.configuration.get("commit.changes.selectedAll",!0),s=e.resourceGroup.resourceStates.map((e=>new u.FileItem(t,e,r))),i=await n.window.showQuickPick(s,{placeHolder:"Select files to commit",canPickMany:!0});return void 0!==i&&i.length>0?i.map((t=>t.state)):void 0}return e.resourceGroup.resourceStates}},e.patchChangelistOptions=d,e.getPatchChangelist=async function(t){const e=d(t);if(!e.length)return void n.window.showErrorMessage("No changelists to pick from");const r=await n.window.showQuickPick(e,{placeHolder:"Select a changelist"});return r?r.label:void 0}},5049:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.registerCommands=void 0;const n=r(4793),o=r(2167),s=r(2336),i=r(1052),a=r(2045),c=r(7330),u=r(882),h=r(9811),l=r(2355),p=r(2340),d=r(2091),f=r(1757),m=r(1418),g=r(7781),y=r(6913),v=r(2730),w=r(4476),E=r(450),b=r(4107),C=r(224),_=r(1874),O=r(9810),S=r(6174),D=r(7451),I=r(7575),R=r(6452),T=r(1121),x=r(9018),P=r(4080),N=r(9531),A=r(6989),M=r(7922),F=r(5077),L=r(9363),k=r(5702),j=r(3389),$=r(5648),U=r(5536),B=r(7593),G=r(8969),V=r(8052),W=r(9002),H=r(8978),z=r(774),q=r(4486),X=r(8910);e.registerCommands=function(t,e){e.push(new m.GetSourceControlManager(t)),e.push(new d.FileOpen),e.push(new E.OpenFile),e.push(new R.PromptAuth),e.push(new l.CommitWithMessage),e.push(new n.Add),e.push(new i.ChangeList),e.push(new P.Refresh),e.push(new h.Commit),e.push(new C.OpenResourceBase),e.push(new _.OpenResourceHead),e.push(new y.OpenChangeBase),e.push(new V.SwitchBranch),e.push(new X.Merge),e.push(new $.Revert),e.push(new W.Update),e.push(new x.PullIncommingChange),e.push(new S.PatchAll),e.push(new O.Patch),e.push(new D.PatchChangeList),e.push(new A.Remove),e.push(new k.ResolveAll),e.push(new L.Resolve),e.push(new j.Resolved),e.push(new g.Log),e.push(new B.RevertChange),e.push(new u.Close),e.push(new c.Cleanup),e.push(new M.RemoveUnversioned),e.push(new f.FinishCheckout),e.push(new s.AddToIgnoreSCM),e.push(new o.AddToIgnoreExplorer),e.push(new F.RenameExplorer),e.push(new H.Upgrade),e.push(new w.OpenChangePrev),e.push(new T.PromptRemove),e.push(new a.Checkout),e.push(new N.RefreshRemoteChanges),e.push(new p.DeleteUnversioned),e.push(new v.OpenChangeHead),e.push(new b.OpenHeadFile),e.push(new U.RevertAll),e.push(new I.PickCommitMessage(t.svn.version)),e.push(new G.RevertExplorer),e.push(new z.SearchLogByRevision),e.push(new q.SearchLogByText)}},4793:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Add=void 0;const n=r(7549),o=r(3849);class s extends o.Command{constructor(){super("svn.add")}async execute(...t){const e=await this.getResourceStates(t);if(0===e.length)return;const r=e.map((t=>t.resourceUri));await this.runByRepository(r,(async(t,e)=>{if(!t)return;const r=e.map((t=>t.fsPath));try{await t.addFiles(r)}catch(t){console.log(t),n.window.showErrorMessage("Unable to add file")}}))}}e.Add=s},2167:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AddToIgnoreExplorer=void 0;const n=r(3849);class o extends n.Command{constructor(){super("svn.addToIgnoreExplorer")}async execute(t,e){if(e&&0!==e.length)return this.addToIgnore(e)}}e.AddToIgnoreExplorer=o},2336:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AddToIgnoreSCM=void 0;const n=r(3849);class o extends n.Command{constructor(){super("svn.addToIgnoreSCM")}async execute(...t){const e=await this.getResourceStates(t);if(0===e.length)return;const r=e.map((t=>t.resourceUri));return this.addToIgnore(r)}}e.AddToIgnoreSCM=o},1052:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ChangeList=void 0;const n=r(7549),o=r(9218),s=r(871),i=r(9882),a=r(3849);class c extends a.Command{constructor(){super("svn.changelist")}async execute(...t){let e;if(t[0]instanceof s.Resource)e=t.map((t=>t.resourceUri));else if(t[0]instanceof n.Uri)e=t[1];else{if(!n.window.activeTextEditor)return void console.error("Unhandled type for changelist command");e=[n.window.activeTextEditor.document.uri]}const r=await n.commands.executeCommand("svn.getSourceControlManager",""),a=e.map((async t=>r.getRepositoryFromUri(t)));let c=await Promise.all(a);if(c=c.filter((t=>t)),0===c.length)return void n.window.showErrorMessage("Files are not under version control and cannot be added to a change list");if(1!==Array.from(new Set(c)).length)return void n.window.showErrorMessage("Unable to add files from different repositories to change list");if(c.length!==e.length)return void n.window.showErrorMessage("Some Files are not under version control and cannot be added to a change list");const u=c[0];if(!u)return;const h=e.map((t=>t.fsPath));let l=!1;u.changelists.forEach(((t,e)=>{if(t.resourceStates.some((t=>h.some((e=>i.normalizePath(e)===i.normalizePath(t.resourceUri.path))))))return l=!0,!1}));const p=await o.inputSwitchChangelist(u,l);if(p||!1===p)if(!1===p)try{await u.removeChangelist(h)}catch(t){console.log(t),n.window.showErrorMessage(`Unable to remove file "${h.join(",")}" from changelist`)}else try{await u.addChangelist(h,p),n.window.showInformationMessage(`Added files "${h.join(",")}" to changelist "${p}"`)}catch(t){console.log(t),n.window.showErrorMessage(`Unable to add file "${h.join(",")}" to changelist "${p}"`)}}}e.ChangeList=c},2045:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Checkout=void 0;const n=r(2087),o=r(5622),s=r(7549),i=r(9750),a=r(5265),c=r(7494),u=r(3849);class h extends u.Command{constructor(){super("svn.checkout")}async execute(t){if(t||(t=await s.window.showInputBox({prompt:"Repository URL",ignoreFocusOut:!0})),!t)return;let e=a.configuration.get("defaultCheckoutDirectory")||n.homedir();e=e.replace(/^~/,n.homedir());const r=await s.window.showOpenDialog({canSelectFiles:!1,canSelectFolders:!0,canSelectMany:!1,defaultUri:s.Uri.file(e),openLabel:"Select Repository Location"});if(!r||0===r.length)return;const u=r[0].fsPath;let h;const l=i.getBranchName(t);if(l){const e=t.replace(/\//g,"/").replace(l.path,"");h=o.basename(e)}if(h=await s.window.showInputBox({prompt:"Folder name",value:h,ignoreFocusOut:!0}),!h)return;const p=o.join(u,h);let d=s.ProgressLocation.Window;s.ProgressLocation.Notification&&(d=s.ProgressLocation.Notification);const f={location:d,title:`Checkout svn repository '${t}'...`,cancellable:!0};let m=0;const g={};for(;;){m++;try{await s.window.withProgress(f,(async()=>{const e=await s.commands.executeCommand("svn.getSourceControlManager",""),r=["checkout",t,p];await e.svn.exec(u,r,g)}));break}catch(t){if(t.svnErrorCode===c.svnErrorCodes.AuthorizationFailed&&m<=3){const t=await s.commands.executeCommand("svn.promptAuth",g.username);if(t){g.username=t.username,g.password=t.password;continue}}throw t}}const y=[];let v="Would you like to open the checked out repository?";const w="Open Repository";y.push(w);const E="Add to Workspace";s.workspace.workspaceFolders&&s.workspace.updateWorkspaceFolders&&(v="Would you like to open the checked out repository, or add it to the current workspace?",y.push(E));const b=await s.window.showInformationMessage(v,...y);b===w?s.commands.executeCommand("vscode.openFolder",s.Uri.file(p)):b===E&&s.workspace.updateWorkspaceFolders(s.workspace.workspaceFolders.length,0,{uri:s.Uri.file(p)})}}e.Checkout=h},7330:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Cleanup=void 0;const n=r(3849);class o extends n.Command{constructor(){super("svn.cleanup",{repository:!0})}async execute(t){await t.cleanup()}}e.Cleanup=o},882:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Close=void 0;const n=r(7549),o=r(3849);class s extends o.Command{constructor(){super("svn.close",{repository:!0})}async execute(t){(await n.commands.executeCommand("svn.getSourceControlManager","")).close(t)}}e.Close=s},3849:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Command=void 0;const n=r(5622),o=r(7549),s=r(6419),i=r(939),a=r(977),c=r(3993),u=r(871),h=r(4063),l=r(8327),p=r(9882);e.Command=class{constructor(t,e={}){if(e.repository){const e=this.createRepositoryCommand(this.execute);this._disposable=o.commands.registerCommand(t,e)}else e.repository||(this._disposable=o.commands.registerCommand(t,((...t)=>this.execute(...t))))}dispose(){this._disposable&&this._disposable.dispose()}createRepositoryCommand(t){return async(...e)=>{const r=await o.commands.executeCommand("svn.getSourceControlManager",""),n=r.getRepository(e[0]);let s;return s=n?Promise.resolve(n):1===r.repositories.length?Promise.resolve(r.repositories[0]):r.pickRepository(),s.then((r=>r?Promise.resolve(t.apply(this,[r,...e])):Promise.resolve())).catch((t=>{console.error(t)}))}}async getResourceStates(t){if(0===t.length||!(t[0].resourceUri instanceof o.Uri)){const e=await this.getSCMResource();if(!e)return[];t=[e]}return t.filter((t=>t instanceof u.Resource))}async runByRepository(t,e){const r=t instanceof o.Uri?[t]:t,n=t instanceof o.Uri,s=await o.commands.executeCommand("svn.getSourceControlManager",""),i=[];for(const t of r){const e=s.getRepository(t);if(!e){console.warn("Could not find Svn repository for ",t);continue}const r=i.filter((t=>t.repository===e))[0];r?r.resources.push(t):i.push({repository:e,resources:[t]})}const a=i.map((({repository:t,resources:r})=>e(t,n?r[0]:r)));return Promise.all(a)}async getSCMResource(t){if(t=t||o.window.activeTextEditor&&o.window.activeTextEditor.document.uri){if("svn"===t.scheme){const{fsPath:e}=l.fromSvnUri(t);t=o.Uri.file(e)}if("file"===t.scheme){const e=(await o.commands.executeCommand("svn.getSourceControlManager","")).getRepository(t);if(!e)return;return e.getResourceFromFile(t)}}}async _openResource(t,e,r,n,s){let a=await this.getLeftResource(t,e),c=this.getRightResource(t,e);const u=this.getTitle(t,e);if(t.remote&&a&&([a,c]=[c,a]),!c)return void console.error("oh no");if(await i.exists(c.fsPath)&&(await i.stat(c.fsPath)).isDirectory())return;const h={preserveFocus:n,preview:r,viewColumn:o.ViewColumn.Active},l=o.window.activeTextEditor;return s&&l&&l.document.uri.toString()===c.toString()&&(h.selection=l.selection),a?o.commands.executeCommand("vscode.diff",a,c,u,h):o.commands.executeCommand("vscode.open",c,h)}async getLeftResource(t,e=""){if(t.remote)return t.type!==s.Status.DELETED?l.toSvnUri(t.resourceUri,s.SvnUriAction.SHOW,{ref:e}):void 0;if(t.type===s.Status.ADDED&&t.renameResourceUri)return l.toSvnUri(t.renameResourceUri,s.SvnUriAction.SHOW,{ref:e});if(t.type===s.Status.CONFLICTED&&await i.exists(t.resourceUri.fsPath)){const e=await i.readFile(t.resourceUri.fsPath,{encoding:"utf8"});if(/^<{7}[^]+^={7}[^]+^>{7}/m.test(e))return}switch(t.type){case s.Status.CONFLICTED:case s.Status.MODIFIED:case s.Status.REPLACED:return l.toSvnUri(t.resourceUri,s.SvnUriAction.SHOW,{ref:e})}}getRightResource(t,e=""){if(t.remote)return t.type!==s.Status.ADDED?t.resourceUri:void 0;switch(t.type){case s.Status.ADDED:case s.Status.CONFLICTED:case s.Status.IGNORED:case s.Status.MODIFIED:case s.Status.UNVERSIONED:case s.Status.REPLACED:return t.resourceUri;case s.Status.DELETED:case s.Status.MISSING:return l.toSvnUri(t.resourceUri,s.SvnUriAction.SHOW,{ref:e})}}getTitle(t,e){if(t.type===s.Status.ADDED&&t.renameResourceUri){const r=n.basename(t.renameResourceUri.fsPath),o=n.relative(n.dirname(t.renameResourceUri.fsPath),t.resourceUri.fsPath);return e?`${r} -> ${o} (${e})`:`${r} -> ${o}`}const r=n.basename(t.resourceUri.fsPath);return e?`${r} (${e})`:""}async openChange(t,e,r){const n=t instanceof u.Resource,s=t instanceof o.Uri||!t;let i;if(t instanceof o.Uri){const e=await this.getSCMResource(t);void 0!==e&&(i=[e])}else if(t instanceof h.default)i=[new u.Resource(t.uri,t.type,void 0,t.props,!0)];else{let e;e=t instanceof u.Resource?t:await this.getSCMResource(),e&&(i=[...r,e])}if(!i)return;const a=1===i.length&&void 0;for(const t of i)await this._openResource(t,e,a,n,s)}async showDiffPath(t,e){try{const r=n.join(t.root,p.getSvnDir(),"tmp","svn.patch");if(await i.exists(r))try{await i.unlink(r)}catch(t){}const s=o.Uri.file(r).with({scheme:"untitled"}),a=await o.workspace.openTextDocument(s),c=await o.window.showTextDocument(a);await c.edit((t=>{t.delete(new o.Range(new o.Position(0,0),new o.Position(Number.MAX_SAFE_INTEGER,0))),t.insert(new o.Position(0,0),e)}))}catch(t){console.error(t),o.window.showErrorMessage("Unable to patch")}}async _revertChanges(t,e){const r=t.document,n=r.uri;if("file"!==n.scheme)return;const i=l.toSvnUri(n,s.SvnUriAction.SHOW,{ref:"BASE"}),a=await o.workspace.openTextDocument(i),u=c.applyLineChanges(a,r,e),h=new o.WorkspaceEdit;h.replace(n,new o.Range(new o.Position(0,0),r.lineAt(r.lineCount-1).range.end),u),o.workspace.applyEdit(h),await r.save()}async addToIgnore(t){await this.runByRepository(t,(async(t,e)=>{if(t)try{await a.inputIgnoreList(t,e)&&o.window.showInformationMessage("File(s) is now being ignored")}catch(t){console.log(t),o.window.showErrorMessage("Unable to set property ignore")}}))}}},9811:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Commit=void 0;const n=r(5622),o=r(7549),s=r(6419),i=r(3740),a=r(871),c=r(3849);class u extends c.Command{constructor(){super("svn.commit")}async execute(...t){if(0===t.length||!(t[0].resourceUri instanceof o.Uri)){const e=await this.getSCMResource();if(!e)return;t=[e]}const e=t.filter((t=>t instanceof a.Resource)),r=e.map((t=>t.resourceUri));e.forEach((t=>{t.type===s.Status.ADDED&&t.renameResourceUri&&r.push(t.renameResourceUri)})),await this.runByRepository(r,(async(t,e)=>{if(!t)return;const r=e.map((t=>t.fsPath));for(const o of e){let e=n.dirname(o.fsPath),i=t.getResourceFromFile(e);for(;i;)i.type===s.Status.ADDED&&r.push(e),e=n.dirname(e),i=t.getResourceFromFile(e)}try{const e=await i.inputCommitMessage(t.inputBox.value,!0,r);if(void 0===e)return;t.inputBox.value=e;const n=await t.commitFiles(e,r);o.window.showInformationMessage(n),t.inputBox.value=""}catch(t){console.error(t),o.window.showErrorMessage(t.stderrFormated)}}))}}e.Commit=u},2355:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CommitWithMessage=void 0;const n=r(5622),o=r(7549),s=r(9218),i=r(6419),a=r(3740),c=r(871),u=r(3849);class h extends u.Command{constructor(){super("svn.commitWithMessage",{repository:!0})}async execute(t){const e=await s.inputCommitFiles(t);if(!e||0===e.length)return;const r=e.map((t=>t.resourceUri.fsPath)),u=await a.inputCommitMessage(t.inputBox.value,!1,r);if(void 0!==u){e.forEach((e=>{if(e instanceof c.Resource){e.type===i.Status.ADDED&&e.renameResourceUri&&r.push(e.renameResourceUri.fsPath);let o=n.dirname(e.resourceUri.fsPath),s=t.getResourceFromFile(o);for(;s;)s.type===i.Status.ADDED&&r.push(o),o=n.dirname(o),s=t.getResourceFromFile(o)}}));try{const e=await t.commitFiles(u,r);o.window.showInformationMessage(e),t.inputBox.value=""}catch(t){console.error(t),o.window.showErrorMessage(t.stderrFormated)}}}}e.CommitWithMessage=h},2340:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DeleteUnversioned=void 0;const n=r(7549),o=r(939),s=r(9882),i=r(3849);class a extends i.Command{constructor(){super("svn.deleteUnversioned")}async execute(...t){const e=await this.getResourceStates(t);if(0===e.length)return;const r=e.map((t=>t.resourceUri));if("Yes"===await n.window.showWarningMessage("Would you like to delete selected files?",{modal:!0},"Yes","No"))for(const t of r){const e=t.fsPath;try{if(!await o.exists(e))continue;(await o.lstat(e)).isDirectory()?s.deleteDirectory(e):await o.unlink(e)}catch(t){}}}}e.DeleteUnversioned=a},2091:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FileOpen=void 0;const n=r(7549),o=r(3849);class s extends o.Command{constructor(){super("svn.fileOpen")}async execute(t){await n.commands.executeCommand("vscode.open",t)}}e.FileOpen=s},1757:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FinishCheckout=void 0;const n=r(3849);class o extends n.Command{constructor(){super("svn.finishCheckout",{repository:!0})}async execute(t){await t.finishCheckout()}}e.FinishCheckout=o},1418:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GetSourceControlManager=void 0;const n=r(3849);class o extends n.Command{constructor(t){super("svn.getSourceControlManager"),this.sourceControlManager=t}async execute(){return this.sourceControlManager}}e.GetSourceControlManager=o},7781:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Log=void 0;const n=r(5622),o=r(7549),s=r(6419),i=r(8327),a=r(3849);class c extends a.Command{constructor(){super("svn.log",{repository:!0})}async execute(t){try{const e=i.toSvnUri(o.Uri.file(t.workspaceRoot),s.SvnUriAction.LOG),r=e.with({path:n.join(e.path,"svn.log")});await o.commands.executeCommand("vscode.open",r)}catch(t){console.error(t),o.window.showErrorMessage("Unable to log")}}}e.Log=c},8910:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Merge=void 0;const n=r(7549),o=r(9750),s=r(3849);class i extends s.Command{constructor(){super("svn.merge",{repository:!0})}async execute(t){const e=await o.selectBranch(t);e&&await this.merge(t,e)}async merge(t,e){let r=!1;o.isTrunk(t.currentBranch)&&(r=!0);try{await t.merge(e.path,r)}catch(r){"object"==typeof r&&r.hasOwnProperty("stderrFormated")?r.stderrFormated.includes("try updating first")?"Yes"===await n.window.showErrorMessage("Seems like you need to update first prior to merging. Would you like to update now and try merging again?","Yes","No")&&(await n.commands.executeCommand("svn.update"),await this.merge(t,e)):n.window.showErrorMessage("Unable to merge branch: "+r.stderrFormated):(console.log(r),n.window.showErrorMessage("Unable to merge branch"))}}}e.Merge=i},6913:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.OpenChangeBase=void 0;const n=r(3849);class o extends n.Command{constructor(){super("svn.openChangeBase",{})}async execute(t,...e){return this.openChange(t,"BASE",e)}}e.OpenChangeBase=o},2730:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.OpenChangeHead=void 0;const n=r(3849);class o extends n.Command{constructor(){super("svn.openChangeHead")}async execute(t,...e){return this.openChange(t,"HEAD",e)}}e.OpenChangeHead=o},4476:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.OpenChangePrev=void 0;const n=r(3849);class o extends n.Command{constructor(){super("svn.openChangePrev",{})}async execute(t,...e){return this.openChange(t,"PREV",e)}}e.OpenChangePrev=o},450:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.OpenFile=void 0;const n=r(7549),o=r(939),s=r(871),i=r(4063),a=r(8327),c=r(3849);class u extends c.Command{constructor(){super("svn.openFile")}async execute(t,...e){const r=t instanceof s.Resource;let c;if(t instanceof n.Uri)"svn"===t.scheme?c=[n.Uri.file(a.fromSvnUri(t).fsPath)]:"file"===t.scheme&&(c=[t]);else if(t instanceof i.default)c=[new s.Resource(t.uri,t.type,void 0,t.props,!0).resourceUri];else{const r=t;s.Resource,r&&(c=[...e.map((t=>t.resourceUri)),r.resourceUri])}if(!c)return;const u=1===c.length,h=n.window.activeTextEditor;for(const t of c){if(!t||await o.exists(t.fsPath)&&(await o.stat(t.fsPath)).isDirectory())continue;const e={preserveFocus:r,preview:u,viewColumn:n.ViewColumn.Active};h&&h.document.uri.toString()===t.toString()&&(e.selection=h.selection);const s=await n.workspace.openTextDocument(t);await n.window.showTextDocument(s,e)}}}e.OpenFile=u},4107:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.OpenHeadFile=void 0;const n=r(5622),o=r(7549),s=r(871),i=r(4063),a=r(3849);class c extends a.Command{constructor(){super("svn.openHEADFile")}async execute(t){let e;if(e=t instanceof s.Resource?t:t instanceof o.Uri?await this.getSCMResource(t):t instanceof i.default?new s.Resource(t.uri,t.type,void 0,t.props,!0):await this.getSCMResource(),!e)return;const r=await this.getLeftResource(e,"HEAD"),a=n.basename(e.resourceUri.fsPath);if(!r)return void o.window.showWarningMessage(`"HEAD version of '${a}' is not available."`);const c=n.dirname(e.resourceUri.fsPath),u=r.with({path:n.join(c,`(HEAD) ${a}`)});return o.commands.executeCommand("vscode.open",u,{preview:!0})}}e.OpenHeadFile=c},224:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.OpenResourceBase=void 0;const n=r(3849);class o extends n.Command{constructor(){super("svn.openResourceBase")}async execute(t){await this._openResource(t,"BASE",void 0,!0,!1)}}e.OpenResourceBase=o},1874:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.OpenResourceHead=void 0;const n=r(3849);class o extends n.Command{constructor(){super("svn.openResourceHead")}async execute(t){await this._openResource(t,"HEAD",void 0,!0,!1)}}e.OpenResourceHead=o},9810:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Patch=void 0;const n=r(3849);class o extends n.Command{constructor(){super("svn.patch")}async execute(...t){const e=await this.getResourceStates(t);if(0===e.length)return;const r=e.map((t=>t.resourceUri));await this.runByRepository(r,(async(t,e)=>{if(!t)return;const r=e.map((t=>t.fsPath)),n=await t.patch(r);await this.showDiffPath(t,n)}))}}e.Patch=o},6174:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PatchAll=void 0;const n=r(3849);class o extends n.Command{constructor(){super("svn.patchAll",{repository:!0})}async execute(t){const e=await t.patch([]);await this.showDiffPath(t,e)}}e.PatchAll=o},7451:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PatchChangeList=void 0;const n=r(9218),o=r(3849);class s extends o.Command{constructor(){super("svn.patchChangeList",{repository:!0})}async execute(t){const e=await n.getPatchChangelist(t);if(!e)return;const r=await t.patchChangelist(e);await this.showDiffPath(t,r)}}e.PatchChangeList=s},7575:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PickCommitMessage=void 0;const n=r(7549),o=r(3849),s=r(5265),i=r(1249);class a extends o.Command{constructor(t){super("svn.pickCommitMessage",{repository:!0}),this.svnVersion=t}async execute(t){const e=i.satisfies(this.svnVersion,">= 1.8");let r=[];const o=s.configuration.get("previousCommitsUser",null);if(r=o&&e?await t.logByUser(o):await t.log("HEAD","0",20),!r.length)return;const a=r.map((t=>({label:t.msg,description:`r${t.revision} | ${t.author} | ${new Date(t.date).toLocaleString()}`}))),c=await n.window.showQuickPick(a);if(void 0===c)return;const u=c.label;return t.inputBox.value=u,u}}e.PickCommitMessage=a},6452:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PromptAuth=void 0;const n=r(7549),o=r(3849);class s extends o.Command{constructor(){super("svn.promptAuth")}async execute(t,e){const r=await n.window.showInputBox({placeHolder:"Svn repository username",prompt:"Please enter your username",ignoreFocusOut:!0,value:t});if(void 0===r)return;const o=await n.window.showInputBox({placeHolder:"Svn repository password",prompt:"Please enter your password",value:e,ignoreFocusOut:!0,password:!0});return void 0!==o?{username:r,password:o}:void 0}}e.PromptAuth=s},1121:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PromptRemove=void 0;const n=r(7549),o=r(5265),s=r(3849);class i extends s.Command{constructor(){super("svn.promptRemove",{repository:!0})}async execute(t,...e){const r=e.map((t=>t.fsPath)),s=r.map((e=>t.repository.removeAbsolutePath(e))).sort(),i="Add to ignored list",a=await n.window.showInformationMessage(`The file(s) "${s.join(", ")}" are removed from disk.\nWould you like remove from SVN?`,{modal:!1},"Yes",i,"No");if("Yes"===a)await t.removeFiles(r,!1);else if(a===i){let t=o.configuration.get("delete.ignoredRulesForDeletedFiles",[]);t.push(...s),t=[...new Set(t)],o.configuration.update("delete.ignoredRulesForDeletedFiles",t)}}}e.PromptRemove=i},9018:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PullIncommingChange=void 0;const n=r(7549),o=r(5265),s=r(4063),i=r(3849);class a extends i.Command{constructor(){super("svn.treeview.pullIncomingChange")}async execute(...t){const e=o.configuration.get("showUpdateMessage",!0);if(t[0]instanceof s.default){try{const r=t[0],o=await r.repository.pullIncomingChange(r.uri.fsPath);e&&n.window.showInformationMessage(o)}catch(t){console.error(t),n.window.showErrorMessage("Unable to update")}return}const r=t.map((t=>t.resourceUri));await this.runByRepository(r,(async(t,r)=>{t&&r.map((t=>t.fsPath)).forEach((async r=>{const o=await t.pullIncomingChange(r);e&&n.window.showInformationMessage(o)}))}))}}e.PullIncommingChange=a},4080:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Refresh=void 0;const n=r(5265),o=r(3849);class s extends o.Command{constructor(){super("svn.refresh",{repository:!0})}async execute(t){const e=n.configuration.get("refresh.remoteChanges",!1);await t.status(),e&&await t.updateRemoteChangedFiles()}}e.Refresh=s},9531:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RefreshRemoteChanges=void 0;const n=r(3849);class o extends n.Command{constructor(){super("svn.refreshRemoteChanges",{repository:!0})}async execute(t){await t.updateRemoteChangedFiles()}}e.RefreshRemoteChanges=o},6989:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Remove=void 0;const n=r(7549),o=r(3849);class s extends o.Command{constructor(){super("svn.remove")}async execute(...t){const e=await this.getResourceStates(t);if(0===e.length)return;let r;const o=await n.window.showWarningMessage("Would you like to keep a local copy of the files?",{modal:!0},"Yes","No");if(!o)return;r="Yes"===o;const s=e.map((t=>t.resourceUri));await this.runByRepository(s,(async(t,e)=>{if(!t)return;const o=e.map((t=>t.fsPath));try{await t.removeFiles(o,r)}catch(t){console.log(t),n.window.showErrorMessage("Unable to remove files")}}))}}e.Remove=s},7922:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RemoveUnversioned=void 0;const n=r(3849),o=r(7549);class s extends n.Command{constructor(){super("svn.removeUnversioned",{repository:!0})}async execute(t){"Yes"===await o.window.showWarningMessage("Are you sure? This will remove all unversioned files except for ignored.",{modal:!0},"Yes","No")&&await t.removeUnversioned()}}e.RemoveUnversioned=s},5077:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RenameExplorer=void 0;const n=r(5622),o=r(7549),s=r(9882),i=r(3849);class a extends i.Command{constructor(){super("svn.renameExplorer",{repository:!0})}async execute(t,e,r){if(!e)return;const n=e.fsPath;return this.rename(t,n)}async rename(t,e,r){if(e=s.fixPathSeparator(e),!r){const i=s.fixPathSeparator(t.workspaceRoot),a=n.relative(i,e);r=await o.window.showInputBox({value:n.basename(e),prompt:`New name name for ${a}`})}if(!r)return;const i=n.dirname(e);r=n.join(i,r),await t.rename(e,r)}}e.RenameExplorer=a},9363:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Resolve=void 0;const n=r(7549),o=r(9744),s=r(3849);class i extends s.Command{constructor(){super("svn.resolve")}async execute(...t){const e=await this.getResourceStates(t);if(0===e.length)return;const r=o.getConflictPickOptions(),s=await n.window.showQuickPick(r,{placeHolder:"Select conflict option"});if(!s)return;const i=e.map((t=>t.resourceUri));await this.runByRepository(i,(async(t,e)=>{if(!t)return;const r=e.map((t=>t.fsPath));await t.resolve(r,s.label)}))}}e.Resolve=i},5702:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ResolveAll=void 0;const n=r(7549),o=r(9744),s=r(3849);class i extends s.Command{constructor(){super("svn.resolveAll",{repository:!0})}async execute(t){const e=t.conflicts.resourceStates;e.length||n.window.showInformationMessage("No Conflicts");for(const r of e){const e=`Select conflict option for ${r.resourceUri.path}`,s=o.getConflictPickOptions(),i=await n.window.showQuickPick(s,{placeHolder:e});if(!i)return;try{const e=await t.resolve([r.resourceUri.path],i.label);n.window.showInformationMessage(e)}catch(t){n.window.showErrorMessage(t.stderr)}}}}e.ResolveAll=i},3389:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Resolved=void 0;const n=r(5622),o=r(7549),s=r(5265),i=r(3849);class a extends i.Command{constructor(){super("svn.resolved")}async execute(t){if(!t)return;if(!s.configuration.get("conflict.autoResolve")){const e=n.basename(t.fsPath);if("Yes"!==await o.window.showWarningMessage(`Mark the conflict as resolved for "${e}"?`,{modal:!0},"Yes","No"))return}const e=[t];await this.runByRepository(e,(async(t,e)=>{if(!t)return;const r=e.map((t=>t.fsPath));await t.resolve(r,"working")}))}}e.Resolved=a},5648:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Revert=void 0;const n=r(7549),o=r(298),s=r(3849);class i extends s.Command{constructor(){super("svn.revert")}async execute(...t){const e=await this.getResourceStates(t);if(0===e.length||!await o.confirmRevert())return;const r=e.map((t=>t.resourceUri)),s=await o.checkAndPromptDepth(r);s&&await this.runByRepository(r,(async(t,e)=>{if(!t)return;const r=e.map((t=>t.fsPath)).reverse();try{await t.revert(r,s)}catch(t){console.log(t),n.window.showErrorMessage("Unable to revert")}}))}}e.Revert=i},5536:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RevertAll=void 0;const n=r(7549),o=r(298),s=r(3849);class i extends s.Command{constructor(){super("svn.revertAll")}async execute(t){const e=t.resourceStates;if(0===e.length||!await o.confirmRevert())return;const r=e.map((t=>t.resourceUri)),s=await o.checkAndPromptDepth(r);s&&await this.runByRepository(r,(async(t,e)=>{if(!t)return;const r=e.map((t=>t.fsPath)).reverse();try{await t.revert(r,s)}catch(t){console.log(t),n.window.showErrorMessage("Unable to revert")}}))}}e.RevertAll=i},7593:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RevertChange=void 0;const n=r(7549),o=r(3849);class s extends o.Command{constructor(){super("svn.revertChange")}async execute(t,e,r){const o=n.window.visibleTextEditors.filter((e=>e.document.uri.toString()===t.toString()))[0];o&&await this._revertChanges(o,[...e.slice(0,r),...e.slice(r+1)])}}e.RevertChange=s},8969:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RevertExplorer=void 0;const n=r(7549),o=r(298),s=r(3849);class i extends s.Command{constructor(){super("svn.revertExplorer")}async execute(t,e){if(!e)return;const r=e;if(0===r.length||!await o.confirmRevert())return;const s=await o.checkAndPromptDepth(r);s&&await this.runByRepository(r,(async(t,e)=>{if(!t)return;const r=e.map((t=>t.fsPath));try{await t.revert(r,s)}catch(t){console.log(t),n.window.showErrorMessage("Unable to revert")}}))}}e.RevertExplorer=i},774:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SearchLogByRevision=void 0;const n=r(5622),o=r(3849),s=r(7549),i=r(8327),a=r(6419);class c extends o.Command{constructor(){super("svn.searchLogByRevision",{repository:!0})}async execute(t){const e=await s.window.showInputBox({prompt:"Revision?"});if(!e)return;const r=parseInt(e,10);if(r&&/^\+?(0|[1-9]\d*)$/.test(e))try{const e=i.toSvnUri(s.Uri.file(t.workspaceRoot),a.SvnUriAction.LOG_REVISION,{revision:r}),o=e.with({path:n.join(e.path,"svn.log")});await s.commands.executeCommand("vscode.open",o)}catch(t){console.error(t),s.window.showErrorMessage("Unable to log")}else s.window.showErrorMessage("Invalid revision")}}e.SearchLogByRevision=c},4486:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SearchLogByText=void 0;const n=r(3849),o=r(7549),s=r(3129),i=r(3676);class a extends n.Command{constructor(){super("svn.searchLogByText",{repository:!0})}async execute(t){const e=await o.window.showInputBox({prompt:"Search query"});if(!e)return;const r=o.Uri.parse("tempsvnfs:/svn.log");i.tempSvnFs.writeFile(r,Buffer.from(""),{create:!0,overwrite:!0}),await o.commands.executeCommand("vscode.open",r);const n=s.spawn("svn",["log","--search",e],{cwd:t.workspaceRoot});let a="";n.stdout.on("data",(t=>{a+=t.toString(),i.tempSvnFs.writeFile(r,Buffer.from(a),{create:!0,overwrite:!0})})),o.window.withProgress({cancellable:!0,location:o.ProgressLocation.Notification,title:"Searching Log"},((t,e)=>(e.onCancellationRequested((()=>{n.kill("SIGINT")})),new Promise(((t,e)=>{n.on("exit",(r=>{0===r?t():e()}))})))))}}e.SearchLogByText=a},8052:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SwitchBranch=void 0;const n=r(7549),o=r(9750),s=r(3849);class i extends s.Command{constructor(){super("svn.switchBranch",{repository:!0})}async execute(t){const e=await o.selectBranch(t,!0);if(e)try{if(e.isNew){const r=await n.window.showInputBox({value:`Created new branch ${e.name}`,prompt:`Commit message for create branch ${e.name}`});if(void 0===r)return;await t.newBranch(e.path,r)}else try{await t.switchBranch(e.path)}catch(r){if("object"!=typeof r||!r.hasOwnProperty("stderrFormated")||!r.stderrFormated.includes("ignore-ancestry"))throw r;"Yes"===await n.window.showErrorMessage("Seems like these branches don't have a common ancestor.  Do you want to retry with '--ignore-ancestry' option?","Yes","No")&&await t.switchBranch(e.path,!0)}}catch(t){console.log(t),e.isNew?n.window.showErrorMessage("Unable to create new branch"):n.window.showErrorMessage("Unable to switch branch")}}}e.SwitchBranch=i},9002:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Update=void 0;const n=r(7549),o=r(5265),s=r(3849);class i extends s.Command{constructor(){super("svn.update",{repository:!0})}async execute(t){try{const e=o.configuration.get("update.ignoreExternals",!1),r=o.configuration.get("showUpdateMessage",!0),s=await t.updateRevision(e);r&&n.window.showInformationMessage(s)}catch(t){console.error(t),n.window.showErrorMessage("Unable to update")}}}e.Update=i},8978:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Upgrade=void 0;const n=r(7549),o=r(5265),s=r(9882),i=r(3849);class a extends i.Command{constructor(){super("svn.upgrade")}async execute(t){if(!t)return;if(o.configuration.get("ignoreWorkingCopyIsTooOld",!1))return;t=s.fixPathSeparator(t);const e="Don't Show Again",r=await n.window.showWarningMessage("You want upgrade the working copy (svn upgrade)?","Yes","No",e),i=await n.commands.executeCommand("svn.getSourceControlManager","");if("Yes"===r)await i.upgradeWorkingCopy(t)?(n.window.showInformationMessage(`Working copy "${t}" upgraded`),i.tryOpenRepository(t)):n.window.showErrorMessage(`Error on upgrading working copy "${t}". See log for more detail`);else if(r===e)return o.configuration.update("ignoreWorkingCopyIsTooOld",!0)}}e.Upgrade=a},8379:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.xml2jsParseSettings=void 0;const n=r(9882);e.xml2jsParseSettings={mergeAttrs:!0,explicitRoot:!1,explicitArray:!1,attrNameProcessors:[n.camelcase],tagNameProcessors:[n.camelcase]}},6419:(t,e)=>{"use strict";var r,n,o,s,i,a,c,u;Object.defineProperty(e,"__esModule",{value:!0}),e.SvnDepth=e.SvnUriAction=e.PropStatus=e.Status=e.Operation=e.RepositoryState=e.SvnKindType=e.ConstructorPolicy=void 0,(u=e.ConstructorPolicy||(e.ConstructorPolicy={}))[u.Async=0]="Async",u[u.LateInit=1]="LateInit",(c=e.SvnKindType||(e.SvnKindType={})).FILE="file",c.DIR="dir",(a=e.RepositoryState||(e.RepositoryState={}))[a.Idle=0]="Idle",a[a.Disposed=1]="Disposed",(i=e.Operation||(e.Operation={})).Add="Add",i.AddChangelist="AddChangelist",i.Changes="Changes",i.CleanUp="CleanUp",i.Commit="Commit",i.CurrentBranch="CurrentBranch",i.Info="Info",i.Ignore="Ignore",i.Log="Log",i.Merge="Merge",i.NewBranch="NewBranch",i.Patch="Patch",i.Remove="Remove",i.RemoveChangelist="RemoveChangelist",i.Rename="Rename",i.Resolve="Resolve",i.Resolved="Resolved",i.Revert="Revert",i.Show="Show",i.Status="Status",i.StatusRemote="StatusRemote",i.SwitchBranch="SwitchBranch",i.Update="Update",i.List="List",(s=e.Status||(e.Status={})).ADDED="added",s.CONFLICTED="conflicted",s.DELETED="deleted",s.EXTERNAL="external",s.IGNORED="ignored",s.INCOMPLETE="incomplete",s.MERGED="merged",s.MISSING="missing",s.MODIFIED="modified",s.NONE="none",s.NORMAL="normal",s.OBSTRUCTED="obstructed",s.REPLACED="replaced",s.UNVERSIONED="unversioned",(o=e.PropStatus||(e.PropStatus={})).CONFLICTED="conflicted",o.MODIFIED="modified",o.NONE="none",o.NORMAL="normal",(n=e.SvnUriAction||(e.SvnUriAction={})).LOG="LOG",n.PATCH="PATCH",n.SHOW="SHOW",n.LOG_REVISION="LOG_REVISION",n.LOG_SEARCH="LOG_SEARCH",(r=e.SvnDepth||(e.SvnDepth={})).empty="only the target itself",r.files="the target and any immediate file children thereof",r.immediates="the target and any immediate children thereof",r.infinity="the target and all of its descendants—full recursion"},9744:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getConflictPickOptions=void 0;const r=[{label:"base",description:"Choose the file that was the (unmodified) BASE revision before you tried to integrate changes"},{label:"working",description:"Assuming that you've manually handled the conflict resolution, choose the version of the file as it currently stands in your working copy."},{label:"mine-full",description:"Preserve all local modifications and discarding all changes fetched"},{label:"theirs-full",description:"Discard all local modifications and integrating all changes fetched"},{label:"mine-conflict",description:"Resolve conflicted files by preferring local modifications over the changes fetched"},{label:"theirs-conflict",description:"Resolve conflicted files by preferring the changes fetched from the server over local modifications"}];class n{constructor(t){this.option=t}get label(){return this.option.label}get description(){return this.option.description}}e.getConflictPickOptions=function(){return r.map((t=>new n(t)))}},9871:function(t,e,r){"use strict";var n=this&&this.__decorate||function(t,e,r,n){var o,s=arguments.length,i=s<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(i=(s<3?o(i):s>3?o(e,r,i):o(e,r))||i);return s>3&&i&&Object.defineProperty(e,r,i),i};Object.defineProperty(e,"__esModule",{value:!0}),e.CheckActiveEditor=void 0;const o=r(7549),s=r(6419),i=r(5455),a=r(9882);class c{constructor(t){this.sourceControlManager=t,this.disposables=[],t.onDidChangeStatusRepository(this.checkHasChangesOnActiveEditor,this,this.disposables),o.window.onDidChangeActiveTextEditor((()=>this.checkHasChangesOnActiveEditor()),this,this.disposables)}checkHasChangesOnActiveEditor(){a.setVscodeContext("svnActiveEditorHasChanges",this.hasChangesOnActiveEditor())}hasChangesOnActiveEditor(){if(!o.window.activeTextEditor)return!1;const t=o.window.activeTextEditor.document.uri,e=this.sourceControlManager.getRepository(t);if(!e)return!1;const r=e.getResourceFromFile(t);if(!r)return!1;switch(r.type){case s.Status.ADDED:case s.Status.DELETED:case s.Status.EXTERNAL:case s.Status.IGNORED:case s.Status.NONE:case s.Status.NORMAL:case s.Status.UNVERSIONED:return!1;case s.Status.CONFLICTED:case s.Status.INCOMPLETE:case s.Status.MERGED:case s.Status.MISSING:case s.Status.MODIFIED:case s.Status.OBSTRUCTED:case s.Status.REPLACED:return!0}return!0}dispose(){this.disposables.forEach((t=>t.dispose()))}}n([i.debounce(100)],c.prototype,"checkHasChangesOnActiveEditor",null),e.CheckActiveEditor=c},297:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IsSvn18orGreater=void 0;const n=r(1249),o=r(9882);e.IsSvn18orGreater=class{constructor(t){const e=n.satisfies(t,">= 1.8");o.setVscodeContext("isSvn18orGreater",e)}dispose(){}}},5269:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IsSvn19orGreater=void 0;const n=r(1249),o=r(9882);e.IsSvn19orGreater=class{constructor(t){const e=n.satisfies(t,">= 1.9");o.setVscodeContext("isSvn19orGreater",e)}dispose(){}}},7172:function(t,e,r){"use strict";var n=this&&this.__decorate||function(t,e,r,n){var o,s=arguments.length,i=s<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(i=(s<3?o(i):s>3?o(e,r,i):o(e,r))||i);return s>3&&i&&Object.defineProperty(e,r,i),i};Object.defineProperty(e,"__esModule",{value:!0}),e.OpenRepositoryCount=void 0;const o=r(5455),s=r(9882);class i{constructor(t){this.sourceControlManager=t,this.disposables=[],t.onDidOpenRepository(this.checkOpened,this,this.disposables),t.onDidCloseRepository(this.checkOpened,this,this.disposables),this.checkOpened()}checkOpened(){s.setVscodeContext("svnOpenRepositoryCount",this.sourceControlManager.repositories.length)}dispose(){this.disposables.forEach((t=>t.dispose()))}}n([o.debounce(100)],i.prototype,"checkOpened",null),e.OpenRepositoryCount=i},5455:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.globalSequentialize=e.debounce=e.sequentialize=e.throttle=e.memoize=void 0;const n=r(9882);function o(t){return(e,r,n)=>{let o=null,s=null;if("function"==typeof n.value?(o="value",s=n.value):"function"==typeof n.get&&(o="get",s=n.get),!s||!o)throw new Error("not supported");n[o]=t(s,r)}}e.memoize=o((function(t,e){const r=`$memoize$${e}`;return function(...e){return this.hasOwnProperty(r)||Object.defineProperty(this,r,{configurable:!1,enumerable:!1,writable:!1,value:t.apply(this,e)}),this[r]}})),e.throttle=o((function(t,e){const r=`$throttle$current$${e}`,o=`$throttle$next$${e}`,s=function(...e){if(this[o])return this[o];if(this[r])return this[o]=n.done(this[r]).then((()=>(this[o]=void 0,s.apply(this,e)))),this[o];this[r]=t.apply(this,e);const i=()=>this[r]=void 0;return n.done(this[r]).then(i,i),this[r]};return s})),e.sequentialize=o((function(t,e){const r=`__$sequence$${e}`;return function(...e){const n=this[r]||Promise.resolve(null),o=async()=>t.apply(this,e);return this[r]=n.then(o,o),this[r]}})),e.debounce=function(t){return o(((e,r)=>{const n=`$debounce$${r}`;return function(...r){clearTimeout(this[n]),this[n]=setTimeout((()=>e.apply(this,r)),t)}}))};const s={};e.globalSequentialize=function(t){return o(((e,r)=>function(...r){const n=s[t]||Promise.resolve(null),o=async()=>e.apply(this,r);return s[t]=n.then(o,o),s[t]}))}},1558:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.detectEncoding=void 0;const n=r(7899),o=r(6729),s=r(5265);n.jschardet.Constants&&(n.jschardet.Constants.MINIMUM_THRESHOLD=.2,n.jschardet.MacCyrillicModel.mTypicalPositiveRatio+=.001);const i=["ascii","utf-8","utf-16","utf-32"],a={ibm866:"cp866",big5:"cp950"};function c(t){return t.replace(/[^a-zA-Z0-9]/g,"").toLowerCase()}e.detectEncoding=function(t){const e=function(t){if(!t||t.length<2)return null;const e=t.readUInt8(0),r=t.readUInt8(1);if(254===e&&255===r)return"utf16be";if(255===e&&254===r)return"utf16le";if(t.length<3)return null;const n=t.readUInt8(2);return 239===e&&187===r&&191===n?"utf8":null}(t);if(e)return e;if(s.configuration.get("experimental.detect_encoding",!1)){const e=o.analyse(t),r=s.configuration.get("experimental.encoding_priority",[]);if(!e)return null;for(const t of r)for(const r of e)if(c(t)===c(r.name))return c(r.name);return null}const r=n.jschardet.detect(t.slice(0,65536));if(!r||!r.encoding||r.confidence<.8)return null;const u=r.encoding;if(0<=i.indexOf(u.toLowerCase()))return null;const h=c(u);return a[h]||h}},380:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.access=void 0;const n=r(8965);e.access=function(t,e){return new Promise(((r,o)=>{n.access(t,e,(t=>r(!t)))}))}},7226:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.exists=void 0;const n=r(8965);e.exists=function(t){return new Promise(((e,r)=>{n.access(t,(t=>e(!t)))}))}},939:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.writeFile=e.unlink=e.stat=e.rmdir=e.readdir=e.readFile=e.mkdir=e.lstat=e.exists=e.access=void 0;var n=r(380);Object.defineProperty(e,"access",{enumerable:!0,get:function(){return n.access}});var o=r(7226);Object.defineProperty(e,"exists",{enumerable:!0,get:function(){return o.exists}});var s=r(5666);Object.defineProperty(e,"lstat",{enumerable:!0,get:function(){return s.lstat}});var i=r(3865);Object.defineProperty(e,"mkdir",{enumerable:!0,get:function(){return i.mkdir}});var a=r(5137);Object.defineProperty(e,"readFile",{enumerable:!0,get:function(){return a.readFile}});var c=r(7135);Object.defineProperty(e,"readdir",{enumerable:!0,get:function(){return c.readdir}});var u=r(2437);Object.defineProperty(e,"rmdir",{enumerable:!0,get:function(){return u.rmdir}});var h=r(4137);Object.defineProperty(e,"stat",{enumerable:!0,get:function(){return h.stat}});var l=r(6955);Object.defineProperty(e,"unlink",{enumerable:!0,get:function(){return l.unlink}});var p=r(1159);Object.defineProperty(e,"writeFile",{enumerable:!0,get:function(){return p.writeFile}})},5666:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.lstat=void 0;const n=r(8965),o=r(1669);e.lstat=o.promisify(n.lstat)},3865:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.mkdir=void 0;const n=r(8965),o=r(1669);e.mkdir=o.promisify(n.mkdir)},5137:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.readFile=void 0;const n=r(8965),o=r(1669);e.readFile=o.promisify(n.readFile)},7135:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.readdir=void 0;const n=r(8965),o=r(1669);e.readdir=o.promisify(n.readdir)},2437:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.rmdir=void 0;const n=r(8965),o=r(1669);e.rmdir=o.promisify(n.rmdir)},4137:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.stat=void 0;const n=r(8965),o=r(1669);e.stat=o.promisify(n.stat)},6955:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.unlink=void 0;const n=r(8965),o=r(1669);e.unlink=o.promisify(n.unlink)},1159:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.writeFile=void 0;const n=r(8965),o=r(1669);e.writeFile=o.promisify(n.writeFile)},9750:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isTrunk=e.selectBranch=e.getBranchName=void 0;const n=r(7549),o=r(6419),s=r(1460),i=r(8833),a=r(7304),c=r(5265);function u(t){const e=["layout.trunkRegex","layout.branchesRegex","layout.tagsRegex"];for(const r of e){const e=c.configuration.get(r);if(!e)continue;const n=c.configuration.get(`${r}Name`,1)+2,o=new RegExp(`(^|/)(${e})$`),s=t.match(o);if(s&&s[2]&&s[n])return{name:s[n],path:s[2]}}}e.getBranchName=u,e.selectBranch=async function t(e,r=!1,c){const h=e.repository.list(c);n.window.withProgress({location:n.ProgressLocation.Window,title:"Checking remote branches"},(()=>h));const l=(await h).filter((t=>t.kind===o.SvnKindType.DIR)),p=[];if(c){const t=c.split("/");t.pop();const e=t.join("/");p.push(new a.default(e))}r&&c&&u(`${c}/test`)&&p.push(new i.default(c)),p.push(...l.map((t=>new s.default(t,c))));const d=await n.window.showQuickPick(p);if(d){if(d instanceof a.default)return t(e,r,d.path);if(d instanceof s.default)return d.branch?d.branch:t(e,r,d.path);if(d instanceof i.default){const t=await n.window.showInputBox({prompt:"Please provide a branch name",ignoreFocusOut:!0});if(!t)return;const e=t.replace(/^\.|\/\.|\.\.|~|\^|:|\/$|\.lock$|\.lock\/|\\|\*|\s|^\s*$|\.$/g,"-"),r=u(`${c}/${e}`);return r&&(r.isNew=!0),r}}},e.isTrunk=function(t){const e="layout.trunkRegex",r=c.configuration.get(e),n=new RegExp(`(^|/)(${r})$`),o=t.match(n),s=c.configuration.get(`${e}Name`,1)+2;return!!(o&&o[2]&&o[s])}},5265:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.configuration=void 0;const n=r(7549),o="svn";e.configuration=new class{constructor(){this._onDidChange=new n.EventEmitter,this.configuration=n.workspace.getConfiguration(o),n.workspace.onDidChangeConfiguration(this.onConfigurationChanged,this)}get onDidChange(){return this._onDidChange.event}onConfigurationChanged(t){t.affectsConfiguration(o)&&(this.configuration=n.workspace.getConfiguration(o),this._onDidChange.fire(t))}get(t,e){return this.configuration.get(t,e)}update(t,e,r){return this.configuration.update(t,e,r)}inspect(t){return this.configuration.inspect(t)}}},4927:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BranchChangesProvider=void 0;const n=r(7549),o=r(6419),s=r(3179),i=r(9882);e.BranchChangesProvider=class{constructor(t){this.model=t,this._dispose=[],this._onDidChangeTreeData=new n.EventEmitter,this.onDidChangeTreeData=this._onDidChangeTreeData.event,this._dispose.push(n.window.registerTreeDataProvider("branchchanges",this),n.commands.registerCommand("svn.branchchanges.openDiff",this.openDiffCmd,this),n.commands.registerCommand("svn.branchchanges.refresh",(()=>this._onDidChangeTreeData.fire()),this),this.model.onDidChangeRepository((()=>this._onDidChangeTreeData.fire())))}dispose(){i.dispose(this._dispose)}getTreeItem(t){let e="";t.item===o.Status.ADDED?e="status-added":t.item===o.Status.DELETED?e="status-deleted":t.item===o.Status.MODIFIED&&(e="status-modified");const r=s.getIconObject(e);return{label:t.localPath.fsPath,command:{command:"svn.branchchanges.openDiff",title:"Open diff",arguments:[t]},iconPath:r,tooltip:`${t.oldPath.fsPath.replace(t.repo.fsPath,"")}@r${t.oldRevision} → ${t.newPath.fsPath.replace(t.repo.fsPath,"")}@r${t.newRevision}`}}getChildren(t){if(void 0!==t)return Promise.resolve([]);const e=[];for(const t of this.model.repositories)e.push(t.getChanges());return Promise.all(e).then((t=>t.reduce(((t,e)=>t.concat(e)),[])))}async openDiffCmd(t){const e=await this.model.getRemoteRepository(t.repo);return t.item===o.Status.MODIFIED?s.openDiff(e,t.oldPath,t.oldRevision,t.newRevision,t.newPath):t.item===o.Status.ADDED?s.openFileRemote(e,t.newPath,t.newRevision):void 0}}},3179:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.openFileRemote=e.openDiff=e.getCommitToolTip=e.getCommitLabel=e.getCommitDescription=e.getCommitIcon=e.fetchMore=e.getLimit=e.checkIfFile=e.insertBaseMarker=e.copyCommitToClipboard=e.getIconObject=e.transform=e.SvnPath=e.LogTreeItemKind=void 0;const n=r(6417),o=r(5622),s=r(7484),i=r(4110),a=r(7549),c=r(939),u=r(5265),h=r(3676);var l;function p(t){const e=o.join(__dirname,"..","icons"),r=r=>a.Uri.file(o.join(e,r,`${t}.svg`));return{light:r("light"),dark:r("dark")}}function d(){const t=Number.parseInt(u.configuration.get("log.length")||"50",10);if(isNaN(t)||t<=0)throw new Error("Invalid log.length setting value");return t}s.extend(i),function(t){t[t.Repo=1]="Repo",t[t.Commit=2]="Commit",t[t.CommitDetail=3]="CommitDetail",t[t.TItem=4]="TItem"}(l=e.LogTreeItemKind||(e.LogTreeItemKind={})),e.SvnPath=class{constructor(t){this.path=t}toString(){return this.path}},e.transform=function(t,e,r){return t.map((t=>({kind:e,data:t,parent:r})))},e.getIconObject=p,e.copyCommitToClipboard=async function(t,e){const r=a.env.clipboard;if(void 0!==r){if(e.kind===l.Commit){const n=e.data;switch(t){case"msg":case"revision":await r.writeText(n[t])}}}else a.window.showErrorMessage("Clipboard is supported in VS Code 1.30 and newer")},e.insertBaseMarker=function(t,e,r){const n=t.persisted.baseRevision;if(e.length&&n&&parseInt(e[0].revision,10)>n){let t=1;for(;e.length>t&&parseInt(e[t].revision,10)>n;)t++;const o=new a.TreeItem("BASE");o.tooltip="Log entries above do not exist in working copy",r.splice(t,0,{kind:l.TItem,data:o})}},e.checkIfFile=async function(t,e){if(void 0===t.localFullPath)return void(e&&a.window.showErrorMessage("No working copy for this path"));let r;try{r=await c.lstat(t.localFullPath.fsPath)}catch{return a.window.showWarningMessage("Not available from this working copy: "+t.localFullPath),!1}return!!r.isFile()||(a.window.showErrorMessage("This target is not a file"),!1)},e.getLimit=d,e.fetchMore=async function(t){let e=t.persisted.commitFrom;const r=t.entries;r.length&&(e=r[r.length-1].revision,e=(Number.parseInt(e,10)-1).toString());let n=[];const o=d();try{n=await t.repo.log(e,"1",o,t.svnTarget)}catch{}(function(t,e,r){return!(t.length&&"1"===t[t.length-1].revision||0===e.length||"1"===e[e.length-1].revision||e.length<r)})(r,n,o)||(t.isComplete=!0),r.push(...n)};const f=new Map;async function m(t,e,r){if("BASE"===r){const r=t.getPathNormalizer().parse(e.toString(!0)).localFullPath;if(void 0===r||!await c.exists(r.path)){const t="BASE revision doesn't exist for "+(r?r.path:"remote path");throw a.window.showErrorMessage(t),new Error(t)}return r}let n;try{n=await t.show(e,r)}catch(t){throw a.window.showErrorMessage("Failed to open path"),t}return h.tempSvnFs.createTempSvnRevisionFile(e,r,n)}e.getCommitIcon=function(t,e=16){if(!u.configuration.get("gravatars.enabled",!0)||void 0===t)return p("icon-commit");let r=f.get(t);if(void 0!==r)return r;const o=u.configuration.get("gravatar.icon_url","").replace("<AUTHOR>",t).replace("<AUTHOR_MD5>",function(t){const e=n.createHash("md5");return e.write(t),e.digest().toString("hex")}(t)).replace("<SIZE>",e.toString());return r=a.Uri.parse(o),f.set(t,r),r},e.getCommitDescription=function(t){const e=s(t.date).fromNow();return`r${t.revision}, ${e} by ${t.author}`},e.getCommitLabel=function(t){return t.msg?t.msg.split(/\r?\n/,1)[0]:"<blank>"},e.getCommitToolTip=function(t){let e=t.date;return isNaN(Date.parse(e))||(e=new Date(e).toString()),`Author: ${t.author}\n${e}\nRevision: ${t.revision}\nMessage: ${t.msg}`},e.openDiff=async function(t,e,r,n,s){const i=await m(t,e,r),c=await m(t,s||e,n),u=`${o.basename(e.path)} (${r} : ${n})`;return a.commands.executeCommand("vscode.diff",i,c,u,{preview:!0})},e.openFileRemote=async function(t,e,r){let n;try{n=await t.show(e,r)}catch{return void a.window.showErrorMessage("Failed to open path")}const o=await h.tempSvnFs.createTempSvnRevisionFile(e,r,n);return a.commands.executeCommand("vscode.open",o,{preview:!0})}},4380:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ItemLogProvider=void 0;const n=r(5622),o=r(7549),s=r(9882),i=r(3179);e.ItemLogProvider=class{constructor(t){this.sourceControlManager=t,this._onDidChangeTreeData=new o.EventEmitter,this.onDidChangeTreeData=this._onDidChangeTreeData.event,this._dispose=[],this._dispose.push(o.window.onDidChangeActiveTextEditor(this.editorChanged,this),o.window.registerTreeDataProvider("itemlog",this),o.commands.registerCommand("svn.itemlog.copymsg",(async t=>i.copyCommitToClipboard("msg",t))),o.commands.registerCommand("svn.itemlog.copyrevision",(async t=>i.copyCommitToClipboard("revision",t))),o.commands.registerCommand("svn.itemlog.openFileRemote",this.openFileRemoteCmd,this),o.commands.registerCommand("svn.itemlog.openDiff",this.openDiffCmd,this),o.commands.registerCommand("svn.itemlog.openDiffBase",this.openDiffBaseCmd,this),o.commands.registerCommand("svn.itemlog.refresh",this.refresh,this)),this.refresh()}dispose(){s.dispose(this._dispose)}async openFileRemoteCmd(t){const e=t.data,r=s.unwrap(this.currentItem);return i.openFileRemote(r.repo,r.svnTarget,e.revision)}async openDiffBaseCmd(t){const e=t.data,r=s.unwrap(this.currentItem);return i.openDiff(r.repo,r.svnTarget,e.revision,"BASE")}async openDiffCmd(t){const e=t.data,r=s.unwrap(this.currentItem),n=r.entries.findIndex((t=>t===e));if(n===r.entries.length-1)return void o.window.showWarningMessage("Cannot diff last commit");const a=r.entries[n+1].revision;return i.openDiff(r.repo,r.svnTarget,a,e.revision)}async editorChanged(t){return this.refresh(void 0,t)}async refresh(t,e,r){if(r)return await i.fetchMore(s.unwrap(this.currentItem)),void this._onDidChangeTreeData.fire(t);if(void 0===e&&(e=o.window.activeTextEditor),e){const r=e.document.uri;if("file"===r.scheme){const t=this.sourceControlManager.getRepository(r);if(null!==t)try{const e=await t.getInfo(r.fsPath);this.currentItem={isComplete:!1,entries:[],repo:t,svnTarget:o.Uri.parse(e.url),persisted:{commitFrom:"HEAD",baseRevision:parseInt(e.revision,10)},order:0}}catch(t){}}this._onDidChangeTreeData.fire(t)}}async getTreeItem(t){let e;if(t.kind===i.LogTreeItemKind.Commit){const r=t.data;e=new o.TreeItem(i.getCommitLabel(r),o.TreeItemCollapsibleState.None),e.description=i.getCommitDescription(r),e.iconPath=i.getCommitIcon(r.author),e.tooltip=i.getCommitToolTip(r),e.contextValue="diffable",e.command={command:"svn.itemlog.openDiff",title:"Open diff",arguments:[t]}}else{if(t.kind!==i.LogTreeItemKind.TItem)throw new Error("Shouldn't happen");e=t.data}return e}async getChildren(t){if(void 0===this.currentItem)return[];if(void 0===t){const t=n.basename(this.currentItem.svnTarget.fsPath),e=new o.TreeItem(t,o.TreeItemCollapsibleState.Expanded);return e.tooltip=n.dirname(this.currentItem.svnTarget.fsPath),e.description=n.dirname(this.currentItem.svnTarget.fsPath),e.iconPath=i.getIconObject("icon-history"),[{kind:i.LogTreeItemKind.TItem,data:e}]}{const e=this.currentItem.entries;0===e.length&&await i.fetchMore(this.currentItem);const r=i.transform(e,i.LogTreeItemKind.Commit);if(i.insertBaseMarker(this.currentItem,e,r),!this.currentItem.isComplete){const e=new o.TreeItem(`Load another ${i.getLimit()} revisions`),n={kind:i.LogTreeItemKind.TItem,data:e};e.tooltip="Paging size may be adjusted using log.length setting",e.command={command:"svn.itemlog.refresh",arguments:[t,void 0,!0],title:"refresh element"},e.iconPath=i.getIconObject("icon-unfold"),r.push(n)}return r}}}},5142:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RepoLogProvider=void 0;const n=r(5622),o=r(7549),s=r(939),i=r(4172),a=r(9882),c=r(3179);e.RepoLogProvider=class{constructor(t){this.sourceControlManager=t,this._onDidChangeTreeData=new o.EventEmitter,this.onDidChangeTreeData=this._onDidChangeTreeData.event,this.logCache=new Map,this._dispose=[],this.refresh(),this._dispose.push(o.window.registerTreeDataProvider("repolog",this),o.commands.registerCommand("svn.repolog.copymsg",(async t=>c.copyCommitToClipboard("msg",t))),o.commands.registerCommand("svn.repolog.copyrevision",(async t=>c.copyCommitToClipboard("revision",t))),o.commands.registerCommand("svn.repolog.addrepolike",this.addRepolikeGui,this),o.commands.registerCommand("svn.repolog.remove",this.removeRepo,this),o.commands.registerCommand("svn.repolog.openFileRemote",this.openFileRemoteCmd,this),o.commands.registerCommand("svn.repolog.openDiff",this.openDiffCmd,this),o.commands.registerCommand("svn.repolog.openFileLocal",this.openFileLocal,this),o.commands.registerCommand("svn.repolog.refresh",this.refresh,this),this.sourceControlManager.onDidChangeRepository((async t=>this.refresh())))}getCached(t){const e=a.unwrap(t);return e.data instanceof c.SvnPath?a.unwrap(this.logCache.get(e.data.toString())):this.getCached(e.parent)}dispose(){a.dispose(this._dispose)}removeRepo(t){this.logCache.delete(t.data.toString()),this.refresh()}async addRepolike(t,e){const r={entries:[],isComplete:!1,svnTarget:{},repo:{},persisted:{commitFrom:e,userAdded:!0},order:this.logCache.size};if(this.logCache.has(t))return void o.window.showWarningMessage("This path is already added");const n=this.sourceControlManager.getRepository(t);if(null===n)try{let n;if(t.startsWith("^")){const e=this.sourceControlManager.getRepository(a.unwrap(o.workspace.workspaceFolders)[0].uri);if(!e)throw new Error("No repository in workspace root");const r=await e.getInfo(t);n=o.Uri.parse(r.url)}else n=o.Uri.parse(t);if("HEAD"!==e&&isNaN(parseInt(e,10)))throw new Error("erroneous revision");const s=await this.sourceControlManager.getRemoteRepository(n);r.repo=s,r.svnTarget=n}catch(t){return void o.window.showWarningMessage("Failed to add repo: "+(t instanceof Error?t.message:""))}else try{const s=await n.getInfo(t,e);r.repo=n,r.svnTarget=o.Uri.parse(s.url),r.persisted.baseRevision=parseInt(s.revision,10)}catch(t){return void o.window.showErrorMessage("Failed to resolve svn path")}const s=r.svnTarget.toString(!0);this.logCache.has(s)?o.window.showWarningMessage("Repository with this name already exists"):(this.logCache.set(s,r),this._onDidChangeTreeData.fire())}addRepolikeGui(){const t=o.window.createInputBox();t.prompt="Enter SVN URL or local path",t.onDidAccept((async()=>{let e=t.value;if(!n.isAbsolute(e)&&o.workspace.workspaceFolders&&!e.startsWith("^")&&!/^[a-z]+?:\/\//.test(e))for(const t of o.workspace.workspaceFolders){const r=n.join(t.uri.fsPath,e);if(await s.exists(r)){e=r;break}}t.dispose();const r=o.window.createInputBox();r.prompt="Enter starting revision (optional)",r.onDidAccept((async()=>{const t=r.value;return r.dispose(),this.addRepolike(e,t||"HEAD")}),void 0),r.show()})),t.show()}async openFileRemoteCmd(t){const e=t.data,r=this.getCached(t),n=r.repo.getPathNormalizer().parse(e._);if(!1===await c.checkIfFile(n,!1))return;const o=t.parent.data;return c.openFileRemote(r.repo,n.remoteFullPath,o.revision)}openFileLocal(t){const e=t.data,r=this.getCached(t).repo.getPathNormalizer().parse(e._);c.checkIfFile(r,!0)&&o.commands.executeCommand("vscode.open",a.unwrap(r.localFullPath))}async openDiffCmd(t){const e=t.data,r=this.getCached(t),n=t.parent.data,s=r.repo.getPathNormalizer().parse(e._).remoteFullPath;let i;const a=await r.repo.log(n.revision,"1",2,s);if(2===a.length)return i=a[1],c.openDiff(r.repo,s,i.revision,n.revision);o.window.showWarningMessage("Cannot find previous commit")}async refresh(t,e){if(void 0===t){for(const[t,e]of this.logCache)e.persisted.userAdded||this.logCache.delete(t);for(const t of this.sourceControlManager.repositories){const e=t.branchRoot,r=e.toString(!0);let n={commitFrom:"HEAD",baseRevision:parseInt(t.repository.info.revision,10)};const o=this.logCache.get(r);o&&(n=o.persisted),this.logCache.set(r,{entries:[],isComplete:!1,repo:t,svnTarget:e,persisted:n,order:this.logCache.size})}}else if(t.kind===c.LogTreeItemKind.Repo){const r=this.getCached(t);e?await c.fetchMore(r):(r.entries=[],r.isComplete=!1)}this._onDidChangeTreeData.fire(t)}async getTreeItem(t){let e;if(t.kind===c.LogTreeItemKind.Repo){const r=t.data,n=this.getCached(t);e=new o.TreeItem(r.toString(),o.TreeItemCollapsibleState.Collapsed),n.persisted.userAdded?(e.label="∘ "+e.label,e.contextValue="userrepo"):e.contextValue="repo",n.repo instanceof i.Repository?e.iconPath=c.getIconObject("folder"):e.iconPath=c.getIconObject("icon-repo");const s=n.persisted.commitFrom||"HEAD";e.tooltip=`${r} since ${s}`}else if(t.kind===c.LogTreeItemKind.Commit){const r=t.data;e=new o.TreeItem(c.getCommitLabel(r),o.TreeItemCollapsibleState.Collapsed),e.description=c.getCommitDescription(r),e.tooltip=c.getCommitToolTip(r),e.iconPath=c.getCommitIcon(r.author),e.contextValue="commit"}else if(t.kind===c.LogTreeItemKind.CommitDetail){const r=t.data,s=n.basename(r._);e=new o.TreeItem(s,o.TreeItemCollapsibleState.None),e.description=n.dirname(r._);const i=this.getCached(t).repo.getPathNormalizer();e.tooltip=i.parse(r._).relativeFromBranch,e.iconPath=function(t){let e;switch(t){case"A":e="status-added";break;case"D":e="status-deleted";break;case"M":e="status-modified";break;case"R":e="status-renamed"}if(void 0!==e)return c.getIconObject(e)}(r.action),e.contextValue="diffable",e.command={command:"svn.repolog.openDiff",title:"Open diff",arguments:[t]}}else{if(t.kind!==c.LogTreeItemKind.TItem)throw new Error("Unknown tree elem");e=t.data}return e}async getChildren(t){if(void 0===t)return c.transform(Array.from(this.logCache.entries()).sort((([t,e],[r,n])=>e.persisted.userAdded!==n.persisted.userAdded?e.persisted.userAdded?1:-1:e.order-n.order)).map((([t,e])=>new c.SvnPath(t))),c.LogTreeItemKind.Repo);if(t.kind===c.LogTreeItemKind.Repo){const e=c.getLimit(),r=this.getCached(t),n=r.entries;0===n.length&&await c.fetchMore(r);const s=c.transform(n,c.LogTreeItemKind.Commit,t);if(c.insertBaseMarker(r,n,s),!r.isComplete){const r=new o.TreeItem(`Load another ${e} revisions`);r.tooltip="Paging size may be adjusted using log.length setting",r.command={command:"svn.repolog.refresh",arguments:[t,!0],title:"refresh element"},r.iconPath=c.getIconObject("icon-unfold"),s.push({kind:c.LogTreeItemKind.TItem,data:r})}return s}if(t.kind===c.LogTreeItemKind.Commit){const e=t.data;return c.transform(e.paths,c.LogTreeItemKind.CommitDetail,t)}return[]}}},977:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.inputIgnoreList=e.IgnoreSingleItem=void 0;const n=r(5622),o=r(7549);class s{constructor(t,e=!1){this.expression=t,this.recursive=e}get label(){const t=this.recursive?" (Recursive)":"";return`${this.expression}${t}`}get description(){const t=this.recursive?" (Recursive)":"";return`Add '${this.expression}' to 'svn:ignore'${t}`}}e.IgnoreSingleItem=s,e.inputIgnoreList=async function(t,e){if(0===e.length)return!1;const r=new RegExp("\\.[^\\.]+(\\.map)?$","i");if(1===e.length){const i=e[0],a=i.fsPath.match(r),c=a&&a[0]?a[0]:"",u=n.basename(i.fsPath),h=n.dirname(i.fsPath),l=[];l.push(new s(u)),c&&l.push(new s("*"+c)),l.push(new s(u,!0)),c&&l.push(new s("*"+c,!0));const p=await o.window.showQuickPick(l);return!!p&&t.addToIgnore([p.expression],h,p.recursive)}const i=e.length,a=`Ignore ${i} by filename`,c=[a,`Ignore ${i} by extension`,`Ignore ${i} by filename (Recursive)`,`Ignore ${i} by extension (Recursive)`],u=await o.window.showQuickPick(c);if(!u)return!1;const h=u.startsWith(a),l=u.endsWith("(Recursive)"),p={};for(const t of e){const e=n.dirname(t.fsPath),o=n.basename(t.fsPath),s=t.fsPath.match(r),i=s&&s[0]?s[0]:"";void 0===p[e]&&(p[e]=[]),h?p[e].push(o):i&&p[e].push("*"+i)}for(const e in p)if(p.hasOwnProperty(e)){const r=[...new Set(p[e])];await t.addToIgnore(r,e,l)}return!0}},298:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.checkAndPromptDepth=e.promptDepth=e.confirmRevert=void 0;const n=r(7549),o=r(6419),s=r(939);async function i(){const t=[];for(const e in o.SvnDepth)o.SvnDepth.hasOwnProperty(e)&&t.push({label:e,description:o.SvnDepth[e]});const e=await n.window.showQuickPick(t,{placeHolder:"Select revert depth"});if(e)return e.label}e.confirmRevert=async function(){const t="Yes I'm sure";return await n.window.showWarningMessage("Are you sure? This will wipe all local changes.",{modal:!0},t)===t},e.promptDepth=i,e.checkAndPromptDepth=async function(t,e="empty"){let r=0===t.length;for(const e of t)if("file"===e.scheme)try{if((await s.lstat(e.fsPath)).isDirectory()){r=!0;break}}catch(t){}return r?i():e}},3993:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.applyLineChanges=void 0;const n=r(7549);e.applyLineChanges=function(t,e,r){const o=[];let s=0;for(const i of r){const r=0===i.originalEndLineNumber,a=0===i.modifiedEndLineNumber;if(o.push(t.getText(new n.Range(s,0,r?i.originalStartLineNumber:i.originalStartLineNumber-1,0))),!a){let s=i.modifiedStartLineNumber-1,a=0;r&&i.originalStartLineNumber===t.lineCount&&(s=t.lineCount-1,a=t.lineAt(s).range.end.character),o.push(e.getText(new n.Range(s,a,i.modifiedEndLineNumber,0)))}s=r?i.originalStartLineNumber:i.originalEndLineNumber}return o.push(t.getText(new n.Range(s,0,t.lineCount,0))),o.join("")}},3740:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.inputCommitMessage=e.dispose=e.noChangesToCommit=void 0;const n=r(5622),o=r(7549),s=r(5265);let i,a;e.noChangesToCommit=function(){return o.window.showInformationMessage("There are no changes to commit.")},o.commands.registerCommand("svn.forceCommitMessageTest",(t=>{if(a)return a(t)})),e.dispose=function(){i&&i.dispose()},e.inputCommitMessage=async function(t,e=!0,r){e&&(t=await async function(t,e){return new Promise((r=>{i&&i.dispose(),a=t=>{r(t),i.dispose()},i=o.window.createWebviewPanel("svnCommitMessage","Commit Message",{preserveFocus:!1,viewColumn:o.ViewColumn.Active},{enableScripts:!0,retainContextWhenHidden:!0});const s=o.Uri.file(n.join(__dirname,"..","css","commit-message.css")),c=i.webview.asWebviewUri(s);let u="";if(e&&e.length){const t=e.sort().map((t=>`<li>${t}</li>`));t.length&&(u=`\n<div class="file-list">\n  <h3 class="title">Files to commit</h3>\n  <ul>\n    ${t.join("\n")}\n  </ul>\n</div>`)}const h=`<!DOCTYPE html>\n<html lang="en">\n<head>\n  <meta charset="UTF-8">\n  <meta name="viewport" content="width=device-width, initial-scale=1.0">\n\n  \x3c!--\n  Use a content security policy to only allow loading images from https or from our extension directory,\n  and only allow scripts that have a specific nonce.\n  --\x3e\n  <meta http-equiv="Content-Security-Policy" content="default-src 'none'; img-src ${i.webview.cspSource} https:; script-src ${i.webview.cspSource} 'unsafe-inline'; style-src ${i.webview.cspSource};">\n\n  <title>Commit Message</title>\n  <link rel="stylesheet" href="${c}">\n</head>\n<body>\n  <section class="container">\n    ${u}\n    <form>\n      <fieldset>\n        <div class="float-right">\n          <a href="#" id="pickCommitMessage">Pick a previous commit message</a>\n        </div>\n        <label for="message">Commit message</label>\n        <textarea id="message" rows="3" placeholder="Message (press Ctrl+Enter to commit)"></textarea>\n        <button id="commit" class="button-primary">Commit</button>\n        <div class="float-right">\n          <button id="cancel" class="button button-outline">Cancel</button>\n        </div>\n      </fieldset>\n    </form>\n  </section>\n  <script>\n    const vscode = acquireVsCodeApi();\n\n    const txtMessage = document.getElementById("message");\n    const btnCommit = document.getElementById("commit");\n    const btnCancel = document.getElementById("cancel");\n    const linkPickCommitMessage = document.getElementById("pickCommitMessage");\n\n    // load current message\n    txtMessage.value = ${JSON.stringify(t)};\n\n    btnCommit.addEventListener("click", function() {\n      vscode.postMessage({\n        command: "commit",\n        message: txtMessage.value\n      });\n    });\n\n    btnCancel.addEventListener("click", function() {\n      vscode.postMessage({\n        command: "cancel"\n      });\n    });\n\n    // Allow CTRL + Enter\n    txtMessage.addEventListener("keydown", function(e) {\n      if (event.ctrlKey && event.keyCode === 13) {\n        btnCommit.click();\n      }\n    });\n\n    // Auto resize the height of message\n    txtMessage.addEventListener("input", function(e) {\n      txtMessage.style.height = "auto";\n      txtMessage.style.height = (txtMessage.scrollHeight) + "px";\n    });\n\n    window.addEventListener("load", function() {\n      setTimeout(() => {\n        txtMessage.focus();\n      }, 1000);\n    });\n\n    linkPickCommitMessage.addEventListener("click", function() {\n      vscode.postMessage({\n        command: "pickCommitMessage"\n      });\n    });\n\n    // Message from VSCode\n    window.addEventListener("message", function(event) {\n      const message = event.data;\n      switch (message.command) {\n        case "setMessage":\n          txtMessage.value = message.message;\n          txtMessage.dispatchEvent(new Event("input"));\n          break;\n      }\n    });\n  <\/script>\n</body>\n</html>`;i.webview.html=h,i.onDidDispose((()=>{r(void 0)})),i.webview.onDidReceiveMessage((t=>{switch(t.command){case"commit":r(t.message),i.dispose();break;case"pickCommitMessage":(async()=>{let t;if(e&&e[0]){const r=await o.commands.executeCommand("svn.getSourceControlManager","");t=await r.getRepositoryFromUri(o.Uri.file(e[0]))}const r=await o.commands.executeCommand("svn.pickCommitMessage",t);void 0!==r&&i.webview.postMessage({command:"setMessage",message:r})})();break;default:r(void 0),i.dispose()}})),i.reveal(o.ViewColumn.Active,!1)}))}(t,r));const c=s.configuration.get("commit.checkEmptyMessage",!0);return""===t&&c?"Yes"===await o.window.showWarningMessage("Do you really want to commit an empty message?",{modal:!0},"Yes")?"":void 0:t}},5226:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=r(9882);e.default=class{constructor(){this.operations=new Map}start(t){this.operations.set(t,(this.operations.get(t)||0)+1)}end(t){const e=(this.operations.get(t)||0)-1;e<=0?this.operations.delete(t):this.operations.set(t,e)}isRunning(t){return this.operations.has(t)}isIdle(){const t=this.operations.keys();for(const e of t)if(!n.isReadOnly(e))return!1;return!0}}},8070:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.parseDiffXml=void 0;const n=r(5055),o=r(9882);e.parseDiffXml=async function(t){return new Promise(((e,r)=>{n.parseString(t,{mergeAttrs:!0,explicitRoot:!1,explicitArray:!1,attrNameProcessors:[o.camelcase],tagNameProcessors:[o.camelcase]},((t,n)=>{!t&&n.paths&&n.paths.path||r(),Array.isArray(n.paths.path)||(n.paths.path=[n.paths.path]),e(n.paths.path)}))}))}},1743:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.parseInfoXml=void 0;const n=r(5055),o=r(9882);e.parseInfoXml=async function(t){return new Promise(((e,r)=>{n.parseString(t,{mergeAttrs:!0,explicitRoot:!1,explicitArray:!1,attrNameProcessors:[o.camelcase],tagNameProcessors:[o.camelcase]},((t,n)=>{(t||void 0===n.entry)&&r(),e(n.entry)}))}))}},8860:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.parseSvnList=void 0;const n=r(5055),o=r(8379);e.parseSvnList=async function(t){return new Promise(((e,r)=>{n.parseString(t,o.xml2jsParseSettings,((t,n)=>{t&&r(),n.list&&n.list.entry?(Array.isArray(n.list.entry)||(n.list.entry=[n.list.entry]),e(n.list.entry)):e([])}))}))}},3253:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.parseSvnLog=void 0;const n=r(5055),o=r(8379);e.parseSvnLog=async function(t){return new Promise(((e,r)=>{n.parseString(t,o.xml2jsParseSettings,((t,n)=>{t&&r();let o=[];Array.isArray(n.logentry)?o=n.logentry:"object"==typeof n.logentry&&(o=[n.logentry]);for(const t of o)void 0===t.paths?t.paths=[]:Array.isArray(t.paths.path)?t.paths=t.paths.path:t.paths=[t.paths.path];e(o)}))}))}},1200:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.parseStatusXml=void 0;const n=r(5055),o=r(8379);function s(t,e){if(Array.isArray(t)){const r=[];return t.forEach((t=>{const n=s(t,e);n&&r.push(...n)})),r}const r={locked:!!t.wcStatus.wcLocked&&"true"===t.wcStatus.wcLocked||!(!t.reposStatus||!t.reposStatus.lock),switched:!!t.wcStatus.switched&&"true"===t.wcStatus.switched},n={changelist:e,path:t.path,status:t.wcStatus.item,props:t.wcStatus.props,wcStatus:r,reposStatus:t.reposStatus};return t.wcStatus.movedTo&&"deleted"===n.status?[]:(t.wcStatus.movedFrom&&"added"===n.status&&(n.rename=t.wcStatus.movedFrom),t.wcStatus.commit&&(n.commit={revision:t.wcStatus.commit.revision,author:t.wcStatus.commit.author,date:t.wcStatus.commit.date}),[n])}e.parseStatusXml=async function(t){return new Promise(((e,r)=>{n.parseString(t,o.xml2jsParseSettings,((t,n)=>{t&&r();const o=function(t){const e=[];return t.target&&t.target.entry&&e.push(...s(t.target.entry)),t.changelist&&(Array.isArray(t.changelist)||(t.changelist=[t.changelist]),t.changelist.forEach((t=>{e.push(...s(t.entry,t.name))}))),e}(n);e(o)}))}))}},4288:function(t,e,r){"use strict";var n=this&&this.__decorate||function(t,e,r,n){var o,s=arguments.length,i=s<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(i=(s<3?o(i):s>3?o(e,r,i):o(e,r))||i);return s>3&&i&&Object.defineProperty(e,r,i),i};Object.defineProperty(e,"__esModule",{value:!0}),e.PathNormalizer=e.ResourceKind=void 0;const o=r(5622),s=r(5622),i=r(7549),a=r(5455),c=r(3929);var u;!function(t){t[t.LocalRelative=0]="LocalRelative",t[t.LocalFull=1]="LocalFull",t[t.RemoteFull=2]="RemoteFull"}(u=e.ResourceKind||(e.ResourceKind={}));class h{constructor(t){this.repoInfo=t,this.repoRoot=i.Uri.parse(t.repository.root),this.branchRoot=i.Uri.parse(t.url),t.wcInfo&&t.wcInfo.wcrootAbspath&&(this.checkoutRoot=i.Uri.file(t.wcInfo.wcrootAbspath))}getFullRepoPathFromUrl(t){if(t.startsWith("/"))return t.substr(1);if(t.startsWith("svn://")||t.startsWith("file://")){const e=i.Uri.parse(t).path;return o.posix.relative(c.pathOrRoot(this.repoRoot),e)}throw new Error("unknown path")}parse(t,e=u.RemoteFull,r){let n;if(e===u.RemoteFull)n=this.getFullRepoPathFromUrl(t);else if(e===u.LocalFull){if(!o.posix.isAbsolute(t))throw new Error("Path isn't absolute");if(void 0===this.checkoutRoot)throw new Error("Local paths are not");n=s.relative(this.checkoutRoot.fsPath,t),n=o.posix.join(this.fromRootToBranch(),n)}else{if(e!==u.LocalRelative)throw new Error("unsupported kind");if(o.posix.isAbsolute(t))throw new Error("Path is absolute");if(void 0===this.checkoutRoot)throw new Error("Local paths are not");n=o.posix.join(this.fromRootToBranch(),t)}return new c.SvnRI(this.repoRoot,this.branchRoot,this.checkoutRoot,n,r)}fromRootToBranch(){return o.posix.relative(c.pathOrRoot(this.repoRoot),c.pathOrRoot(this.branchRoot))}fromBranchToRoot(){return o.posix.relative(c.pathOrRoot(this.branchRoot),c.pathOrRoot(this.repoRoot))}}n([a.memoize],h.prototype,"fromRootToBranch",null),n([a.memoize],h.prototype,"fromBranchToRoot",null),e.PathNormalizer=h},7815:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=class{constructor(t){this.group=t}get label(){return this.group.id.replace(/^changelist-/,"")}get id(){return this.group.id}get description(){return this.group.label}get resourceGroup(){return this.group}}},7701:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FileItem=void 0,e.FileItem=class{constructor(t,e,r=!1){this._repository=t,this._state=e,this.picked=r}get label(){return this._repository.repository.removeAbsolutePath(this._state.resourceUri.fsPath)}get description(){return this._state.resourceUri.fsPath}get state(){return this._state}}},1460:function(t,e,r){"use strict";var n=this&&this.__decorate||function(t,e,r,n){var o,s=arguments.length,i=s<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(i=(s<3?o(i):s>3?o(e,r,i):o(e,r))||i);return s>3&&i&&Object.defineProperty(e,r,i),i};Object.defineProperty(e,"__esModule",{value:!0});const o=r(5455),s=r(9750);class i{constructor(t,e){this.dir=t,this.parent=e}get label(){return this.branch?`$(git-branch) ${this.dir.name}`:`$(file-directory) ${this.dir.name}`}get description(){return`r${this.dir.commit.revision} | ${this.dir.commit.author} | ${new Date(this.dir.commit.date).toLocaleString()}`}get path(){return this.parent?`${this.parent}/${this.dir.name}`:this.dir.name}get branch(){return s.getBranchName(this.path)}}n([o.memoize],i.prototype,"branch",null),e.default=i},9511:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=class{constructor(t){this._id=t}get label(){return this._id}get description(){return"Ignored on commit"}}},4151:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=class{get label(){return"$(plus) New changelist"}get description(){return"Create a new change list"}}},8833:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=class{constructor(t){this._parent=t}get label(){return"$(plus) Create new branch"}get description(){return`Create new branch in "${this._parent}"`}}},7304:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=class{constructor(t){this.path=t}get label(){return`$(arrow-left) back to /${this.path}`}get description(){return"Back to parent"}}},6983:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=class{get label(){return"$(dash) Remove changelist"}get description(){return"Remove changelist of file(s)"}}},3141:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RemoteRepository=void 0;const n=r(7549),o=r(4288);class s{constructor(t){this.repo=t,this.info=t.info}static async open(t,e){const r=await t.open(e.toString(!0),"");return new s(r)}getPathNormalizer(){return new o.PathNormalizer(this.info)}get branchRoot(){return n.Uri.parse(this.info.url)}async log(t,e,r,n){return this.repo.log(t,e,r,n)}async show(t,e){return this.repo.show(t,e)}}e.RemoteRepository=s},4172:function(t,e,r){"use strict";var n=this&&this.__decorate||function(t,e,r,n){var o,s=arguments.length,i=s<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(i=(s<3?o(i):s>3?o(e,r,i):o(e,r))||i);return s>3&&i&&Object.defineProperty(e,r,i),i};Object.defineProperty(e,"__esModule",{value:!0}),e.Repository=void 0;const o=r(5622),s=r(8213),i=r(7549),a=r(6419),c=r(5455),u=r(939),h=r(5265),l=r(5226),p=r(4288),d=r(871),f=r(7312),m=r(7494),g=r(8327),y=r(9882),v=r(634),w=r(2777),E=r(7899);class b{constructor(t){this.repository=t,this.changelists=new Map,this.statusIgnored=[],this.statusExternal=[],this.disposables=[],this.currentBranch="",this.remoteChangedFiles=0,this.isIncomplete=!1,this.needCleanUp=!1,this.deletedUris=[],this.canSaveAuth=!1,this._onDidChangeRepository=new i.EventEmitter,this.onDidChangeRepository=this._onDidChangeRepository.event,this._onDidChangeState=new i.EventEmitter,this.onDidChangeState=this._onDidChangeState.event,this._onDidChangeStatus=new i.EventEmitter,this.onDidChangeStatus=this._onDidChangeStatus.event,this._onDidChangeRemoteChangedFiles=new i.EventEmitter,this.onDidChangeRemoteChangedFile=this._onDidChangeRemoteChangedFiles.event,this._onRunOperation=new i.EventEmitter,this.onRunOperation=this._onRunOperation.event,this._onDidRunOperation=new i.EventEmitter,this.onDidRunOperation=this._onDidRunOperation.event,this._operations=new l.default,this._state=a.RepositoryState.Idle,this._fsWatcher=new w.RepositoryFilesWatcher(t.root),this.disposables.push(this._fsWatcher),this._fsWatcher.onDidAny(this.onFSChange,this,this.disposables),this._fsWatcher.onDidSvnAny((async t=>{await this.onDidAnyFileChanged(t)}),this,this.disposables),this.sourceControl=i.scm.createSourceControl("svn","SVN",i.Uri.file(t.workspaceRoot)),this.sourceControl.count=0,this.sourceControl.inputBox.placeholder="Message (press Ctrl+Enter to commit)",this.sourceControl.acceptInputCommand={command:"svn.commitWithMessage",title:"commit",arguments:[this.sourceControl]},this.sourceControl.quickDiffProvider=this,this.disposables.push(this.sourceControl),this.statusBar=new f.StatusBarCommands(this),this.disposables.push(this.statusBar),this.statusBar.onDidChange((()=>this.sourceControl.statusBarCommands=this.statusBar.commands),null,this.disposables),this.changes=this.sourceControl.createResourceGroup("changes","Changes"),this.conflicts=this.sourceControl.createResourceGroup("conflicts","Conflicts"),this.unversioned=this.sourceControl.createResourceGroup("unversioned","Unversioned"),this.changes.hideWhenEmpty=!0,this.unversioned.hideWhenEmpty=!0,this.conflicts.hideWhenEmpty=!0,this.disposables.push(this.changes),this.disposables.push(this.conflicts),this.disposables.push(y.toDisposable((()=>this.unversioned.dispose()))),this.disposables.push(y.toDisposable((()=>{this.remoteChangedUpdateInterval&&s.clearInterval(this.remoteChangedUpdateInterval)}))),this._fsWatcher.onDidWorkspaceDelete((t=>this.deletedUris.push(t)),this,this.disposables),this.onDidChangeStatus(this.actionForDeletedFiles,this,this.disposables),this.createRemoteChangedInterval(),this.updateRemoteChangedFiles(),h.configuration.onDidChange((t=>{t.affectsConfiguration("svn.remoteChanges.checkFrequency")&&(this.remoteChangedUpdateInterval&&s.clearInterval(this.remoteChangedUpdateInterval),this.createRemoteChangedInterval(),this.updateRemoteChangedFiles())})),this.status(),this.disposables.push(i.workspace.onDidSaveTextDocument((t=>{this.onDidSaveTextDocument(t)})))}get fsWatcher(){return this._fsWatcher}get onDidChangeOperations(){return y.anyEvent(this.onRunOperation,this.onDidRunOperation)}get operations(){return this._operations}get state(){return this._state}set state(t){this._state=t,this._onDidChangeState.fire(t),this.changes.resourceStates=[],this.unversioned.resourceStates=[],this.conflicts.resourceStates=[],this.changelists.forEach(((t,e)=>{t.resourceStates=[]})),this.remoteChanges&&this.remoteChanges.dispose(),this.isIncomplete=!1,this.needCleanUp=!1}get root(){return this.repository.root}get workspaceRoot(){return this.repository.workspaceRoot}get branchRoot(){return i.Uri.parse(this.repository.info.url)}get inputBox(){return this.sourceControl.inputBox}get username(){return this.repository.username}set username(t){this.repository.username=t}get password(){return this.repository.password}set password(t){this.repository.password=t}async onDidAnyFileChanged(t){await this.repository.updateInfo(),this._onDidChangeRepository.fire(t)}createRemoteChangedInterval(){const t=h.configuration.get("remoteChanges.checkFrequency",300);t&&(this.remoteChangedUpdateInterval=s.setInterval((()=>{this.updateRemoteChangedFiles()}),1e3*t))}async actionForDeletedFiles(){if(!this.deletedUris.length)return;const t=this.deletedUris;this.deletedUris=[];const e=h.configuration.get("delete.actionForDeletedFiles","prompt");if("none"===e)return;let r=t.map((t=>this.getResourceFromFile(t))).filter((t=>t&&t.type===a.Status.MISSING)).map((t=>t.resourceUri));if(!r.length)return;const n=h.configuration.get("delete.ignoredRulesForDeletedFiles",[]).map((t=>v.match(t)));return n.length&&(r=r.filter((t=>{const e=this.repository.removeAbsolutePath(t.fsPath);return!n.some((r=>r.match(e)||r.match(t.fsPath)))}))),r.length?"remove"===e?this.removeFiles(r.map((t=>t.fsPath)),!1):"prompt"===e?i.commands.executeCommand("svn.promptRemove",...r):void 0:void 0}async updateRemoteChangedFiles(){h.configuration.get("remoteChanges.checkFrequency",300)?this.run(a.Operation.StatusRemote):this.remoteChanges&&(this.remoteChanges.dispose(),this.remoteChanges=void 0)}onFSChange(t){h.configuration.get("autorefresh")&&this.operations.isIdle()&&this.eventuallyUpdateWhenIdleAndWait()}eventuallyUpdateWhenIdleAndWait(){this.updateWhenIdleAndWait()}async updateWhenIdleAndWait(){await this.whenIdleAndFocused(),await this.status(),await y.timeout(5e3)}async whenIdleAndFocused(){for(;;)if(this.operations.isIdle()){if(i.window.state.focused)return;{const t=y.filterEvent(i.window.onDidChangeWindowState,(t=>t.focused));await y.eventToPromise(t)}}else await y.eventToPromise(this.onDidRunOperation)}async updateModelState(t=!1){const e=[],r=[],n=[],s=new Map,c=[];this.statusExternal=[],this.statusIgnored=[],this.isIncomplete=!1,this.needCleanUp=!1;const u=h.configuration.get("sourceControl.combineExternalIfSameServer",!1),l=await this.retryRun((async()=>this.repository.getStatus({includeIgnored:!0,includeExternals:u,checkRemoteChanges:t})))||[],p=i.workspace.getConfiguration("files",i.Uri.file(this.root)).get("exclude"),f=[];for(const t in p)if(p.hasOwnProperty(t)){const e=!p[t];f.push((e?"!":"")+t)}if(this.statusExternal=l.filter((t=>t.status===a.Status.EXTERNAL)),u&&this.statusExternal.length){const t=await this.repository.getRepositoryUuid();this.statusExternal=this.statusExternal.filter((e=>t!==e.repositoryUuid))}const m=l.filter((t=>t.status!==a.Status.EXTERNAL&&!this.statusExternal.some((e=>y.isDescendant(e.path,t.path))))),g=h.configuration.get("sourceControl.hideUnversioned"),w=h.configuration.get("sourceControl.ignore");for(const t of m){if("."===t.path&&(this.isIncomplete=t.status===a.Status.INCOMPLETE,this.needCleanUp=t.wcStatus.locked),t.wcStatus.switched&&(this.isIncomplete=!0),t.wcStatus.locked||t.wcStatus.switched||t.status===a.Status.INCOMPLETE)continue;if(v.matchAll(t.path,f,{dot:!0}))continue;const u=i.Uri.file(o.join(this.workspaceRoot,t.path)),h=t.rename?i.Uri.file(o.join(this.workspaceRoot,t.rename)):void 0;t.reposStatus&&c.push(new d.Resource(u,t.reposStatus.item,void 0,t.reposStatus.props,!0));const p=new d.Resource(u,t.status,h,t.props);if(t.status!==a.Status.NORMAL&&t.status!==a.Status.NONE||t.props!==a.Status.NORMAL&&t.props!==a.Status.NONE||t.changelist)if(t.status===a.Status.IGNORED)this.statusIgnored.push(t);else if(t.status===a.Status.CONFLICTED)n.push(p);else if(t.status===a.Status.UNVERSIONED){if(g)continue;const e=t.path.match(/(.+?)\.(mine|working|merge-\w+\.r\d+|r\d+)$/);if(e&&e[1]&&l.some((t=>t.path===e[1])))continue;if(w.length>0&&v.matchAll(o.sep+t.path,w,{dot:!0,matchBase:!0}))continue;r.push(p)}else if(t.changelist){let e=s.get(t.changelist);e||(e=[]),e.push(p),s.set(t.changelist,e)}else e.push(p)}this.changes.resourceStates=e,this.conflicts.resourceStates=n;const E=this.changelists.size;this.changelists.forEach(((t,e)=>{t.resourceStates=[]}));const b=[this.changes,this.conflicts],C=h.configuration.get("sourceControl.ignoreOnStatusCount");if(s.forEach(((t,e)=>{let r=this.changelists.get(e);r||(r=this.sourceControl.createResourceGroup(`changelist-${e}`,`Changelist "${e}"`),r.hideWhenEmpty=!0,this.disposables.push(r),this.changelists.set(e,r)),r.resourceStates=t,C.includes(e)||b.push(r)})),E!==this.changelists.size&&(this.unversioned.dispose(),this.unversioned=this.sourceControl.createResourceGroup("unversioned","Unversioned"),this.unversioned.hideWhenEmpty=!0),this.unversioned.resourceStates=r,h.configuration.get("sourceControl.countUnversioned",!1)&&b.push(this.unversioned),this.sourceControl.count=b.reduce(((t,e)=>t+e.resourceStates.length),0),!this.remoteChanges||E!==this.changelists.size){let t=[];this.remoteChanges&&(t=this.remoteChanges.resourceStates,this.remoteChanges.dispose()),this.remoteChanges=this.sourceControl.createResourceGroup("remotechanges","Remote Changes"),this.remoteChanges.repository=this,this.remoteChanges.hideWhenEmpty=!0,this.remoteChanges.resourceStates=t}return t&&(this.remoteChanges.resourceStates=c,c.length!==this.remoteChangedFiles&&(this.remoteChangedFiles=c.length,this._onDidChangeRemoteChangedFiles.fire())),this._onDidChangeStatus.fire(),this.currentBranch=await this.getCurrentBranch(),Promise.resolve()}getResourceFromFile(t){"string"==typeof t&&(t=i.Uri.file(t));const e=[this.changes,this.conflicts,this.unversioned,...this.changelists.values()],r=t.toString();for(const t of e)for(const e of t.resourceStates)if(r===e.resourceUri.toString()&&e instanceof d.Resource)return e}provideOriginalResource(t){if("file"===t.scheme&&!y.isDescendant(o.join(this.root,y.getSvnDir()),t.fsPath))return g.toSvnUri(t,a.SvnUriAction.SHOW,{},!0)}async getBranches(){try{return await this.repository.getBranches()}catch(t){return[]}}async status(){return this.run(a.Operation.Status)}async show(t,e){return this.run(a.Operation.Show,(()=>this.repository.show(t,e)))}async showBuffer(t,e){return this.run(a.Operation.Show,(()=>this.repository.showBuffer(t,e)))}async addFiles(t){return this.run(a.Operation.Add,(()=>this.repository.addFiles(t)))}async addChangelist(t,e){return this.run(a.Operation.AddChangelist,(()=>this.repository.addChangelist(t,e)))}async removeChangelist(t){return this.run(a.Operation.RemoveChangelist,(()=>this.repository.removeChangelist(t)))}async getCurrentBranch(){return this.run(a.Operation.CurrentBranch,(async()=>this.repository.getCurrentBranch()))}async newBranch(t,e="Created new branch"){return this.run(a.Operation.NewBranch,(async()=>{await this.repository.newBranch(t,e),this.updateRemoteChangedFiles()}))}async switchBranch(t,e=!1){await this.run(a.Operation.SwitchBranch,(async()=>{await this.repository.switchBranch(t,e),this.updateRemoteChangedFiles()}))}async merge(t,e=!1,r="postpone"){await this.run(a.Operation.Merge,(async()=>{await this.repository.merge(t,e,r),this.updateRemoteChangedFiles()}))}async updateRevision(t=!1){return this.run(a.Operation.Update,(async()=>{const e=await this.repository.update(t);return this.updateRemoteChangedFiles(),e}))}async pullIncomingChange(t){return this.run(a.Operation.Update,(async()=>{const e=await this.repository.pullIncomingChange(t);return this.updateRemoteChangedFiles(),e}))}async resolve(t,e){return this.run(a.Operation.Resolve,(()=>this.repository.resolve(t,e)))}async commitFiles(t,e){return this.run(a.Operation.Commit,(()=>this.repository.commitFiles(t,e)))}async revert(t,e){return this.run(a.Operation.Revert,(()=>this.repository.revert(t,e)))}async info(t){return this.run(a.Operation.Info,(()=>this.repository.getInfo(t)))}async patch(t){return this.run(a.Operation.Patch,(()=>this.repository.patch(t)))}async patchBuffer(t){return this.run(a.Operation.Patch,(()=>this.repository.patchBuffer(t)))}async patchChangelist(t){return this.run(a.Operation.Patch,(()=>this.repository.patchChangelist(t)))}async removeFiles(t,e){return this.run(a.Operation.Remove,(()=>this.repository.removeFiles(t,e)))}async plainLog(){return this.run(a.Operation.Log,(()=>this.repository.plainLog()))}async plainLogBuffer(){return this.run(a.Operation.Log,(()=>this.repository.plainLogBuffer()))}async plainLogByRevision(t){return this.run(a.Operation.Log,(()=>this.repository.plainLogByRevision(t)))}async plainLogByRevisionBuffer(t){return this.run(a.Operation.Log,(()=>this.repository.plainLogByRevisionBuffer(t)))}async plainLogByText(t){return this.run(a.Operation.Log,(()=>this.repository.plainLogByText(t)))}async plainLogByTextBuffer(t){return this.run(a.Operation.Log,(()=>this.repository.plainLogByTextBuffer(t)))}async log(t,e,r,n){return this.run(a.Operation.Log,(()=>this.repository.log(t,e,r,n)))}async logByUser(t){return this.run(a.Operation.Log,(()=>this.repository.logByUser(t)))}async cleanup(){return this.run(a.Operation.CleanUp,(()=>this.repository.cleanup()))}async removeUnversioned(){return this.run(a.Operation.CleanUp,(()=>this.repository.removeUnversioned()))}async getInfo(t,e){return this.run(a.Operation.Info,(()=>this.repository.getInfo(t,e,!0)))}async getChanges(){return this.run(a.Operation.Changes,(()=>this.repository.getChanges()))}async finishCheckout(){return this.run(a.Operation.SwitchBranch,(()=>this.repository.finishCheckout()))}async addToIgnore(t,e,r=!1){return this.run(a.Operation.Ignore,(()=>this.repository.addToIgnore(t,e,r)))}async rename(t,e){return this.run(a.Operation.Rename,(()=>this.repository.rename(t,e)))}async list(t){return this.run(a.Operation.List,(()=>this.repository.ls(t)))}getPathNormalizer(){return new p.PathNormalizer(this.repository.info)}getCredentialServiceName(){let t="vscode.svn-scm";const e=this.repository.info;return e.repository&&e.repository.root?t+=":"+e.repository.root:e.url&&(t+=":"+e.url),t}async loadStoredAuths(){this.lastPromptAuth&&await this.lastPromptAuth;try{return E.keytar.findCredentials(this.getCredentialServiceName())}catch(t){return[]}}async saveAuth(){if(this.canSaveAuth&&this.username&&this.password){try{await E.keytar.setPassword(this.getCredentialServiceName(),this.username,this.password)}catch(t){console.log(t)}this.canSaveAuth=!1}}async promptAuth(){if(this.lastPromptAuth)return this.lastPromptAuth;this.lastPromptAuth=i.commands.executeCommand("svn.promptAuth");const t=await this.lastPromptAuth;return t&&(this.username=t.username,this.password=t.password,this.canSaveAuth=!0),this.lastPromptAuth=void 0,t}onDidSaveTextDocument(t){const e=t.uri.toString(),r=this.conflicts.resourceStates.find((t=>t.resourceUri.toString()===e));if(!r)return;const n=t.getText();/^<{7}[^]+^={7}[^]+^>{7}/m.test(n)||i.commands.executeCommand("svn.resolved",r.resourceUri)}async run(t,e=(()=>Promise.resolve(null))){if(this.state!==a.RepositoryState.Idle)throw new Error("Repository not initialized");const r=async()=>{this._operations.start(t),this._onRunOperation.fire(t);try{const r=await this.retryRun(e),n=t===a.Operation.StatusRemote;return y.isReadOnly(t)||await this.updateModelState(n),r}catch(t){throw t.svnErrorCode===m.svnErrorCodes.NotASvnRepository&&(this.state=a.RepositoryState.Disposed),await u.exists(this.workspaceRoot)||await i.commands.executeCommand("svn.close",this),t}finally{this._operations.end(t),this._onDidRunOperation.fire(t)}};return function(t){switch(t){case a.Operation.CurrentBranch:case a.Operation.Show:case a.Operation.Info:return!1;default:return!0}}(t)?i.window.withProgress({location:i.ProgressLocation.SourceControl},r):r()}async retryRun(t=(()=>Promise.resolve(null))){let e=0,r=[];for(;;)try{e++;const r=await t();return this.saveAuth(),r}catch(t){if(t.svnErrorCode===m.svnErrorCodes.RepositoryIsLocked&&e<=10)await y.timeout(50*Math.pow(e,2));else if(t.svnErrorCode===m.svnErrorCodes.AuthorizationFailed&&e<=1+r.length){1===e&&(r=await this.loadStoredAuths());const t=r.length-1;void 0!==r[t]&&(this.username=r[t].account,this.password=r[t].password)}else{if(!(t.svnErrorCode===m.svnErrorCodes.AuthorizationFailed&&e<=3+r.length))throw t;if(!await this.promptAuth())throw t}}}dispose(){this.disposables=y.dispose(this.disposables)}}n([c.memoize],b.prototype,"onDidChangeOperations",null),n([c.debounce(1e3)],b.prototype,"onDidAnyFileChanged",null),n([c.debounce(1e3)],b.prototype,"actionForDeletedFiles",null),n([c.debounce(1e3)],b.prototype,"updateRemoteChangedFiles",null),n([c.debounce(1e3)],b.prototype,"eventuallyUpdateWhenIdleAndWait",null),n([c.throttle],b.prototype,"updateWhenIdleAndWait",null),n([c.throttle,c.globalSequentialize("updateModelState")],b.prototype,"updateModelState",null),n([c.throttle],b.prototype,"status",null),e.Repository=b},871:function(t,e,r){"use strict";var n=this&&this.__decorate||function(t,e,r,n){var o,s=arguments.length,i=s<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(i=(s<3?o(i):s>3?o(e,r,i):o(e,r))||i);return s>3&&i&&Object.defineProperty(e,r,i),i};Object.defineProperty(e,"__esModule",{value:!0}),e.Resource=void 0;const o=r(5622),s=r(7549),i=r(6419),a=r(5455),c=r(5265),u=o.join(__dirname,"..","icons");function h(t,e){return s.Uri.file(o.join(u,e,`${t}.svg`))}class l{constructor(t,e,r,n,o=!1){this._resourceUri=t,this._type=e,this._renameResourceUri=r,this._props=n,this._remote=o}get resourceUri(){return this._resourceUri}get type(){return this._type}get renameResourceUri(){return this._renameResourceUri}get props(){return this._props}get remote(){return this._remote}get decorations(){const t={iconPath:this.getIconPath("light")},e={iconPath:this.getIconPath("dark")},r=this.tooltip;return{strikeThrough:this.strikeThrough,faded:this.faded,tooltip:r,light:t,dark:e}}get command(){const t=c.configuration.get("diff.withHead",!0),e=c.configuration.get("sourceControl.changesLeftClick","open diff");return this.remote||"open"!==e?this.remote||t?{command:"svn.openResourceHead",title:"Open Diff With Head",arguments:[this]}:{command:"svn.openResourceBase",title:"Open Diff With Base",arguments:[this]}:{command:"svn.openFile",title:"Open file",arguments:[this]}}getIconPath(t){if(this.type===i.Status.ADDED&&this.renameResourceUri)return l.icons[t].Renamed;const e=this.type.charAt(0).toUpperCase()+this.type.slice(1);return void 0!==l.icons[t][e]?l.icons[t][e]:void 0}get tooltip(){return this.type===i.Status.ADDED&&this.renameResourceUri?"Renamed from "+this.renameResourceUri.fsPath:this.type===i.Status.NORMAL&&this.props&&this.props!==i.PropStatus.NONE?"Property "+this.props.charAt(0).toUpperCase()+this.props.slice(1):this.type.charAt(0).toUpperCase()+this.type.slice(1)}get strikeThrough(){return this.type===i.Status.DELETED}get faded(){return!1}get letter(){switch(this.type){case i.Status.ADDED:return this.renameResourceUri?"R":"A";case i.Status.CONFLICTED:return"C";case i.Status.DELETED:return"D";case i.Status.EXTERNAL:return"E";case i.Status.IGNORED:return"I";case i.Status.MODIFIED:return"M";case i.Status.REPLACED:return"R";case i.Status.UNVERSIONED:return"U";case i.Status.MISSING:return"!";default:return}}get color(){switch(this.type){case i.Status.MODIFIED:case i.Status.REPLACED:return new s.ThemeColor("gitDecoration.modifiedResourceForeground");case i.Status.DELETED:case i.Status.MISSING:return new s.ThemeColor("gitDecoration.deletedResourceForeground");case i.Status.ADDED:case i.Status.UNVERSIONED:return new s.ThemeColor("gitDecoration.untrackedResourceForeground");case i.Status.EXTERNAL:case i.Status.IGNORED:return new s.ThemeColor("gitDecoration.ignoredResourceForeground");case i.Status.CONFLICTED:return new s.ThemeColor("gitDecoration.conflictingResourceForeground");default:return}}get priority(){switch(this.type){case i.Status.MODIFIED:return 2;case i.Status.IGNORED:return 3;case i.Status.DELETED:case i.Status.ADDED:case i.Status.REPLACED:case i.Status.MISSING:return 4;default:return 1}}}l.icons={light:{Added:h("status-added","light"),Conflicted:h("status-conflicted","light"),Deleted:h("status-deleted","light"),Ignored:h("status-ignored","light"),Missing:h("status-missing","light"),Modified:h("status-modified","light"),Renamed:h("status-renamed","light"),Replaced:h("status-replaced","light"),Unversioned:h("status-unversioned","light")},dark:{Added:h("status-added","dark"),Conflicted:h("status-conflicted","dark"),Deleted:h("status-deleted","dark"),Ignored:h("status-ignored","dark"),Missing:h("status-missing","dark"),Modified:h("status-modified","dark"),Renamed:h("status-renamed","dark"),Replaced:h("status-replaced","dark"),Unversioned:h("status-unversioned","dark")}},n([a.memoize],l.prototype,"resourceUri",null),n([a.memoize],l.prototype,"type",null),n([a.memoize],l.prototype,"command",null),e.Resource=l},6770:function(t,e,r){"use strict";var n=this&&this.__decorate||function(t,e,r,n){var o,s=arguments.length,i=s<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(i=(s<3?o(i):s>3?o(e,r,i):o(e,r))||i);return s>3&&i&&Object.defineProperty(e,r,i),i};Object.defineProperty(e,"__esModule",{value:!0}),e.SourceControlManager=void 0;const o=r(5622),s=r(7549),i=r(6419),a=r(5455),c=r(939),u=r(5265),h=r(3141),l=r(4172),p=r(7494),d=r(6675),f=r(9882),m=r(634);class g{constructor(t,e){if(this._svn=t,this._onDidOpenRepository=new s.EventEmitter,this.onDidOpenRepository=this._onDidOpenRepository.event,this._onDidCloseRepository=new s.EventEmitter,this.onDidCloseRepository=this._onDidCloseRepository.event,this._onDidChangeRepository=new s.EventEmitter,this.onDidChangeRepository=this._onDidChangeRepository.event,this._onDidChangeStatusRepository=new s.EventEmitter,this.onDidChangeStatusRepository=this._onDidChangeStatusRepository.event,this.openRepositories=[],this.disposables=[],this.enabled=!1,this.possibleSvnRepositoryPaths=new Set,this.ignoreList=[],this.maxDepth=0,this._onDidChangeState=new s.EventEmitter,this.onDidchangeState=this._onDidChangeState.event,this._state="uninitialized",e!==i.ConstructorPolicy.Async)throw new Error("Unsopported policy");return this.enabled=!0===u.configuration.get("enabled"),this.configurationChangeDisposable=s.workspace.onDidChangeConfiguration(this.onDidChangeConfiguration,this),(async()=>(this.enabled&&await this.enable(),this))()}get state(){return this._state}setState(t){this._state=t,this._onDidChangeState.fire(t)}get isInitialized(){return"initialized"===this._state?Promise.resolve():f.eventToPromise(f.filterEvent(this.onDidchangeState,(t=>"initialized"===t)))}get repositories(){return this.openRepositories.map((t=>t.repository))}get svn(){return this._svn}openRepositoriesSorted(){return this.openRepositories.sort(((t,e)=>e.repository.workspaceRoot.length-t.repository.workspaceRoot.length))}onDidChangeConfiguration(){const t=!0===u.configuration.get("enabled");this.maxDepth=u.configuration.get("multipleFolders.depth",0),t!==this.enabled&&(this.enabled=t,t?this.enable():this.disable())}async enable(){u.configuration.get("multipleFolders.enabled",!1)&&(this.maxDepth=u.configuration.get("multipleFolders.depth",0),this.ignoreList=u.configuration.get("multipleFolders.ignore",[])),s.workspace.onDidChangeWorkspaceFolders(this.onDidChangeWorkspaceFolders,this,this.disposables);const t=s.workspace.createFileSystemWatcher("**");this.disposables.push(t);const e=f.anyEvent(t.onDidChange,t.onDidCreate,t.onDidDelete);f.filterEvent(e,(t=>"file"===t.scheme&&!this.getRepository(t)))(this.onPossibleSvnRepositoryChange,this,this.disposables),this.setState("initialized"),await this.scanWorkspaceFolders()}onPossibleSvnRepositoryChange(t){const e=t.fsPath.replace(/\.svn.*$/,"");this.eventuallyScanPossibleSvnRepository(e)}eventuallyScanPossibleSvnRepository(t){this.possibleSvnRepositoryPaths.add(t),this.eventuallyScanPossibleSvnRepositories()}eventuallyScanPossibleSvnRepositories(){for(const t of this.possibleSvnRepositoryPaths)this.tryOpenRepository(t,1);this.possibleSvnRepositoryPaths.clear()}scanExternals(t){!0===u.configuration.get("detectExternals")&&t.statusExternal.map((e=>o.join(t.workspaceRoot,e.path))).forEach((t=>this.eventuallyScanPossibleSvnRepository(t)))}scanIgnored(t){!0===u.configuration.get("detectIgnored")&&t.statusIgnored.map((e=>o.join(t.workspaceRoot,e.path))).forEach((t=>this.eventuallyScanPossibleSvnRepository(t)))}disable(){this.repositories.forEach((t=>t.dispose())),this.openRepositories=[],this.possibleSvnRepositoryPaths.clear(),this.disposables=f.dispose(this.disposables)}async onDidChangeWorkspaceFolders({added:t,removed:e}){const r=t.filter((t=>!this.getOpenRepository(t.uri))),n=e.map((t=>this.getOpenRepository(t.uri.fsPath))).filter((t=>!!t)).filter((t=>!(s.workspace.workspaceFolders||[]).some((e=>t.repository.workspaceRoot.startsWith(e.uri.fsPath)))));r.forEach((t=>this.tryOpenRepository(t.uri.fsPath))),n.forEach((t=>t.repository.dispose()))}async scanWorkspaceFolders(){for(const t of s.workspace.workspaceFolders||[]){const e=t.uri.fsPath;await this.tryOpenRepository(e)}}async tryOpenRepository(t,e=0){if(this.getRepository(t))return;const r=0===e;if(await f.isSvnFolder(t,r)){const e=s.workspace.getConfiguration("svn",s.Uri.file(t));if(new Set((e.get("ignoreRepositories")||[]).map((t=>f.normalizePath(t)))).has(f.normalizePath(t)))return;try{const e=await this.svn.getRepositoryRoot(t),r=new l.Repository(await this.svn.open(e,t));this.open(r)}catch(e){if(e instanceof d.default&&e.svnErrorCode===p.svnErrorCodes.WorkingCopyIsTooOld)return void await s.commands.executeCommand("svn.upgrade",t);console.error(e)}return}const n=e+1;if(n<=this.maxDepth){let e=[];try{e=await c.readdir(t)}catch(t){return}for(const r of e){const e=t+"/"+r;let o;try{o=await c.stat(e)}catch(t){continue}o.isDirectory()&&!m.matchAll(e,this.ignoreList,{dot:!0})&&await this.tryOpenRepository(e,n)}}}async getRemoteRepository(t){return h.RemoteRepository.open(this.svn,t)}getRepository(t){const e=this.getOpenRepository(t);return e&&e.repository?e.repository:null}getOpenRepository(t){if(t){if(t instanceof l.Repository)return this.openRepositories.find((e=>e.repository===t));if(t.repository instanceof l.Repository)return this.openRepositories.find((e=>e.repository===t.repository));if("string"==typeof t&&(t=s.Uri.file(t)),t instanceof s.Uri)return this.openRepositoriesSorted().find((e=>{if(!f.isDescendant(e.repository.workspaceRoot,t.fsPath))return!1;for(const r of e.repository.statusExternal){const n=o.join(e.repository.workspaceRoot,r.path);if(f.isDescendant(n,t.fsPath))return!1}for(const r of e.repository.statusIgnored){const n=o.join(e.repository.workspaceRoot,r.path);if(f.isDescendant(n,t.fsPath))return!1}return!0}));for(const e of this.openRepositories){const r=e.repository;if(t===r.sourceControl)return e;if(t===r.changes)return e}}}async getRepositoryFromUri(t){for(const e of this.openRepositoriesSorted()){const r=e.repository;if(f.isDescendant(r.workspaceRoot,t.fsPath))try{const e=f.normalizePath(t.fsPath);return await r.info(e),r}catch(t){}}return null}open(t){const e=f.filterEvent(t.onDidChangeState,(t=>t===i.RepositoryState.Disposed))((()=>s())),r=t.onDidChangeRepository((e=>this._onDidChangeRepository.fire({repository:t,uri:e}))),n=t.onDidChangeStatus((()=>{this._onDidChangeStatusRepository.fire(t)})),o=t.onDidChangeStatus((()=>{this.scanExternals(t),this.scanIgnored(t)}));this.scanExternals(t),this.scanIgnored(t);const s=()=>{e.dispose(),r.dispose(),n.dispose(),o.dispose(),t.dispose(),this.openRepositories=this.openRepositories.filter((t=>t!==a)),this._onDidCloseRepository.fire(t)},a={repository:t,dispose:s};this.openRepositories.push(a),this._onDidOpenRepository.fire(t)}close(t){const e=this.getOpenRepository(t);e&&e.dispose()}async pickRepository(){if(0===this.openRepositories.length)throw new Error("There are no available repositories");const t=this.repositories.map((t=>({label:o.basename(t.root),repository:t}))),e=await s.window.showQuickPick(t,{placeHolder:"Choose a repository"});return e&&e.repository}async upgradeWorkingCopy(t){try{return 0===(await this.svn.exec(t,["upgrade"])).exitCode}catch(t){console.log(t)}return!1}dispose(){this.disable(),this.configurationChangeDisposable.dispose()}}n([a.debounce(500)],g.prototype,"eventuallyScanPossibleSvnRepositories",null),e.SourceControlManager=g},3844:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CheckoutStatusBar=void 0;const n=r(7549),o=r(6419);e.CheckoutStatusBar=class{constructor(t){this.repository=t,this._onDidChange=new n.EventEmitter,this.disposables=[],t.onDidChangeStatus(this._onDidChange.fire,this._onDidChange,this.disposables),t.onDidChangeOperations(this._onDidChange.fire,this._onDidChange,this.disposables)}get onDidChange(){return this._onDidChange.event}get command(){if(!this.repository.currentBranch)return;const t=this.repository.operations.isRunning(o.Operation.SwitchBranch)||this.repository.operations.isRunning(o.Operation.NewBranch);return{command:"svn.switchBranch",tooltip:"Switch Branch...",title:`$(git-branch) ${this.repository.currentBranch}${t?" (Switching)":""}`,arguments:[this.repository.sourceControl]}}dispose(){this.disposables.forEach((t=>t.dispose()))}}},7312:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StatusBarCommands=void 0;const n=r(9882),o=r(3844),s=r(4685);e.StatusBarCommands=class{constructor(t){this.disposables=[],this.checkoutStatusBar=new o.CheckoutStatusBar(t),this.syncStatusBar=new s.SyncStatusBar(t),this.disposables.push(this.checkoutStatusBar,this.syncStatusBar)}get onDidChange(){return n.anyEvent(this.syncStatusBar.onDidChange,this.checkoutStatusBar.onDidChange)}get commands(){const t=[],e=this.checkoutStatusBar.command;e&&t.push(e);const r=this.syncStatusBar.command;return r&&t.push(r),t}dispose(){this.disposables.forEach((t=>t.dispose()))}}},4685:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SyncStatusBar=void 0;const n=r(7549),o=r(6419);class s{constructor(t){this.repository=t,this._onDidChange=new n.EventEmitter,this.disposables=[],this._state=s.startState,t.onDidChangeStatus(this.onModelChange,this,this.disposables),t.onDidChangeOperations(this.onOperationsChange,this,this.disposables),this._onDidChange.fire()}get onDidChange(){return this._onDidChange.event}get state(){return this._state}set state(t){this._state=t,this._onDidChange.fire()}onOperationsChange(){const t=this.repository.operations.isRunning(o.Operation.SwitchBranch)||this.repository.operations.isRunning(o.Operation.NewBranch)||this.repository.operations.isRunning(o.Operation.Update)||this.repository.operations.isRunning(o.Operation.Merge),e=this.repository.operations.isRunning(o.Operation.StatusRemote),r=!this.repository.operations.isIdle();this.state={...this.state,isStatusRemoteRunning:e,isOperationRunning:r,isSyncRunning:t}}onModelChange(){this.state={...this.state,remoteChangedFiles:this.repository.remoteChangedFiles}}get command(){let t="$(sync)",e="",r="",n="";return this.state.isSyncRunning?(r="",t="$(sync~spin)",e="",n="Updating Revision..."):this.state.isStatusRemoteRunning?(r="",t="$(sync~spin)",e="",n="Checking remote updates..."):this.state.isOperationRunning?(r="",t="$(sync~spin)",e="Running",n="Running..."):this.state.needCleanUp?(r="svn.cleanup",t="$(alert)",e="Need cleanup",n="Run cleanup command"):this.state.isIncomplete?(r="svn.finishCheckout",t="$(issue-reopened)",e="Incomplete (Need finish checkout)",n="Run update to complete"):this.state.remoteChangedFiles>0?(t="$(cloud-download)",r="svn.update",n="Update Revision",e=`${this.state.remoteChangedFiles}↓`):(r="svn.update",n="Update Revision"),{command:r,title:[t,e].join(" ").trim(),tooltip:n,arguments:[this.repository]}}dispose(){this.disposables.forEach((t=>t.dispose()))}}e.SyncStatusBar=s,s.startState={isIncomplete:!1,isOperationRunning:!1,isStatusRemoteRunning:!1,isSyncRunning:!1,needCleanUp:!1,remoteChangedFiles:0}},7494:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Svn=e.cpErrorHandler=e.svnErrorCodes=void 0;const n=r(3129),o=r(8614),s=r(1765),i=r(6419),a=r(1558),c=r(5265),u=r(1743),h=r(6675),l=r(376),p=r(9882),d=r(7899);function f(t){for(const r in e.svnErrorCodes)if(e.svnErrorCodes.hasOwnProperty(r)){const n=e.svnErrorCodes[r];if(new RegExp(`svn: ${n}`).test(t))return n}if(/No more credentials or we tried too many times/.test(t))return e.svnErrorCodes.AuthorizationFailed}e.svnErrorCodes={AuthorizationFailed:"E170001",RepositoryIsLocked:"E155004",NotASvnRepository:"E155007",NotShareCommonAncestry:"E195012",WorkingCopyIsTooOld:"E155036"},e.cpErrorHandler=function(t){return e=>{/ENOENT/.test(e.message)&&(e=new h.default({error:e,message:"Failed to execute svn (ENOENT)",svnErrorCode:"NotASvnRepository"})),t(e)}},e.Svn=class{constructor(t){this.lastCwd="",this._onOutput=new o.EventEmitter,this.svnPath=t.svnPath,this.version=t.version}get onOutput(){return this._onOutput}logOutput(t){this._onOutput.emit("log",t)}async exec(t,e,r={}){if(t&&(this.lastCwd=t,r.cwd=t),!1!==r.log){const t=e.map((t=>/ |^$/.test(t)?`'${t}'`:t));this.logOutput(`[${this.lastCwd.split(/[\\\/]+/).pop()}]$ svn ${t.join(" ")}\n`)}r.username&&e.push("--username",r.username),r.password&&e.push("--password",r.password),(r.username||r.password)&&(e.push("--config-option","config:auth:password-stores="),e.push("--config-option","servers:global:store-auth-creds=no")),e.push("--non-interactive");let o=r.encoding;delete r.encoding,e.includes("--xml")&&(o="utf8");const i={env:s.env};t&&(i.cwd=t),i.env=Object.assign({},s.env,r.env||{},{LC_ALL:"en_US.UTF-8",LANG:"en_US.UTF-8"});const u=n.spawn(this.svnPath,e,i),l=[],m=(t,e,r)=>{t.once(e,r),l.push(p.toDisposable((()=>t.removeListener(e,r))))},g=(t,e,r)=>{t.on(e,r),l.push(p.toDisposable((()=>t.removeListener(e,r))))},[y,v,w]=await Promise.all([new Promise(((t,e)=>{m(u,"error",e),m(u,"exit",t)})),new Promise((t=>{const e=[];g(u.stdout,"data",(t=>e.push(t))),m(u.stdout,"close",(()=>t(Buffer.concat(e))))})),new Promise((t=>{const e=[];g(u.stderr,"data",(t=>e.push(t))),m(u.stderr,"close",(()=>t(Buffer.concat(e).toString())))}))]);p.dispose(l),o||(o=a.detectEncoding(v)),o||(o=c.configuration.get("default.encoding")),d.iconv.encodingExists(o)||(o&&console.warn(`SVN: The encoding "${o}" is invalid`),o="utf8");const E=d.iconv.decode(v,o);if(!1!==r.log&&w.length>0){const t=this.lastCwd.split(/[\\\/]+/).pop(),e=w.split("\n").filter((t=>t)).map((e=>`[${t}]$ ${e}`)).join("\n");this.logOutput(e)}return y?Promise.reject(new h.default({message:"Failed to execute svn",stdout:E,stderr:w,stderrFormated:w.replace(/^svn: E\d+: +/gm,""),exitCode:y,svnErrorCode:f(w),svnCommand:e[0]})):{exitCode:y,stdout:E,stderr:w}}async execBuffer(t,e,r={}){if(t&&(this.lastCwd=t,r.cwd=t),!1!==r.log){const t=e.map((t=>/ |^$/.test(t)?`'${t}'`:t));this.logOutput(`[${this.lastCwd.split(/[\\\/]+/).pop()}]$ svn ${t.join(" ")}\n`)}r.username&&e.push("--username",r.username),r.password&&e.push("--password",r.password),(r.username||r.password)&&(e.push("--config-option","config:auth:password-stores="),e.push("--config-option","servers:global:store-auth-creds=no")),e.push("--non-interactive");const o={env:s.env};t&&(o.cwd=t),o.env=Object.assign({},s.env,r.env||{},{LC_ALL:"en_US.UTF-8",LANG:"en_US.UTF-8"});const i=n.spawn(this.svnPath,e,o),a=[],c=(t,e,r)=>{t.once(e,r),a.push(p.toDisposable((()=>t.removeListener(e,r))))},u=(t,e,r)=>{t.on(e,r),a.push(p.toDisposable((()=>t.removeListener(e,r))))},[h,l,d]=await Promise.all([new Promise(((t,e)=>{c(i,"error",e),c(i,"exit",t)})),new Promise((t=>{const e=[];u(i.stdout,"data",(t=>e.push(t))),c(i.stdout,"close",(()=>t(Buffer.concat(e))))})),new Promise((t=>{const e=[];u(i.stderr,"data",(t=>e.push(t))),c(i.stderr,"close",(()=>t(Buffer.concat(e).toString())))}))]);if(p.dispose(a),!1!==r.log&&d.length>0){const t=this.lastCwd.split(/[\\\/]+/).pop(),e=d.split("\n").filter((t=>t)).map((e=>`[${t}]$ ${e}`)).join("\n");this.logOutput(e)}return{exitCode:h,stdout:l,stderr:d}}async getRepositoryRoot(t){try{const e=await this.exec(t,["info","--xml"]),r=await u.parseInfoXml(e.stdout);return r&&r.wcInfo&&r.wcInfo.wcrootAbspath?r.wcInfo.wcrootAbspath:t}catch(t){if(t instanceof h.default)throw t;throw console.error(t),new Error("Unable to find repository root path")}}async open(t,e){return new l.Repository(this,t,e,i.ConstructorPolicy.Async)}}},6675:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=class{constructor(t){t.error?(this.error=t.error,this.message=t.error.message):this.error=void 0,this.message=t.message||"SVN error",this.stdout=t.stdout,this.stderr=t.stderr,this.stderrFormated=t.stderrFormated,this.exitCode=t.exitCode,this.svnErrorCode=t.svnErrorCode,this.svnCommand=t.svnCommand}toString(){let t=this.message+" "+JSON.stringify({exitCode:this.exitCode,svnErrorCode:this.svnErrorCode,svnCommand:this.svnCommand,stdout:this.stdout,stderr:this.stderr},null,2);return this.error&&(t+=this.error.stack),t}}},5705:function(t,e,r){"use strict";var n=this&&this.__decorate||function(t,e,r,n){var o,s=arguments.length,i=s<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(i=(s<3?o(i):s>3?o(e,r,i):o(e,r))||i);return s>3&&i&&Object.defineProperty(e,r,i),i};Object.defineProperty(e,"__esModule",{value:!0}),e.SvnFileSystemProvider=void 0;const o=r(7549),s=r(8327),i=r(6419),a=r(5455),c=r(9882);class u{constructor(t){this.sourceControlManager=t,this.disposables=[],this.cache=new Map,this._onDidChangeFile=new o.EventEmitter,this.onDidChangeFile=this._onDidChangeFile.event,this.changedRepositoryRoots=new Set,this.disposables.push(t.onDidChangeRepository(this.onDidChangeRepository,this),o.workspace.registerFileSystemProvider("svn",this,{isReadonly:!0,isCaseSensitive:!0})),setInterval((()=>this.cleanup()),3e5)}onDidChangeRepository({repository:t}){this.changedRepositoryRoots.add(t.root),this.eventuallyFireChangeEvents()}eventuallyFireChangeEvents(){this.fireChangeEvents()}async fireChangeEvents(){if(!o.window.state.focused){const t=c.filterEvent(o.window.onDidChangeWindowState,(t=>t.focused));await c.eventToPromise(t)}const t=[];for(const{uri:e}of this.cache.values()){const r=e.fsPath;for(const n of this.changedRepositoryRoots)if(c.isDescendant(n,r)){t.push({type:o.FileChangeType.Changed,uri:e});break}}t.length>0&&this._onDidChangeFile.fire(t),this.changedRepositoryRoots.clear()}watch(){return c.EmptyDisposable}async stat(t){await this.sourceControlManager.isInitialized;const{fsPath:e}=s.fromSvnUri(t),r=this.sourceControlManager.getRepository(e);if(!r)throw o.FileSystemError.FileNotFound;let n=0,i=(new Date).getTime();try{const t=await r.list(e);t.length&&(n=Number(t[0].size),i=Date.parse(t[0].commit.date))}catch{}return{type:o.FileType.File,size:n,mtime:i,ctime:0}}readDirectory(){throw new Error("readDirectory is not implemented")}createDirectory(){throw new Error("createDirectory is not implemented")}async readFile(t){await this.sourceControlManager.isInitialized;const{fsPath:e,extra:r,action:n}=s.fromSvnUri(t),a=this.sourceControlManager.getRepository(e);if(!a)throw o.FileSystemError.FileNotFound();const c=t.toString(),u={uri:t,timestamp:(new Date).getTime()};this.cache.set(c,u);try{if(n===i.SvnUriAction.SHOW)return await a.showBuffer(e,r.ref);if(n===i.SvnUriAction.LOG)return await a.plainLogBuffer();if(n===i.SvnUriAction.LOG_REVISION&&r.revision)return await a.plainLogByRevisionBuffer(r.revision);if(n===i.SvnUriAction.LOG_SEARCH&&r.search)return await a.plainLogByTextBuffer(r.search);if(n===i.SvnUriAction.PATCH)return console.log("here"),await a.patchBuffer([e])}catch{}return new Uint8Array(0)}writeFile(){throw new Error("writeFile is not implemented")}delete(){throw new Error("delete is not implemented")}rename(){throw new Error("rename is not implemented")}cleanup(){const t=(new Date).getTime(),e=new Map;for(const r of this.cache.values()){const{fsPath:n}=s.fromSvnUri(r.uri);(o.workspace.textDocuments.filter((t=>"file"===t.uri.scheme)).some((t=>c.pathEquals(t.uri.fsPath,n)))||t-r.timestamp<18e4)&&e.set(r.uri.toString(),r)}this.cache=e}dispose(){this.disposables.forEach((t=>t.dispose()))}}n([a.debounce(1100)],u.prototype,"eventuallyFireChangeEvents",null),n([a.throttle],u.prototype,"fireChangeEvents",null),e.SvnFileSystemProvider=u},4212:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SvnFinder=void 0;const n=r(3129),o=r(5622),s=r(1249),i=r(7494);e.SvnFinder=class{findSvn(t){return(t?this.findSpecificSvn(t):Promise.reject(null)).then(void 0,(()=>{switch(process.platform){case"darwin":return this.findSvnDarwin();case"win32":return this.findSvnWin32();default:return this.findSpecificSvn("svn")}})).then((t=>this.checkSvnVersion(t))).then(null,(()=>Promise.reject(new Error("Svn installation not found."))))}findSvnWin32(){return this.findSystemSvnWin32(process.env.ProgramW6432).then(void 0,(()=>this.findSystemSvnWin32(process.env["ProgramFiles(x86)"]))).then(void 0,(()=>this.findSystemSvnWin32(process.env.ProgramFiles))).then(void 0,(()=>this.findSpecificSvn("svn")))}findSystemSvnWin32(t){return t?this.findSpecificSvn(o.join(t,"TortoiseSVN","bin","svn.exe")):Promise.reject("Not found")}findSvnDarwin(){return new Promise(((t,e)=>{n.exec("which svn",((r,o)=>{if(r)return e("svn not found");const s=o.toString().replace(/^\s+|\s+$/g,"");function i(r){n.exec("svn --version --quiet",((n,o)=>n?e("svn not found"):t({path:r,version:o.trim()})))}if("/usr/bin/svn"!==s)return i(s);n.exec("xcode-select -p",(t=>{if(t&&2===t.code)return e("svn not found");i(s)}))}))}))}findSpecificSvn(t){return new Promise(((e,r)=>{const o=[],s=n.spawn(t,["--version","--quiet"]);s.stdout.on("data",(t=>o.push(t))),s.on("error",i.cpErrorHandler(r)),s.on("close",(n=>n?r(new Error("Not found")):e({path:t,version:Buffer.concat(o).toString("utf8").trim()})))}))}checkSvnVersion(t){return new Promise(((e,r)=>{const n=t.version.replace(/^(\d+\.\d+\.\d+).*/,"$1");s.valid(n)?s.gte(n,"1.6.0")?e(t):r(new Error("Required svn version must be >= 1.6")):r(new Error("Invalid svn version"))}))}}},3929:function(t,e,r){"use strict";var n=this&&this.__decorate||function(t,e,r,n){var o,s=arguments.length,i=s<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(i=(s<3?o(i):s>3?o(e,r,i):o(e,r))||i);return s>3&&i&&Object.defineProperty(e,r,i),i};Object.defineProperty(e,"__esModule",{value:!0}),e.SvnRI=e.pathOrRoot=void 0;const o=r(5622),s=r(7549),i=r(5455);function a(t){return t.path||"/"}e.pathOrRoot=a;class c{constructor(t,e,r,n,o){if(this.remoteRoot=t,this.branchRoot=e,this.checkoutRoot=r,this._path=n,this._revision=o,0===n.length||"/"===n.charAt(0))throw new Error("Invalid _path "+n)}get remoteFullPath(){return s.Uri.parse(this.remoteRoot.toString()+"/"+this._path)}get localFullPath(){if(void 0!==this.checkoutRoot)return s.Uri.file(o.posix.join(this.checkoutRoot.path,o.posix.relative(this.fromRepoToBranch,this._path)))}get relativeFromBranch(){return o.posix.relative(this.fromRepoToBranch,this._path)}get fromRepoToBranch(){return o.posix.relative(a(this.remoteRoot),a(this.branchRoot))}get revision(){return this._revision}toString(t){return this.remoteFullPath+(t&&this._revision||"")}}n([i.memoize],c.prototype,"remoteFullPath",null),n([i.memoize],c.prototype,"localFullPath",null),n([i.memoize],c.prototype,"relativeFromBranch",null),n([i.memoize],c.prototype,"fromRepoToBranch",null),n([i.memoize],c.prototype,"revision",null),n([i.memoize],c.prototype,"toString",null),e.SvnRI=c},376:function(t,e,r){"use strict";var n=this&&this.__decorate||function(t,e,r,n){var o,s=arguments.length,i=s<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(i=(s<3?o(i):s>3?o(e,r,i):o(e,r))||i);return s>3&&i&&Object.defineProperty(e,r,i),i};Object.defineProperty(e,"__esModule",{value:!0}),e.Repository=void 0;const o=r(5622),s=r(6276),i=r(7549),a=r(6419),c=r(5455),u=r(1558),h=r(939),l=r(9750),p=r(5265),d=r(1743),f=r(8860),m=r(3253),g=r(1200),y=r(9882),v=r(634),w=r(8070);class E{constructor(t,e,r,n){return this.svn=t,this.root=e,this.workspaceRoot=r,this._infoCache={},n===a.ConstructorPolicy.LateInit?(async()=>this)():(async()=>(await this.updateInfo(),this))()}async updateInfo(){const t=await this.exec(["info","--xml",y.fixPegRevision(this.workspaceRoot?this.workspaceRoot:this.root)]);this._info=await d.parseInfoXml(t.stdout)}async exec(t,e={}){return e.username=this.username,e.password=this.password,this.svn.exec(this.workspaceRoot,t,e)}async execBuffer(t,e={}){return e.username=this.username,e.password=this.password,this.svn.execBuffer(this.workspaceRoot,t,e)}removeAbsolutePath(t){return t=y.fixPathSeparator(t),""===(t=o.relative(this.workspaceRoot,t))&&(t="."),y.fixPegRevision(t)}async getStatus(t){const e=["stat","--xml"];(t=Object.assign({},{includeIgnored:!1,includeExternals:!0,checkRemoteChanges:!1},t)).includeIgnored&&e.push("--no-ignore"),t.includeExternals||e.push("--ignore-externals"),t.checkRemoteChanges&&e.push("--show-updates");const r=await this.exec(e),n=await g.parseStatusXml(r.stdout);for(const t of n)if(t.status===a.Status.EXTERNAL)try{const e=await this.getInfo(t.path);t.repositoryUuid=e.repository.uuid}catch(t){console.error(t)}return n}get info(){return y.unwrap(this._info)}resetInfoCache(t=""){delete this._infoCache[t]}async getInfo(t="",e,r=!1,n=!1){if(!r&&this._infoCache[t])return this._infoCache[t];const o=["info","--xml"];e&&o.push("-r",e),t&&(n||(t=y.fixPathSeparator(t)),o.push(t));const s=await this.exec(o);return this._infoCache[t]=await d.parseInfoXml(s.stdout),setTimeout((()=>{this.resetInfoCache(t)}),12e4),this._infoCache[t]}async getChanges(){let t=["log","-r1:HEAD","--stop-on-copy","--xml","--with-all-revprops","--verbose"],e=await this.exec(t);const r=await m.parseSvnLog(e.stdout);if(0===r.length||0===r[0].paths.length)return[];const n=r[0].paths[0];if(void 0===n.copyfromRev||void 0===n.copyfromPath||void 0===n._||0===n.copyfromRev.trim().length||0===n.copyfromPath.trim().length||0===n._.trim().length)return[];const o=n.copyfromPath,s=n.copyfromRev,a=n._,c=this.info.repository.root+o,u=this.info.repository.root+a;t=["mergeinfo","--show-revs=merged",c,u],e=await this.exec(t);const h=e.stdout.trim().split("\n");let l="";h.length&&(l=h[h.length-1]),0===l.trim().length&&(l=s);const p=await this.getInfo(u,void 0,!0,!0);let d;t=["diff",`${c}@${l}`,u,"--ignore-properties","--xml","--summarize"],e=await this.exec(t);try{d=await w.parseDiffXml(e.stdout)}catch(t){return[]}const f=[];for(const t of d)f.push({oldPath:i.Uri.parse(t._),newPath:i.Uri.parse(t._.replace(c,u)),oldRevision:l.replace("r",""),newRevision:p.revision,item:t.item,props:t.props,kind:t.kind,repo:i.Uri.parse(this.info.repository.root),localPath:i.Uri.parse(t._.replace(c,""))});return f}async show(t,e){const r=["cat"];let n,o;t instanceof i.Uri?(n=t,o=t.toString(!0)):(n=i.Uri.file(t),o=t);const s="file"===n.scheme&&y.isDescendant(this.workspaceRoot,n.fsPath);let a=o;s&&(a=this.removeAbsolutePath(a)),e&&(r.push("-r",e),s&&!["BASE","COMMITTED","PREV"].includes(e.toUpperCase()))&&(a=(await this.getInfo()).url+"/"+a.replace(/\\/g,"/")),r.push(a);const c=i.workspace.getConfiguration("files",n);let h=c.get("encoding"),l=c.get("autoGuessEncoding",!1);const d=i.workspace.textDocuments.find((t=>y.normalizePath(t.uri.fsPath)===y.normalizePath(o)));if(d){const t=i.workspace.getConfiguration(`[${d.languageId}]`,n);if(void 0!==t["files.encoding"]&&(h=t["files.encoding"]),void 0!==t["files.autoGuessEncoding"]&&(l=t["files.autoGuessEncoding"]),l){const t=Buffer.from(d.getText(),"utf-8"),e=u.detectEncoding(t);e&&(h=e)}}else{const t=p.configuration.get("default.encoding");t&&(h=t)}return p.configuration.get("experimental.detect_encoding",!1)&&(h=null),(await this.exec(r,{encoding:h})).stdout}async showBuffer(t,e){const r=["cat"];let n,o;t instanceof i.Uri?(n=t,o=t.toString(!0)):(n=i.Uri.file(t),o=t);const s="file"===n.scheme&&y.isDescendant(this.workspaceRoot,n.fsPath);let a=o;return s&&(a=this.removeAbsolutePath(a)),e&&(r.push("-r",e),s&&!["BASE","COMMITTED","PREV"].includes(e.toUpperCase()))&&(a=(await this.getInfo()).url+"/"+a.replace(/\\/g,"/")),r.push(a),(await this.execBuffer(r)).stdout}async commitFiles(t,e){e=e.map((t=>this.removeAbsolutePath(t)));const r=["commit",...e];let n;await h.exists(o.join(this.workspaceRoot,t))&&r.push("--force-log"),/\n|[^\x00-\x7F\x80-\xFF]/.test(t)?(s.setGracefulCleanup(),n=s.fileSync({prefix:"svn-commit-message-"}),await h.writeFile(n.name,t,"UTF-8"),r.push("-F",n.name),r.push("--encoding","UTF-8")):r.push("-m",t),r.push("--depth","empty");const i=await this.exec(r);n&&n.removeCallback();const a=i.stdout.match(/Committed revision (.*)\./i);if(a&&a[0]){const t=(i.stdout.match(/(Sending|Adding|Deleting)\s+/g)||[]).length;return`${t} ${1===t?"file":"files"} commited: revision ${a[1]}.`}return i.stdout}async addFilesByIgnore(t,e){const r=async t=>(await h.stat(t)).isDirectory()?(await Promise.all((await h.readdir(t)).map((n=>{const s=o.resolve(t+o.sep+n),i=this.removeAbsolutePath(s);return v.matchAll(o.sep+i,e,{dot:!0,matchBase:!0})?[]:r(s)})))).reduce(((t,e)=>t.concat(e)),[t]):[t];return t=(t=(await Promise.all(t.map((t=>r(t))))).flat()).map((t=>this.removeAbsolutePath(t))),this.exec(["add","--depth=empty",...t])}addFiles(t){const e=p.configuration.get("sourceControl.ignore");return e.length>0?this.addFilesByIgnore(t,e):(t=t.map((t=>this.removeAbsolutePath(t))),this.exec(["add",...t]))}addChangelist(t,e){return t=t.map((t=>this.removeAbsolutePath(t))),this.exec(["changelist",e,...t])}removeChangelist(t){return t=t.map((t=>this.removeAbsolutePath(t))),this.exec(["changelist","--remove",...t])}async getCurrentBranch(){const t=await this.getInfo(),e=l.getBranchName(t.url);return e?p.configuration.get("layout.showFullName")?e.path:e.name:""}async getRepositoryUuid(){return(await this.getInfo()).repository.uuid}async getRepoUrl(){const t=await this.getInfo(),e=l.getBranchName(t.url);if(!e)return t.repository.root;const r=new RegExp(e.path+"$");return t.url.replace(r,"").replace(/\/$/,"")}async getBranches(){const t=p.configuration.get("layout.trunk"),e=p.configuration.get("layout.branches"),r=p.configuration.get("layout.tags"),n=await this.getRepoUrl(),o=[],s=[];t&&s.push(new Promise((async e=>{try{await this.exec(["ls",n+"/"+t,"--depth","empty"]),e([t])}catch(t){e([])}})));const i=[];e&&i.push(e),r&&i.push(r);for(const t of i)s.push(new Promise((async e=>{const r=n+"/"+t;try{e((await this.exec(["ls",r])).stdout.trim().replace(/\/|\\/g,"").split(/[\r\n]+/).filter((t=>!!t)).map((e=>t+"/"+e)))}catch(t){e([])}})));return(await Promise.all(s)).forEach((t=>{o.push(...t)})),o}async newBranch(t,e="Created new branch"){const r=await this.getRepoUrl()+"/"+t,n=(await this.getInfo()).url;return await this.exec(["copy",n,r,"-m",e]),await this.switchBranch(t),!0}async switchBranch(t,e=!1){const r=await this.getRepoUrl()+"/"+t;return await this.exec(["switch",r].concat(e?["--ignore-ancestry"]:[])),this.resetInfoCache(),!0}async merge(t,e=!1,r="postpone"){const n=await this.getRepoUrl()+"/"+t;let o=["merge","--accept",r];return o=o.concat(e?["--reintegrate"]:[]),o=o.concat([n]),await this.exec(o),this.resetInfoCache(),!0}async revert(t,e){return t=t.map((t=>this.removeAbsolutePath(t))),(await this.exec(["revert","--depth",e,...t])).stdout}async update(t=!0){const e=["update"];t&&e.push("--ignore-externals");const r=await this.exec(e);this.resetInfoCache();return r.stdout.trim().split(/\r?\n/).pop()||r.stdout}async pullIncomingChange(t){const e=["update",t],r=await this.exec(e);this.resetInfoCache();return r.stdout.trim().split(/\r?\n/).pop()||r.stdout}async patch(t){return t=t.map((t=>this.removeAbsolutePath(t))),(await this.exec(["diff","--internal-diff",...t])).stdout}async patchBuffer(t){return t=t.map((t=>this.removeAbsolutePath(t))),(await this.execBuffer(["diff","--internal-diff",...t])).stdout}async patchChangelist(t){return(await this.exec(["diff","--internal-diff","--changelist",t])).stdout}async removeFiles(t,e){t=t.map((t=>this.removeAbsolutePath(t)));const r=["remove"];return e&&r.push("--keep-local"),r.push(...t),(await this.exec(r)).stdout}async resolve(t,e){return t=t.map((t=>this.removeAbsolutePath(t))),(await this.exec(["resolve","--accept",e,...t])).stdout}async plainLog(){const t=p.configuration.get("log.length")||"50";return(await this.exec(["log","-r","HEAD:1","--limit",t])).stdout}async plainLogBuffer(){const t=p.configuration.get("log.length")||"50";return(await this.execBuffer(["log","-r","HEAD:1","--limit",t])).stdout}async plainLogByRevision(t){return(await this.exec(["log","-r",t.toString()])).stdout}async plainLogByRevisionBuffer(t){return(await this.execBuffer(["log","-r",t.toString()])).stdout}async plainLogByText(t){return(await this.exec(["log","--search",t])).stdout}async plainLogByTextBuffer(t){return(await this.execBuffer(["log","--search",t])).stdout}async log(t,e,r,n){const o=["log","-r",`${t}:${e}`,`--limit=${r}`,"--xml","-v"];void 0!==n&&o.push(y.fixPegRevision(n instanceof i.Uri?n.toString(!0):n));const s=await this.exec(o);return m.parseSvnLog(s.stdout)}async logByUser(t){const e=await this.exec(["log","--xml","-v","--search",t]);return m.parseSvnLog(e.stdout)}async countNewCommit(t="BASE:HEAD"){const e=(await this.exec(["log","-r",t,"-q","--xml"])).stdout.match(/<logentry/g);return e&&e.length>0?e.length-1:0}async cleanup(){return(await this.exec(["cleanup"])).stdout}async removeUnversioned(){const t=await this.exec(["cleanup","--remove-unversioned"]);return this.svn.logOutput(t.stdout),t.stdout}async finishCheckout(){const t=await this.getInfo();return(await this.exec(["switch",t.url])).stdout}async list(t){let e=await this.getRepoUrl();t&&(e+="/"+t);const r=await this.exec(["list",e,"--xml"]);return f.parseSvnList(r.stdout)}async ls(t){const e=await this.exec(["list",t,"--xml"]);return f.parseSvnList(e.stdout)}async getCurrentIgnore(t){t=this.removeAbsolutePath(t);let e="";try{const r=["propget","svn:ignore"];t&&r.push(t),e=(await this.exec(r)).stdout.trim()}catch(t){console.error(t)}return e.split(/[\r\n]+/)}async addToIgnore(t,e,r=!1){const n=await this.getCurrentIgnore(e);e=this.removeAbsolutePath(e),n.push(...t);const o=["propset","svn:ignore",[...new Set(n)].filter((t=>!!t)).sort().join("\n")];return e?o.push(e):o.push("."),r&&o.push("--recursive"),(await this.exec(o)).stdout}async rename(t,e){const r=["rename",t=this.removeAbsolutePath(t),e=this.removeAbsolutePath(e)];return(await this.exec(r)).stdout}}n([c.sequentialize],E.prototype,"getInfo",null),e.Repository=E},3676:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.tempSvnFs=e.Directory=e.File=void 0;const n=r(7549),o=r(5622),s=r(6417),i=r(5265),a=r(7899);class c{constructor(t){this.type=n.FileType.File,this.ctime=Date.now(),this.mtime=Date.now(),this.size=0,this.name=t}}e.File=c;class u{constructor(t){this.type=n.FileType.Directory,this.ctime=Date.now(),this.mtime=Date.now(),this.size=0,this.name=t,this.entries=new Map}}e.Directory=u,e.tempSvnFs=new class{constructor(){this._emitter=new n.EventEmitter,this._bufferedEvents=[],this._root=new u(""),this._disposables=[],this.onDidChangeFile=this._emitter.event,this._disposables.push(n.workspace.registerFileSystemProvider("tempsvnfs",this,{isCaseSensitive:!0}),n.workspace.onDidCloseTextDocument((t=>{"tempsvnfs"===t.uri.scheme&&this.delete(t.uri)})))}watch(t){return new n.Disposable((()=>{}))}stat(t){return this._lookup(t,!1)}readDirectory(t){const e=this._lookupAsDirectory(t,!1),r=[];for(const[t,n]of e.entries)r.push([t,n.type]);return r}createDirectory(t){const e=o.posix.basename(t.path),r=t.with({path:o.posix.dirname(t.path)}),s=this._lookupAsDirectory(r,!1),i=new u(e);s.entries.set(i.name,i),s.mtime=Date.now(),s.size+=1,this._fireSoon({type:n.FileChangeType.Changed,uri:r},{type:n.FileChangeType.Created,uri:t})}readFile(t){const e=this._lookupAsFile(t,!1).data;if(e)return e;throw n.FileSystemError.FileNotFound()}writeFile(t,e,r){const s=o.posix.basename(t.path),i=this._lookupParentDirectory(t);let a=i.entries.get(s);if(a instanceof u)throw n.FileSystemError.FileIsADirectory(t);if(!a&&!r.create)throw n.FileSystemError.FileNotFound(t);if(a&&r.create&&!r.overwrite)throw n.FileSystemError.FileExists(t);a||(a=new c(s),i.entries.set(s,a),this._fireSoon({type:n.FileChangeType.Created,uri:t})),a.mtime=Date.now(),a.size=e.byteLength,a.data=e,this._fireSoon({type:n.FileChangeType.Changed,uri:t})}delete(t){const e=t.with({path:o.posix.dirname(t.path)}),r=o.posix.basename(t.path),s=this._lookupAsDirectory(e,!1);if(!s.entries.has(r))throw n.FileSystemError.FileNotFound(t);s.entries.delete(r),s.mtime=Date.now(),s.size-=1,this._fireSoon({type:n.FileChangeType.Changed,uri:e},{type:n.FileChangeType.Deleted,uri:t})}rename(t,e,r){if(!r.overwrite&&this._lookup(e,!0))throw n.FileSystemError.FileExists(e);const s=this._lookup(t,!1),i=this._lookupParentDirectory(t),a=this._lookupParentDirectory(e),c=o.posix.basename(e.path);i.entries.delete(s.name),s.name=c,a.entries.set(c,s),this._fireSoon({type:n.FileChangeType.Deleted,uri:t},{type:n.FileChangeType.Created,uri:e})}async createTempSvnRevisionFile(t,e,r){const c=`r${e}_${o.basename(t.fsPath)}`,u=s.createHash("md5").update(t.path).digest("hex"),h=i.configuration.get("default.encoding");let l;l=h?Buffer.from(a.iconv.encode(r,h)):Buffer.from(r),this._root.entries.has(u)||this.createDirectory(n.Uri.parse(`tempsvnfs:/${u}`));const p=n.Uri.parse(`tempsvnfs:/${u}/${c}`,!0);return this.writeFile(p,l,{create:!0,overwrite:!0}),p}dispose(){this._disposables.forEach((t=>t.dispose())),this._disposables=[];for(const[t]of this.readDirectory(n.Uri.parse("tempsvnfs:/")))this.delete(n.Uri.parse(`tempsvnfs:/${t}`))}_lookup(t,e){const r=t.path.split("/");let o=this._root;for(const s of r){if(!s)continue;let r;if(o instanceof u&&(r=o.entries.get(s)),!r){if(e)return;throw n.FileSystemError.FileNotFound(t)}o=r}return o}_lookupAsDirectory(t,e){const r=this._lookup(t,e);if(r instanceof u)return r;throw n.FileSystemError.FileNotADirectory(t)}_lookupAsFile(t,e){const r=this._lookup(t,e);if(r instanceof c)return r;throw n.FileSystemError.FileIsADirectory(t)}_lookupParentDirectory(t){const e=t.with({path:o.posix.dirname(t.path)});return this._lookupAsDirectory(e,!1)}_fireSoon(...t){this._bufferedEvents.push(...t),this._fireSoonHandler&&clearTimeout(this._fireSoonHandler),this._fireSoonHandler=setTimeout((()=>{this._emitter.fire(this._bufferedEvents),this._bufferedEvents.length=0}),1)}}},9216:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=r(7549),o=r(3793),s=r(9882);e.default=class{constructor(t){this.sourceControlManager=t,this._onDidChangeTreeData=new n.EventEmitter,this._dispose=[],this.onDidChangeTreeData=this._onDidChangeTreeData.event,this._dispose.push(n.window.registerTreeDataProvider("svn",this),n.commands.registerCommand("svn.treeview.refreshProvider",(()=>this.refresh())))}refresh(){this._onDidChangeTreeData.fire()}getTreeItem(t){return t.getTreeItem()}async getChildren(t){return this.sourceControlManager&&0!==this.sourceControlManager.openRepositories.length?t?t.getChildren():this.sourceControlManager.openRepositories.map((t=>new o.default(t.repository,this))):Promise.resolve([])}update(t){this._onDidChangeTreeData.fire(t)}dispose(){s.dispose(this._dispose)}}},4063:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=r(5622),o=r(7549),s=r(871),i=r(8327);e.default=class{constructor(t,e,r){this.uri=t,this.type=e,this.repository=r}get props(){}get label(){return n.relative(this.repository.workspaceRoot,this.uri.fsPath)}get contextValue(){return`incomingChange:${this.type}`}getTreeItem(){const t=new o.TreeItem(this.label,o.TreeItemCollapsibleState.None);return t.iconPath={dark:i.getIconUri(`status-${this.type}`,"dark"),light:i.getIconUri(`status-${this.type}`,"light")},t.contextValue=this.contextValue,t.command=this.getCommand(),t}getChildren(){return Promise.resolve([])}getCommand(){switch(this.type){case"modified":return{command:"svn.openChangeHead",title:"Open Changes with HEAD",arguments:[new s.Resource(this.uri,this.type,void 0,"none",!0)]};case"deleted":return{command:"svn.openFile",title:"Open File",arguments:[this.uri]};case"added":return{command:"svn.openHEADFile",title:"Open File (HEAD)",arguments:[new s.Resource(this.uri,this.type,void 0,"none",!0)]};default:return void console.error(`No command returned for type ${this.type}`)}}}},1687:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=r(7549),o=r(8327),s=r(4063),i=r(8921);e.default=class{constructor(t){this.repository=t}getTreeItem(){const t=new n.TreeItem("Incoming Changes",n.TreeItemCollapsibleState.Collapsed);return t.iconPath={dark:o.getIconUri("download","dark"),light:o.getIconUri("download","light")},t}async getChildren(){if(!this.repository.remoteChanges)return[];const t=this.repository.remoteChanges.resourceStates.map((t=>new s.default(t.resourceUri,t.type,this.repository)));return 0===t.length?[new i.default]:t}}},8921:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=r(7549);e.default=class{getTreeItem(){return new n.TreeItem("No Incoming Changes",n.TreeItemCollapsibleState.None)}async getChildren(){return[]}}},3793:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=r(5622),o=r(7549),s=r(8327),i=r(1687);e.default=class{constructor(t,e){this.repository=t,this.svnProvider=e,t.onDidChangeStatus((()=>{this.svnProvider.update(this)}))}get label(){return n.basename(this.repository.workspaceRoot)}getTreeItem(){const t=new o.TreeItem(this.label,o.TreeItemCollapsibleState.Collapsed);return t.iconPath={dark:s.getIconUri("repo","dark"),light:s.getIconUri("repo","light")},t}async getChildren(){return[new i.default(this.repository)]}}},8327:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getIconUri=e.toSvnUri=e.fromSvnUri=void 0;const n=r(5622),o=r(7549),s=r(9882);e.fromSvnUri=function(t){return JSON.parse(t.query)},e.toSvnUri=function(t,e,r={},n=!1){const o={action:e,fsPath:t.fsPath,extra:r};return t.with({scheme:"svn",path:n?t.path+s.getSvnDir():t.path,query:JSON.stringify(o)})},e.getIconUri=function(t,e){const r=n.join(__dirname,"..","icons");return o.Uri.file(n.join(r,e,`${t}.svg`))}},9882:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EmptyDisposable=e.pathEquals=e.setVscodeContext=e.isSvnFolder=e.getSvnDir=e.fixPegRevision=e.unwrap=e.deleteDirectory=e.isReadOnly=e.timeout=e.camelcase=e.isDescendant=e.normalizePath=e.fixPathSeparator=e.eventToPromise=e.onceEvent=e.filterEvent=e.anyEvent=e.combinedDisposable=e.toDisposable=e.dispose=e.done=void 0;const n=r(5622),o=r(7549),s=r(6419),i=r(939);function a(t){return t.forEach((t=>t.dispose())),[]}function c(t){return{dispose:t}}function u(t){return c((()=>a(t)))}function h(t){return(e,r=null,n)=>{const o=t((t=>(o.dispose(),e.call(r,t))),null,n);return o}}e.done=function(t){return t.then((()=>{}))},e.dispose=a,e.toDisposable=c,e.combinedDisposable=u,e.anyEvent=function(...t){return(e,r=null,n)=>{const o=u(t.map((t=>t((t=>e.call(r,t))))));return n&&n.push(o),o}},e.filterEvent=function(t,e){return(r,n=null,o)=>t((t=>e(t)&&r.call(n,t)),null,o)},e.onceEvent=h,e.eventToPromise=function(t){return new Promise((e=>h(t)(e)))};const l=new RegExp("/"===n.sep?"\\\\":"/","g"),p=new RegExp("^\\\\(\\w:)","g");function d(t){return t=(t=t.replace(l,n.sep)).replace(p,"$1"),"\\"===n.sep&&(t=t.charAt(0).toLowerCase()+t.slice(1)),t}function f(){return process.env.SVN_ASP_DOT_NET_HACK?"_svn":".svn"}e.fixPathSeparator=d,e.normalizePath=function(t){return t=d(t),"\\"===n.sep&&(t=t.toLowerCase()),t},e.isDescendant=function(t,e){return""!==t.trim()&&""!==e.trim()&&(t=t.replace(/[\\\/]/g,n.sep),e=e.replace(/[\\\/]/g,n.sep),"\\"===n.sep&&(t=t.replace(/^\\/,"").toLowerCase(),e=e.replace(/^\\/,"").toLowerCase()),t===e||(t.charAt(t.length-1)!==n.sep&&(t+=n.sep),e.startsWith(t)))},e.camelcase=function(t){return t.replace(/(?:^\w|[A-Z]|\b\w)/g,((t,e)=>0===e?t.toLowerCase():t.toUpperCase())).replace(/[\s\-]+/g,"")},e.timeout=function(t){return new Promise((e=>setTimeout(e,t)))},e.isReadOnly=function(t){switch(t){case s.Operation.CurrentBranch:case s.Operation.Log:case s.Operation.Show:case s.Operation.Info:case s.Operation.Changes:return!0;default:return!1}},e.deleteDirectory=async function t(e){await i.exists(e)&&(await i.lstat(e)).isDirectory()&&(await Promise.all((await i.readdir(e)).map((async r=>{const o=n.join(e,r);(await i.lstat(o)).isDirectory()?await t(o):await i.unlink(o)}))),await i.rmdir(e))},e.unwrap=function(t){if(void 0===t)throw new Error("undefined unwrap");return t},e.fixPegRevision=function(t){return/@/.test(t)&&(t+="@"),t},e.getSvnDir=f,e.isSvnFolder=async function t(e,r=!0){const o=f(),s=await i.exists(`${e}/${o}`);if(s||!r)return s;const a=n.dirname(e);return a!==e&&"."!==a&&t(a,!0)},e.setVscodeContext=function(t,e){o.commands.executeCommand("setContext",t,e)},e.pathEquals=function(t,e){return function(t){return/^[a-zA-Z]:\\/.test(t)}(t)&&(t=t.toLowerCase(),e=e.toLowerCase()),t===e},e.EmptyDisposable=c((()=>null))},634:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.match=e.matchAll=void 0;const n=r(1171);e.matchAll=function(t,e,r={}){let o=!1;return e.forEach((e=>{const s="!"===e[0];o===s&&(o=n(t,e,r))})),o},e.match=function(t){return new n.Minimatch(t)}},7899:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.jschardet=e.iconv=e.keytar=void 0;const n=r(7549);function o(t,e=!0){const r=require,o=[`${n.env.appRoot}/node_modules.asar/${t}`,`${n.env.appRoot}/node_modules/${t}`,t];for(const t of o)try{return r(t)}catch(t){}e&&n.window.showErrorMessage(`Missing dependency: ${t}`)}e.keytar=o("keytar",!1);let s=o("iconv-lite-umd",!1);s||(s=o("iconv-lite")),e.iconv=s,e.jschardet=o("jschardet")},2777:function(t,e,r){"use strict";var n=this&&this.__decorate||function(t,e,r,n){var o,s=arguments.length,i=s<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(i=(s<3?o(i):s>3?o(e,r,i):o(e,r))||i);return s>3&&i&&Object.defineProperty(e,r,i),i};Object.defineProperty(e,"__esModule",{value:!0}),e.RepositoryFilesWatcher=void 0;const o=r(7549),s=r(5747),i=r(939),a=r(5622),c=r(5455),u=r(9882);class h{constructor(t){this.root=t,this.disposables=[];const e=o.workspace.createFileSystemWatcher(new o.RelativePattern(u.fixPathSeparator(t),"**"));let r,n,i;this._onRepoChange=new o.EventEmitter,this._onRepoCreate=new o.EventEmitter,this._onRepoDelete=new o.EventEmitter,void 0===o.workspace.workspaceFolders||o.workspace.workspaceFolders.filter((e=>u.isDescendant(e.uri.fsPath,t))).length||(s.watch(a.join(t,u.getSvnDir()),this.repoWatch).on("error",(t=>{throw t})),r=this._onRepoChange.event,n=this._onRepoCreate.event,i=this._onRepoDelete.event),this.disposables.push(e);const c=t=>!(t=>/[\\\/](\.svn|_svn)[\\\/]tmp/.test(t.path))(t);this.onDidChange=u.filterEvent(e.onDidChange,c),this.onDidCreate=u.filterEvent(e.onDidCreate,c),this.onDidDelete=u.filterEvent(e.onDidDelete,c),this.onDidAny=u.anyEvent(this.onDidChange,this.onDidCreate,this.onDidDelete);const h=/[\\\/](\.svn|_svn)[\\\/]/,l=t=>!h.test(t.path);this.onDidWorkspaceChange=u.filterEvent(this.onDidChange,l),this.onDidWorkspaceCreate=u.filterEvent(this.onDidCreate,l),this.onDidWorkspaceDelete=u.filterEvent(this.onDidDelete,l),this.onDidWorkspaceAny=u.anyEvent(this.onDidWorkspaceChange,this.onDidWorkspaceCreate,this.onDidWorkspaceDelete);const p=t=>h.test(t.path);this.onDidSvnChange=u.filterEvent(this.onDidChange,p),this.onDidSvnCreate=u.filterEvent(this.onDidCreate,p),this.onDidSvnDelete=u.filterEvent(this.onDidDelete,p),r&&n&&i&&(this.onDidSvnChange=r,this.onDidSvnCreate=n,this.onDidSvnDelete=i),this.onDidSvnAny=u.anyEvent(this.onDidSvnChange,this.onDidSvnCreate,this.onDidSvnDelete)}repoWatch(t,e){"change"===t?this._onRepoChange.fire(o.Uri.parse(e)):"rename"===t&&i.exists(e).then((t=>{t?this._onRepoCreate.fire(o.Uri.parse(e)):this._onRepoDelete.fire(o.Uri.parse(e))}))}dispose(){this.disposables.forEach((t=>t.dispose()))}}n([c.debounce(1e3)],h.prototype,"repoWatch",null),e.RepositoryFilesWatcher=h},2479:t=>{t.exports=function t(e,r){if(e&&r)return t(e)(r);if("function"!=typeof e)throw new TypeError("need wrapper function");return Object.keys(e).forEach((function(t){n[t]=e[t]})),n;function n(){for(var t=new Array(arguments.length),r=0;r<t.length;r++)t[r]=arguments[r];var n=e.apply(this,t),o=t[t.length-1];return"function"==typeof n&&n!==o&&Object.keys(o).forEach((function(t){n[t]=o[t]})),n}}},306:function(t,e){(function(){"use strict";e.stripBOM=function(t){return"\ufeff"===t[0]?t.substring(1):t}}).call(this)},4096:function(t,e,r){(function(){"use strict";var t,n,o,s,i,a={}.hasOwnProperty;t=r(5532),n=r(8381).defaults,s=function(t){return"string"==typeof t&&(t.indexOf("&")>=0||t.indexOf(">")>=0||t.indexOf("<")>=0)},i=function(t){return"<![CDATA["+o(t)+"]]>"},o=function(t){return t.replace("]]>","]]]]><![CDATA[>")},e.Builder=function(){function e(t){var e,r,o;for(e in this.options={},r=n[.2])a.call(r,e)&&(o=r[e],this.options[e]=o);for(e in t)a.call(t,e)&&(o=t[e],this.options[e]=o)}return e.prototype.buildObject=function(e){var r,o,c,u,h,l;return r=this.options.attrkey,o=this.options.charkey,1===Object.keys(e).length&&this.options.rootName===n[.2].rootName?e=e[h=Object.keys(e)[0]]:h=this.options.rootName,l=this,c=function(t,e){var n,u,h,p,d,f;if("object"!=typeof e)l.options.cdata&&s(e)?t.raw(i(e)):t.txt(e);else if(Array.isArray(e)){for(p in e)if(a.call(e,p))for(d in u=e[p])h=u[d],t=c(t.ele(d),h).up()}else for(d in e)if(a.call(e,d))if(u=e[d],d===r){if("object"==typeof u)for(n in u)f=u[n],t=t.att(n,f)}else if(d===o)t=l.options.cdata&&s(u)?t.raw(i(u)):t.txt(u);else if(Array.isArray(u))for(p in u)a.call(u,p)&&(t="string"==typeof(h=u[p])?l.options.cdata&&s(h)?t.ele(d).raw(i(h)).up():t.ele(d,h).up():c(t.ele(d),h).up());else"object"==typeof u?t=c(t.ele(d),u).up():"string"==typeof u&&l.options.cdata&&s(u)?t=t.ele(d).raw(i(u)).up():(null==u&&(u=""),t=t.ele(d,u.toString()).up());return t},u=t.create(h,this.options.xmldec,this.options.doctype,{headless:this.options.headless,allowSurrogateChars:this.options.allowSurrogateChars}),c(u,e).end(this.options.renderOpts)},e}()}).call(this)},8381:function(t,e){(function(){e.defaults={.1:{explicitCharkey:!1,trim:!0,normalize:!0,normalizeTags:!1,attrkey:"@",charkey:"#",explicitArray:!1,ignoreAttrs:!1,mergeAttrs:!1,explicitRoot:!1,validator:null,xmlns:!1,explicitChildren:!1,childkey:"@@",charsAsChildren:!1,includeWhiteChars:!1,async:!1,strict:!0,attrNameProcessors:null,attrValueProcessors:null,tagNameProcessors:null,valueProcessors:null,emptyTag:""},.2:{explicitCharkey:!1,trim:!1,normalize:!1,normalizeTags:!1,attrkey:"$",charkey:"_",explicitArray:!0,ignoreAttrs:!1,mergeAttrs:!1,explicitRoot:!0,validator:null,xmlns:!1,explicitChildren:!1,preserveChildrenOrder:!1,childkey:"$$",charsAsChildren:!1,includeWhiteChars:!1,async:!1,strict:!0,attrNameProcessors:null,attrValueProcessors:null,tagNameProcessors:null,valueProcessors:null,rootName:"root",xmldec:{version:"1.0",encoding:"UTF-8",standalone:!0},doctype:null,renderOpts:{pretty:!0,indent:"  ",newline:"\n"},headless:!1,chunkSize:1e4,emptyTag:"",cdata:!1}}}).call(this)},9082:function(t,e,r){(function(){"use strict";var t,n,o,s,i,a,c,u,h=function(t,e){return function(){return t.apply(e,arguments)}},l={}.hasOwnProperty;c=r(6099),o=r(8614),t=r(306),a=r(7526),u=r(8213).setImmediate,n=r(8381).defaults,s=function(t){return"object"==typeof t&&null!=t&&0===Object.keys(t).length},i=function(t,e,r){var n,o;for(n=0,o=t.length;n<o;n++)e=(0,t[n])(e,r);return e},e.Parser=function(r){function o(t){var r,o,s;if(this.parseStringPromise=h(this.parseStringPromise,this),this.parseString=h(this.parseString,this),this.reset=h(this.reset,this),this.assignOrPush=h(this.assignOrPush,this),this.processAsync=h(this.processAsync,this),!(this instanceof e.Parser))return new e.Parser(t);for(r in this.options={},o=n[.2])l.call(o,r)&&(s=o[r],this.options[r]=s);for(r in t)l.call(t,r)&&(s=t[r],this.options[r]=s);this.options.xmlns&&(this.options.xmlnskey=this.options.attrkey+"ns"),this.options.normalizeTags&&(this.options.tagNameProcessors||(this.options.tagNameProcessors=[]),this.options.tagNameProcessors.unshift(a.normalize)),this.reset()}return function(t,e){for(var r in e)l.call(e,r)&&(t[r]=e[r]);function n(){this.constructor=t}n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype}(o,r),o.prototype.processAsync=function(){var t,e;try{return this.remaining.length<=this.options.chunkSize?(t=this.remaining,this.remaining="",this.saxParser=this.saxParser.write(t),this.saxParser.close()):(t=this.remaining.substr(0,this.options.chunkSize),this.remaining=this.remaining.substr(this.options.chunkSize,this.remaining.length),this.saxParser=this.saxParser.write(t),u(this.processAsync))}catch(t){if(e=t,!this.saxParser.errThrown)return this.saxParser.errThrown=!0,this.emit(e)}},o.prototype.assignOrPush=function(t,e,r){return e in t?(t[e]instanceof Array||(t[e]=[t[e]]),t[e].push(r)):this.options.explicitArray?t[e]=[r]:t[e]=r},o.prototype.reset=function(){var t,e,r,n,o;return this.removeAllListeners(),this.saxParser=c.parser(this.options.strict,{trim:!1,normalize:!1,xmlns:this.options.xmlns}),this.saxParser.errThrown=!1,this.saxParser.onerror=(o=this,function(t){if(o.saxParser.resume(),!o.saxParser.errThrown)return o.saxParser.errThrown=!0,o.emit("error",t)}),this.saxParser.onend=function(t){return function(){if(!t.saxParser.ended)return t.saxParser.ended=!0,t.emit("end",t.resultObject)}}(this),this.saxParser.ended=!1,this.EXPLICIT_CHARKEY=this.options.explicitCharkey,this.resultObject=null,n=[],t=this.options.attrkey,e=this.options.charkey,this.saxParser.onopentag=function(r){return function(o){var s,a,c,u,h;if((c={})[e]="",!r.options.ignoreAttrs)for(s in h=o.attributes)l.call(h,s)&&(t in c||r.options.mergeAttrs||(c[t]={}),a=r.options.attrValueProcessors?i(r.options.attrValueProcessors,o.attributes[s],s):o.attributes[s],u=r.options.attrNameProcessors?i(r.options.attrNameProcessors,s):s,r.options.mergeAttrs?r.assignOrPush(c,u,a):c[t][u]=a);return c["#name"]=r.options.tagNameProcessors?i(r.options.tagNameProcessors,o.name):o.name,r.options.xmlns&&(c[r.options.xmlnskey]={uri:o.uri,local:o.local}),n.push(c)}}(this),this.saxParser.onclosetag=function(t){return function(){var r,o,a,c,u,h,p,d,f,m;if(h=n.pop(),u=h["#name"],t.options.explicitChildren&&t.options.preserveChildrenOrder||delete h["#name"],!0===h.cdata&&(r=h.cdata,delete h.cdata),f=n[n.length-1],h[e].match(/^\s*$/)&&!r?(o=h[e],delete h[e]):(t.options.trim&&(h[e]=h[e].trim()),t.options.normalize&&(h[e]=h[e].replace(/\s{2,}/g," ").trim()),h[e]=t.options.valueProcessors?i(t.options.valueProcessors,h[e],u):h[e],1===Object.keys(h).length&&e in h&&!t.EXPLICIT_CHARKEY&&(h=h[e])),s(h)&&(h=""!==t.options.emptyTag?t.options.emptyTag:o),null!=t.options.validator&&(m="/"+function(){var t,e,r;for(r=[],t=0,e=n.length;t<e;t++)c=n[t],r.push(c["#name"]);return r}().concat(u).join("/"),function(){var e;try{h=t.options.validator(m,f&&f[u],h)}catch(r){return e=r,t.emit("error",e)}}()),t.options.explicitChildren&&!t.options.mergeAttrs&&"object"==typeof h)if(t.options.preserveChildrenOrder){if(f){for(a in f[t.options.childkey]=f[t.options.childkey]||[],p={},h)l.call(h,a)&&(p[a]=h[a]);f[t.options.childkey].push(p),delete h["#name"],1===Object.keys(h).length&&e in h&&!t.EXPLICIT_CHARKEY&&(h=h[e])}}else c={},t.options.attrkey in h&&(c[t.options.attrkey]=h[t.options.attrkey],delete h[t.options.attrkey]),!t.options.charsAsChildren&&t.options.charkey in h&&(c[t.options.charkey]=h[t.options.charkey],delete h[t.options.charkey]),Object.getOwnPropertyNames(h).length>0&&(c[t.options.childkey]=h),h=c;return n.length>0?t.assignOrPush(f,u,h):(t.options.explicitRoot&&(d=h,(h={})[u]=d),t.resultObject=h,t.saxParser.ended=!0,t.emit("end",t.resultObject))}}(this),r=function(t){return function(r){var o,s;if(s=n[n.length-1])return s[e]+=r,t.options.explicitChildren&&t.options.preserveChildrenOrder&&t.options.charsAsChildren&&(t.options.includeWhiteChars||""!==r.replace(/\\n/g,"").trim())&&(s[t.options.childkey]=s[t.options.childkey]||[],(o={"#name":"__text__"})[e]=r,t.options.normalize&&(o[e]=o[e].replace(/\s{2,}/g," ").trim()),s[t.options.childkey].push(o)),s}}(this),this.saxParser.ontext=r,this.saxParser.oncdata=function(t){var e;if(e=r(t))return e.cdata=!0}},o.prototype.parseString=function(e,r){var n;null!=r&&"function"==typeof r&&(this.on("end",(function(t){return this.reset(),r(null,t)})),this.on("error",(function(t){return this.reset(),r(t)})));try{return""===(e=e.toString()).trim()?(this.emit("end",null),!0):(e=t.stripBOM(e),this.options.async?(this.remaining=e,u(this.processAsync),this.saxParser):this.saxParser.write(e).close())}catch(t){if(n=t,!this.saxParser.errThrown&&!this.saxParser.ended)return this.emit("error",n),this.saxParser.errThrown=!0;if(this.saxParser.ended)throw n}},o.prototype.parseStringPromise=function(t){return new Promise((e=this,function(r,n){return e.parseString(t,(function(t,e){return t?n(t):r(e)}))}));var e},o}(o),e.parseString=function(t,r,n){var o,s;return null!=n?("function"==typeof n&&(o=n),"object"==typeof r&&(s=r)):("function"==typeof r&&(o=r),s={}),new e.Parser(s).parseString(t,o)},e.parseStringPromise=function(t,r){var n;return"object"==typeof r&&(n=r),new e.Parser(n).parseStringPromise(t)}}).call(this)},7526:function(t,e){(function(){"use strict";var t;t=new RegExp(/(?!xmlns)^.*:/),e.normalize=function(t){return t.toLowerCase()},e.firstCharLowerCase=function(t){return t.charAt(0).toLowerCase()+t.slice(1)},e.stripPrefix=function(e){return e.replace(t,"")},e.parseNumbers=function(t){return isNaN(t)||(t=t%1==0?parseInt(t,10):parseFloat(t)),t},e.parseBooleans=function(t){return/^(?:true|false)$/i.test(t)&&(t="true"===t.toLowerCase()),t}}).call(this)},5055:function(t,e,r){(function(){"use strict";var t,n,o,s,i={}.hasOwnProperty;n=r(8381),t=r(4096),o=r(9082),s=r(7526),e.defaults=n.defaults,e.processors=s,e.ValidationError=function(t){function e(t){this.message=t}return function(t,e){for(var r in e)i.call(e,r)&&(t[r]=e[r]);function n(){this.constructor=t}n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype}(e,Error),e}(),e.Builder=t.Builder,e.Parser=o.Parser,e.parseString=o.parseString,e.parseStringPromise=o.parseStringPromise}).call(this)},7557:function(t){(function(){t.exports={Disconnected:1,Preceding:2,Following:4,Contains:8,ContainedBy:16,ImplementationSpecific:32}}).call(this)},9335:function(t){(function(){t.exports={Element:1,Attribute:2,Text:3,CData:4,EntityReference:5,EntityDeclaration:6,ProcessingInstruction:7,Comment:8,Document:9,DocType:10,DocumentFragment:11,NotationDeclaration:12,Declaration:201,Raw:202,AttributeDeclaration:203,ElementDeclaration:204,Dummy:205}}).call(this)},8369:function(t){(function(){var e,r,n,o,s,i,a,c=[].slice,u={}.hasOwnProperty;e=function(){var t,e,r,n,o,i;if(i=arguments[0],o=2<=arguments.length?c.call(arguments,1):[],s(Object.assign))Object.assign.apply(null,arguments);else for(t=0,r=o.length;t<r;t++)if(null!=(n=o[t]))for(e in n)u.call(n,e)&&(i[e]=n[e]);return i},s=function(t){return!!t&&"[object Function]"===Object.prototype.toString.call(t)},i=function(t){var e;return!!t&&("function"==(e=typeof t)||"object"===e)},n=function(t){return s(Array.isArray)?Array.isArray(t):"[object Array]"===Object.prototype.toString.call(t)},o=function(t){var e;if(n(t))return!t.length;for(e in t)if(u.call(t,e))return!1;return!0},a=function(t){var e,r;return i(t)&&(r=Object.getPrototypeOf(t))&&(e=r.constructor)&&"function"==typeof e&&e instanceof e&&Function.prototype.toString.call(e)===Function.prototype.toString.call(Object)},r=function(t){return s(t.valueOf)?t.valueOf():t},t.exports.assign=e,t.exports.isFunction=s,t.exports.isObject=i,t.exports.isArray=n,t.exports.isEmpty=o,t.exports.isPlainObject=a,t.exports.getValue=r}).call(this)},594:function(t){(function(){t.exports={None:0,OpenTag:1,InsideTag:2,CloseTag:3}}).call(this)},2750:function(t,e,r){(function(){var e;e=r(9335),r(2026),t.exports=function(){function t(t,r,n){if(this.parent=t,this.parent&&(this.options=this.parent.options,this.stringify=this.parent.stringify),null==r)throw new Error("Missing attribute name. "+this.debugInfo(r));this.name=this.stringify.name(r),this.value=this.stringify.attValue(n),this.type=e.Attribute,this.isId=!1,this.schemaTypeInfo=null}return Object.defineProperty(t.prototype,"nodeType",{get:function(){return this.type}}),Object.defineProperty(t.prototype,"ownerElement",{get:function(){return this.parent}}),Object.defineProperty(t.prototype,"textContent",{get:function(){return this.value},set:function(t){return this.value=t||""}}),Object.defineProperty(t.prototype,"namespaceURI",{get:function(){return""}}),Object.defineProperty(t.prototype,"prefix",{get:function(){return""}}),Object.defineProperty(t.prototype,"localName",{get:function(){return this.name}}),Object.defineProperty(t.prototype,"specified",{get:function(){return!0}}),t.prototype.clone=function(){return Object.create(this)},t.prototype.toString=function(t){return this.options.writer.attribute(this,this.options.writer.filterOptions(t))},t.prototype.debugInfo=function(t){return null==(t=t||this.name)?"parent: <"+this.parent.name+">":"attribute: {"+t+"}, parent: <"+this.parent.name+">"},t.prototype.isEqualNode=function(t){return t.namespaceURI===this.namespaceURI&&t.prefix===this.prefix&&t.localName===this.localName&&t.value===this.value},t}()}).call(this)},6170:function(t,e,r){(function(){var e,n,o={}.hasOwnProperty;e=r(9335),n=r(6488),t.exports=function(t){function r(t,n){if(r.__super__.constructor.call(this,t),null==n)throw new Error("Missing CDATA text. "+this.debugInfo());this.name="#cdata-section",this.type=e.CData,this.value=this.stringify.cdata(n)}return function(t,e){for(var r in e)o.call(e,r)&&(t[r]=e[r]);function n(){this.constructor=t}n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype}(r,t),r.prototype.clone=function(){return Object.create(this)},r.prototype.toString=function(t){return this.options.writer.cdata(this,this.options.writer.filterOptions(t))},r}(n)}).call(this)},6488:function(t,e,r){(function(){var e,n={}.hasOwnProperty;e=r(2026),t.exports=function(t){function e(t){e.__super__.constructor.call(this,t),this.value=""}return function(t,e){for(var r in e)n.call(e,r)&&(t[r]=e[r]);function o(){this.constructor=t}o.prototype=e.prototype,t.prototype=new o,t.__super__=e.prototype}(e,t),Object.defineProperty(e.prototype,"data",{get:function(){return this.value},set:function(t){return this.value=t||""}}),Object.defineProperty(e.prototype,"length",{get:function(){return this.value.length}}),Object.defineProperty(e.prototype,"textContent",{get:function(){return this.value},set:function(t){return this.value=t||""}}),e.prototype.clone=function(){return Object.create(this)},e.prototype.substringData=function(t,e){throw new Error("This DOM method is not implemented."+this.debugInfo())},e.prototype.appendData=function(t){throw new Error("This DOM method is not implemented."+this.debugInfo())},e.prototype.insertData=function(t,e){throw new Error("This DOM method is not implemented."+this.debugInfo())},e.prototype.deleteData=function(t,e){throw new Error("This DOM method is not implemented."+this.debugInfo())},e.prototype.replaceData=function(t,e,r){throw new Error("This DOM method is not implemented."+this.debugInfo())},e.prototype.isEqualNode=function(t){return!!e.__super__.isEqualNode.apply(this,arguments).isEqualNode(t)&&t.data===this.data},e}(e)}).call(this)},2096:function(t,e,r){(function(){var e,n,o={}.hasOwnProperty;e=r(9335),n=r(6488),t.exports=function(t){function r(t,n){if(r.__super__.constructor.call(this,t),null==n)throw new Error("Missing comment text. "+this.debugInfo());this.name="#comment",this.type=e.Comment,this.value=this.stringify.comment(n)}return function(t,e){for(var r in e)o.call(e,r)&&(t[r]=e[r]);function n(){this.constructor=t}n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype}(r,t),r.prototype.clone=function(){return Object.create(this)},r.prototype.toString=function(t){return this.options.writer.comment(this,this.options.writer.filterOptions(t))},r}(n)}).call(this)},383:function(t,e,r){(function(){var e,n;e=r(3933),n=r(6210),t.exports=function(){function t(){this.defaultParams={"canonical-form":!1,"cdata-sections":!1,comments:!1,"datatype-normalization":!1,"element-content-whitespace":!0,entities:!0,"error-handler":new e,infoset:!0,"validate-if-schema":!1,namespaces:!0,"namespace-declarations":!0,"normalize-characters":!1,"schema-location":"","schema-type":"","split-cdata-sections":!0,validate:!1,"well-formed":!0},this.params=Object.create(this.defaultParams)}return Object.defineProperty(t.prototype,"parameterNames",{get:function(){return new n(Object.keys(this.defaultParams))}}),t.prototype.getParameter=function(t){return this.params.hasOwnProperty(t)?this.params[t]:null},t.prototype.canSetParameter=function(t,e){return!0},t.prototype.setParameter=function(t,e){return null!=e?this.params[t]=e:delete this.params[t]},t}()}).call(this)},3933:function(t){(function(){t.exports=function(){function t(){}return t.prototype.handleError=function(t){throw new Error(t)},t}()}).call(this)},1770:function(t){(function(){t.exports=function(){function t(){}return t.prototype.hasFeature=function(t,e){return!0},t.prototype.createDocumentType=function(t,e,r){throw new Error("This DOM method is not implemented.")},t.prototype.createDocument=function(t,e,r){throw new Error("This DOM method is not implemented.")},t.prototype.createHTMLDocument=function(t){throw new Error("This DOM method is not implemented.")},t.prototype.getFeature=function(t,e){throw new Error("This DOM method is not implemented.")},t}()}).call(this)},6210:function(t){(function(){t.exports=function(){function t(t){this.arr=t||[]}return Object.defineProperty(t.prototype,"length",{get:function(){return this.arr.length}}),t.prototype.item=function(t){return this.arr[t]||null},t.prototype.contains=function(t){return-1!==this.arr.indexOf(t)},t}()}).call(this)},1179:function(t,e,r){(function(){var e,n,o={}.hasOwnProperty;n=r(2026),e=r(9335),t.exports=function(t){function r(t,n,o,s,i,a){if(r.__super__.constructor.call(this,t),null==n)throw new Error("Missing DTD element name. "+this.debugInfo());if(null==o)throw new Error("Missing DTD attribute name. "+this.debugInfo(n));if(!s)throw new Error("Missing DTD attribute type. "+this.debugInfo(n));if(!i)throw new Error("Missing DTD attribute default. "+this.debugInfo(n));if(0!==i.indexOf("#")&&(i="#"+i),!i.match(/^(#REQUIRED|#IMPLIED|#FIXED|#DEFAULT)$/))throw new Error("Invalid default value type; expected: #REQUIRED, #IMPLIED, #FIXED or #DEFAULT. "+this.debugInfo(n));if(a&&!i.match(/^(#FIXED|#DEFAULT)$/))throw new Error("Default value only applies to #FIXED or #DEFAULT. "+this.debugInfo(n));this.elementName=this.stringify.name(n),this.type=e.AttributeDeclaration,this.attributeName=this.stringify.name(o),this.attributeType=this.stringify.dtdAttType(s),a&&(this.defaultValue=this.stringify.dtdAttDefault(a)),this.defaultValueType=i}return function(t,e){for(var r in e)o.call(e,r)&&(t[r]=e[r]);function n(){this.constructor=t}n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype}(r,t),r.prototype.toString=function(t){return this.options.writer.dtdAttList(this,this.options.writer.filterOptions(t))},r}(n)}).call(this)},6347:function(t,e,r){(function(){var e,n,o={}.hasOwnProperty;n=r(2026),e=r(9335),t.exports=function(t){function r(t,n,o){if(r.__super__.constructor.call(this,t),null==n)throw new Error("Missing DTD element name. "+this.debugInfo());o||(o="(#PCDATA)"),Array.isArray(o)&&(o="("+o.join(",")+")"),this.name=this.stringify.name(n),this.type=e.ElementDeclaration,this.value=this.stringify.dtdElementValue(o)}return function(t,e){for(var r in e)o.call(e,r)&&(t[r]=e[r]);function n(){this.constructor=t}n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype}(r,t),r.prototype.toString=function(t){return this.options.writer.dtdElement(this,this.options.writer.filterOptions(t))},r}(n)}).call(this)},9078:function(t,e,r){(function(){var e,n,o,s={}.hasOwnProperty;o=r(8369).isObject,n=r(2026),e=r(9335),t.exports=function(t){function r(t,n,s,i){if(r.__super__.constructor.call(this,t),null==s)throw new Error("Missing DTD entity name. "+this.debugInfo(s));if(null==i)throw new Error("Missing DTD entity value. "+this.debugInfo(s));if(this.pe=!!n,this.name=this.stringify.name(s),this.type=e.EntityDeclaration,o(i)){if(!i.pubID&&!i.sysID)throw new Error("Public and/or system identifiers are required for an external entity. "+this.debugInfo(s));if(i.pubID&&!i.sysID)throw new Error("System identifier is required for a public external entity. "+this.debugInfo(s));if(this.internal=!1,null!=i.pubID&&(this.pubID=this.stringify.dtdPubID(i.pubID)),null!=i.sysID&&(this.sysID=this.stringify.dtdSysID(i.sysID)),null!=i.nData&&(this.nData=this.stringify.dtdNData(i.nData)),this.pe&&this.nData)throw new Error("Notation declaration is not allowed in a parameter entity. "+this.debugInfo(s))}else this.value=this.stringify.dtdEntityValue(i),this.internal=!0}return function(t,e){for(var r in e)s.call(e,r)&&(t[r]=e[r]);function n(){this.constructor=t}n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype}(r,t),Object.defineProperty(r.prototype,"publicId",{get:function(){return this.pubID}}),Object.defineProperty(r.prototype,"systemId",{get:function(){return this.sysID}}),Object.defineProperty(r.prototype,"notationName",{get:function(){return this.nData||null}}),Object.defineProperty(r.prototype,"inputEncoding",{get:function(){return null}}),Object.defineProperty(r.prototype,"xmlEncoding",{get:function(){return null}}),Object.defineProperty(r.prototype,"xmlVersion",{get:function(){return null}}),r.prototype.toString=function(t){return this.options.writer.dtdEntity(this,this.options.writer.filterOptions(t))},r}(n)}).call(this)},4777:function(t,e,r){(function(){var e,n,o={}.hasOwnProperty;n=r(2026),e=r(9335),t.exports=function(t){function r(t,n,o){if(r.__super__.constructor.call(this,t),null==n)throw new Error("Missing DTD notation name. "+this.debugInfo(n));if(!o.pubID&&!o.sysID)throw new Error("Public or system identifiers are required for an external entity. "+this.debugInfo(n));this.name=this.stringify.name(n),this.type=e.NotationDeclaration,null!=o.pubID&&(this.pubID=this.stringify.dtdPubID(o.pubID)),null!=o.sysID&&(this.sysID=this.stringify.dtdSysID(o.sysID))}return function(t,e){for(var r in e)o.call(e,r)&&(t[r]=e[r]);function n(){this.constructor=t}n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype}(r,t),Object.defineProperty(r.prototype,"publicId",{get:function(){return this.pubID}}),Object.defineProperty(r.prototype,"systemId",{get:function(){return this.sysID}}),r.prototype.toString=function(t){return this.options.writer.dtdNotation(this,this.options.writer.filterOptions(t))},r}(n)}).call(this)},9077:function(t,e,r){(function(){var e,n,o,s={}.hasOwnProperty;o=r(8369).isObject,n=r(2026),e=r(9335),t.exports=function(t){function r(t,n,s,i){var a;r.__super__.constructor.call(this,t),o(n)&&(n=(a=n).version,s=a.encoding,i=a.standalone),n||(n="1.0"),this.type=e.Declaration,this.version=this.stringify.xmlVersion(n),null!=s&&(this.encoding=this.stringify.xmlEncoding(s)),null!=i&&(this.standalone=this.stringify.xmlStandalone(i))}return function(t,e){for(var r in e)s.call(e,r)&&(t[r]=e[r]);function n(){this.constructor=t}n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype}(r,t),r.prototype.toString=function(t){return this.options.writer.declaration(this,this.options.writer.filterOptions(t))},r}(n)}).call(this)},6544:function(t,e,r){(function(){var e,n,o,s,i,a,c,u,h={}.hasOwnProperty;u=r(8369).isObject,c=r(2026),e=r(9335),n=r(1179),s=r(9078),o=r(6347),i=r(4777),a=r(663),t.exports=function(t){function r(t,n,o){var s,i,a,c,h,l;if(r.__super__.constructor.call(this,t),this.type=e.DocType,t.children)for(i=0,a=(c=t.children).length;i<a;i++)if((s=c[i]).type===e.Element){this.name=s.name;break}this.documentObject=t,u(n)&&(n=(h=n).pubID,o=h.sysID),null==o&&(o=(l=[n,o])[0],n=l[1]),null!=n&&(this.pubID=this.stringify.dtdPubID(n)),null!=o&&(this.sysID=this.stringify.dtdSysID(o))}return function(t,e){for(var r in e)h.call(e,r)&&(t[r]=e[r]);function n(){this.constructor=t}n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype}(r,t),Object.defineProperty(r.prototype,"entities",{get:function(){var t,r,n,o,s;for(o={},r=0,n=(s=this.children).length;r<n;r++)(t=s[r]).type!==e.EntityDeclaration||t.pe||(o[t.name]=t);return new a(o)}}),Object.defineProperty(r.prototype,"notations",{get:function(){var t,r,n,o,s;for(o={},r=0,n=(s=this.children).length;r<n;r++)(t=s[r]).type===e.NotationDeclaration&&(o[t.name]=t);return new a(o)}}),Object.defineProperty(r.prototype,"publicId",{get:function(){return this.pubID}}),Object.defineProperty(r.prototype,"systemId",{get:function(){return this.sysID}}),Object.defineProperty(r.prototype,"internalSubset",{get:function(){throw new Error("This DOM method is not implemented."+this.debugInfo())}}),r.prototype.element=function(t,e){var r;return r=new o(this,t,e),this.children.push(r),this},r.prototype.attList=function(t,e,r,o,s){var i;return i=new n(this,t,e,r,o,s),this.children.push(i),this},r.prototype.entity=function(t,e){var r;return r=new s(this,!1,t,e),this.children.push(r),this},r.prototype.pEntity=function(t,e){var r;return r=new s(this,!0,t,e),this.children.push(r),this},r.prototype.notation=function(t,e){var r;return r=new i(this,t,e),this.children.push(r),this},r.prototype.toString=function(t){return this.options.writer.docType(this,this.options.writer.filterOptions(t))},r.prototype.ele=function(t,e){return this.element(t,e)},r.prototype.att=function(t,e,r,n,o){return this.attList(t,e,r,n,o)},r.prototype.ent=function(t,e){return this.entity(t,e)},r.prototype.pent=function(t,e){return this.pEntity(t,e)},r.prototype.not=function(t,e){return this.notation(t,e)},r.prototype.up=function(){return this.root()||this.documentObject},r.prototype.isEqualNode=function(t){return!!r.__super__.isEqualNode.apply(this,arguments).isEqualNode(t)&&t.name===this.name&&t.publicId===this.publicId&&t.systemId===this.systemId},r}(c)}).call(this)},6934:function(t,e,r){(function(){var e,n,o,s,i,a,c,u={}.hasOwnProperty;c=r(8369).isPlainObject,o=r(1770),n=r(383),s=r(2026),e=r(9335),a=r(5549),i=r(6434),t.exports=function(t){function r(t){r.__super__.constructor.call(this,null),this.name="#document",this.type=e.Document,this.documentURI=null,this.domConfig=new n,t||(t={}),t.writer||(t.writer=new i),this.options=t,this.stringify=new a(t)}return function(t,e){for(var r in e)u.call(e,r)&&(t[r]=e[r]);function n(){this.constructor=t}n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype}(r,t),Object.defineProperty(r.prototype,"implementation",{value:new o}),Object.defineProperty(r.prototype,"doctype",{get:function(){var t,r,n,o;for(r=0,n=(o=this.children).length;r<n;r++)if((t=o[r]).type===e.DocType)return t;return null}}),Object.defineProperty(r.prototype,"documentElement",{get:function(){return this.rootObject||null}}),Object.defineProperty(r.prototype,"inputEncoding",{get:function(){return null}}),Object.defineProperty(r.prototype,"strictErrorChecking",{get:function(){return!1}}),Object.defineProperty(r.prototype,"xmlEncoding",{get:function(){return 0!==this.children.length&&this.children[0].type===e.Declaration?this.children[0].encoding:null}}),Object.defineProperty(r.prototype,"xmlStandalone",{get:function(){return 0!==this.children.length&&this.children[0].type===e.Declaration&&"yes"===this.children[0].standalone}}),Object.defineProperty(r.prototype,"xmlVersion",{get:function(){return 0!==this.children.length&&this.children[0].type===e.Declaration?this.children[0].version:"1.0"}}),Object.defineProperty(r.prototype,"URL",{get:function(){return this.documentURI}}),Object.defineProperty(r.prototype,"origin",{get:function(){return null}}),Object.defineProperty(r.prototype,"compatMode",{get:function(){return null}}),Object.defineProperty(r.prototype,"characterSet",{get:function(){return null}}),Object.defineProperty(r.prototype,"contentType",{get:function(){return null}}),r.prototype.end=function(t){var e;return e={},t?c(t)&&(e=t,t=this.options.writer):t=this.options.writer,t.document(this,t.filterOptions(e))},r.prototype.toString=function(t){return this.options.writer.document(this,this.options.writer.filterOptions(t))},r.prototype.createElement=function(t){throw new Error("This DOM method is not implemented."+this.debugInfo())},r.prototype.createDocumentFragment=function(){throw new Error("This DOM method is not implemented."+this.debugInfo())},r.prototype.createTextNode=function(t){throw new Error("This DOM method is not implemented."+this.debugInfo())},r.prototype.createComment=function(t){throw new Error("This DOM method is not implemented."+this.debugInfo())},r.prototype.createCDATASection=function(t){throw new Error("This DOM method is not implemented."+this.debugInfo())},r.prototype.createProcessingInstruction=function(t,e){throw new Error("This DOM method is not implemented."+this.debugInfo())},r.prototype.createAttribute=function(t){throw new Error("This DOM method is not implemented."+this.debugInfo())},r.prototype.createEntityReference=function(t){throw new Error("This DOM method is not implemented."+this.debugInfo())},r.prototype.getElementsByTagName=function(t){throw new Error("This DOM method is not implemented."+this.debugInfo())},r.prototype.importNode=function(t,e){throw new Error("This DOM method is not implemented."+this.debugInfo())},r.prototype.createElementNS=function(t,e){throw new Error("This DOM method is not implemented."+this.debugInfo())},r.prototype.createAttributeNS=function(t,e){throw new Error("This DOM method is not implemented."+this.debugInfo())},r.prototype.getElementsByTagNameNS=function(t,e){throw new Error("This DOM method is not implemented."+this.debugInfo())},r.prototype.getElementById=function(t){throw new Error("This DOM method is not implemented."+this.debugInfo())},r.prototype.adoptNode=function(t){throw new Error("This DOM method is not implemented."+this.debugInfo())},r.prototype.normalizeDocument=function(){throw new Error("This DOM method is not implemented."+this.debugInfo())},r.prototype.renameNode=function(t,e,r){throw new Error("This DOM method is not implemented."+this.debugInfo())},r.prototype.getElementsByClassName=function(t){throw new Error("This DOM method is not implemented."+this.debugInfo())},r.prototype.createEvent=function(t){throw new Error("This DOM method is not implemented."+this.debugInfo())},r.prototype.createRange=function(){throw new Error("This DOM method is not implemented."+this.debugInfo())},r.prototype.createNodeIterator=function(t,e,r){throw new Error("This DOM method is not implemented."+this.debugInfo())},r.prototype.createTreeWalker=function(t,e,r){throw new Error("This DOM method is not implemented."+this.debugInfo())},r}(s)}).call(this)},9227:function(t,e,r){(function(){var e,n,o,s,i,a,c,u,h,l,p,d,f,m,g,y,v,w,E,b,C,_,O,S={}.hasOwnProperty;O=r(8369),C=O.isObject,b=O.isFunction,_=O.isPlainObject,E=O.getValue,e=r(9335),d=r(6934),f=r(2161),s=r(6170),i=r(2096),g=r(9406),w=r(3595),m=r(9181),l=r(9077),p=r(6544),a=r(1179),u=r(9078),c=r(6347),h=r(4777),o=r(2750),v=r(5549),y=r(6434),n=r(594),t.exports=function(){function t(t,r,n){var o;this.name="?xml",this.type=e.Document,t||(t={}),o={},t.writer?_(t.writer)&&(o=t.writer,t.writer=new y):t.writer=new y,this.options=t,this.writer=t.writer,this.writerOptions=this.writer.filterOptions(o),this.stringify=new v(t),this.onDataCallback=r||function(){},this.onEndCallback=n||function(){},this.currentNode=null,this.currentLevel=-1,this.openTags={},this.documentStarted=!1,this.documentCompleted=!1,this.root=null}return t.prototype.createChildNode=function(t){var r,n,o,s,i,a,c,u;switch(t.type){case e.CData:this.cdata(t.value);break;case e.Comment:this.comment(t.value);break;case e.Element:for(n in o={},c=t.attribs)S.call(c,n)&&(r=c[n],o[n]=r.value);this.node(t.name,o);break;case e.Dummy:this.dummy();break;case e.Raw:this.raw(t.value);break;case e.Text:this.text(t.value);break;case e.ProcessingInstruction:this.instruction(t.target,t.value);break;default:throw new Error("This XML node type is not supported in a JS object: "+t.constructor.name)}for(i=0,a=(u=t.children).length;i<a;i++)s=u[i],this.createChildNode(s),s.type===e.Element&&this.up();return this},t.prototype.dummy=function(){return this},t.prototype.node=function(t,e,r){var n;if(null==t)throw new Error("Missing node name.");if(this.root&&-1===this.currentLevel)throw new Error("Document can only have one root node. "+this.debugInfo(t));return this.openCurrent(),t=E(t),null==e&&(e={}),e=E(e),C(e)||(r=(n=[e,r])[0],e=n[1]),this.currentNode=new f(this,t,e),this.currentNode.children=!1,this.currentLevel++,this.openTags[this.currentLevel]=this.currentNode,null!=r&&this.text(r),this},t.prototype.element=function(t,r,n){var o,s,i,a,c,u;if(this.currentNode&&this.currentNode.type===e.DocType)this.dtdElement.apply(this,arguments);else if(Array.isArray(t)||C(t)||b(t))for(a=this.options.noValidation,this.options.noValidation=!0,(u=new d(this.options).element("TEMP_ROOT")).element(t),this.options.noValidation=a,s=0,i=(c=u.children).length;s<i;s++)o=c[s],this.createChildNode(o),o.type===e.Element&&this.up();else this.node(t,r,n);return this},t.prototype.attribute=function(t,e){var r,n;if(!this.currentNode||this.currentNode.children)throw new Error("att() can only be used immediately after an ele() call in callback mode. "+this.debugInfo(t));if(null!=t&&(t=E(t)),C(t))for(r in t)S.call(t,r)&&(n=t[r],this.attribute(r,n));else b(e)&&(e=e.apply()),this.options.keepNullAttributes&&null==e?this.currentNode.attribs[t]=new o(this,t,""):null!=e&&(this.currentNode.attribs[t]=new o(this,t,e));return this},t.prototype.text=function(t){var e;return this.openCurrent(),e=new w(this,t),this.onData(this.writer.text(e,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},t.prototype.cdata=function(t){var e;return this.openCurrent(),e=new s(this,t),this.onData(this.writer.cdata(e,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},t.prototype.comment=function(t){var e;return this.openCurrent(),e=new i(this,t),this.onData(this.writer.comment(e,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},t.prototype.raw=function(t){var e;return this.openCurrent(),e=new g(this,t),this.onData(this.writer.raw(e,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},t.prototype.instruction=function(t,e){var r,n,o,s,i;if(this.openCurrent(),null!=t&&(t=E(t)),null!=e&&(e=E(e)),Array.isArray(t))for(r=0,s=t.length;r<s;r++)n=t[r],this.instruction(n);else if(C(t))for(n in t)S.call(t,n)&&(o=t[n],this.instruction(n,o));else b(e)&&(e=e.apply()),i=new m(this,t,e),this.onData(this.writer.processingInstruction(i,this.writerOptions,this.currentLevel+1),this.currentLevel+1);return this},t.prototype.declaration=function(t,e,r){var n;if(this.openCurrent(),this.documentStarted)throw new Error("declaration() must be the first node.");return n=new l(this,t,e,r),this.onData(this.writer.declaration(n,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},t.prototype.doctype=function(t,e,r){if(this.openCurrent(),null==t)throw new Error("Missing root node name.");if(this.root)throw new Error("dtd() must come before the root node.");return this.currentNode=new p(this,e,r),this.currentNode.rootNodeName=t,this.currentNode.children=!1,this.currentLevel++,this.openTags[this.currentLevel]=this.currentNode,this},t.prototype.dtdElement=function(t,e){var r;return this.openCurrent(),r=new c(this,t,e),this.onData(this.writer.dtdElement(r,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},t.prototype.attList=function(t,e,r,n,o){var s;return this.openCurrent(),s=new a(this,t,e,r,n,o),this.onData(this.writer.dtdAttList(s,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},t.prototype.entity=function(t,e){var r;return this.openCurrent(),r=new u(this,!1,t,e),this.onData(this.writer.dtdEntity(r,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},t.prototype.pEntity=function(t,e){var r;return this.openCurrent(),r=new u(this,!0,t,e),this.onData(this.writer.dtdEntity(r,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},t.prototype.notation=function(t,e){var r;return this.openCurrent(),r=new h(this,t,e),this.onData(this.writer.dtdNotation(r,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},t.prototype.up=function(){if(this.currentLevel<0)throw new Error("The document node has no parent.");return this.currentNode?(this.currentNode.children?this.closeNode(this.currentNode):this.openNode(this.currentNode),this.currentNode=null):this.closeNode(this.openTags[this.currentLevel]),delete this.openTags[this.currentLevel],this.currentLevel--,this},t.prototype.end=function(){for(;this.currentLevel>=0;)this.up();return this.onEnd()},t.prototype.openCurrent=function(){if(this.currentNode)return this.currentNode.children=!0,this.openNode(this.currentNode)},t.prototype.openNode=function(t){var r,o,s,i;if(!t.isOpen){if(this.root||0!==this.currentLevel||t.type!==e.Element||(this.root=t),o="",t.type===e.Element){for(s in this.writerOptions.state=n.OpenTag,o=this.writer.indent(t,this.writerOptions,this.currentLevel)+"<"+t.name,i=t.attribs)S.call(i,s)&&(r=i[s],o+=this.writer.attribute(r,this.writerOptions,this.currentLevel));o+=(t.children?">":"/>")+this.writer.endline(t,this.writerOptions,this.currentLevel),this.writerOptions.state=n.InsideTag}else this.writerOptions.state=n.OpenTag,o=this.writer.indent(t,this.writerOptions,this.currentLevel)+"<!DOCTYPE "+t.rootNodeName,t.pubID&&t.sysID?o+=' PUBLIC "'+t.pubID+'" "'+t.sysID+'"':t.sysID&&(o+=' SYSTEM "'+t.sysID+'"'),t.children?(o+=" [",this.writerOptions.state=n.InsideTag):(this.writerOptions.state=n.CloseTag,o+=">"),o+=this.writer.endline(t,this.writerOptions,this.currentLevel);return this.onData(o,this.currentLevel),t.isOpen=!0}},t.prototype.closeNode=function(t){var r;if(!t.isClosed)return"",this.writerOptions.state=n.CloseTag,r=t.type===e.Element?this.writer.indent(t,this.writerOptions,this.currentLevel)+"</"+t.name+">"+this.writer.endline(t,this.writerOptions,this.currentLevel):this.writer.indent(t,this.writerOptions,this.currentLevel)+"]>"+this.writer.endline(t,this.writerOptions,this.currentLevel),this.writerOptions.state=n.None,this.onData(r,this.currentLevel),t.isClosed=!0},t.prototype.onData=function(t,e){return this.documentStarted=!0,this.onDataCallback(t,e+1)},t.prototype.onEnd=function(){return this.documentCompleted=!0,this.onEndCallback()},t.prototype.debugInfo=function(t){return null==t?"":"node: <"+t+">"},t.prototype.ele=function(){return this.element.apply(this,arguments)},t.prototype.nod=function(t,e,r){return this.node(t,e,r)},t.prototype.txt=function(t){return this.text(t)},t.prototype.dat=function(t){return this.cdata(t)},t.prototype.com=function(t){return this.comment(t)},t.prototype.ins=function(t,e){return this.instruction(t,e)},t.prototype.dec=function(t,e,r){return this.declaration(t,e,r)},t.prototype.dtd=function(t,e,r){return this.doctype(t,e,r)},t.prototype.e=function(t,e,r){return this.element(t,e,r)},t.prototype.n=function(t,e,r){return this.node(t,e,r)},t.prototype.t=function(t){return this.text(t)},t.prototype.d=function(t){return this.cdata(t)},t.prototype.c=function(t){return this.comment(t)},t.prototype.r=function(t){return this.raw(t)},t.prototype.i=function(t,e){return this.instruction(t,e)},t.prototype.att=function(){return this.currentNode&&this.currentNode.type===e.DocType?this.attList.apply(this,arguments):this.attribute.apply(this,arguments)},t.prototype.a=function(){return this.currentNode&&this.currentNode.type===e.DocType?this.attList.apply(this,arguments):this.attribute.apply(this,arguments)},t.prototype.ent=function(t,e){return this.entity(t,e)},t.prototype.pent=function(t,e){return this.pEntity(t,e)},t.prototype.not=function(t,e){return this.notation(t,e)},t}()}).call(this)},459:function(t,e,r){(function(){var e,n,o={}.hasOwnProperty;n=r(2026),e=r(9335),t.exports=function(t){function r(t){r.__super__.constructor.call(this,t),this.type=e.Dummy}return function(t,e){for(var r in e)o.call(e,r)&&(t[r]=e[r]);function n(){this.constructor=t}n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype}(r,t),r.prototype.clone=function(){return Object.create(this)},r.prototype.toString=function(t){return""},r}(n)}).call(this)},2161:function(t,e,r){(function(){var e,n,o,s,i,a,c,u,h={}.hasOwnProperty;u=r(8369),c=u.isObject,a=u.isFunction,i=u.getValue,s=r(2026),e=r(9335),n=r(2750),o=r(663),t.exports=function(t){function r(t,n,o){var s,i,a,c;if(r.__super__.constructor.call(this,t),null==n)throw new Error("Missing element name. "+this.debugInfo());if(this.name=this.stringify.name(n),this.type=e.Element,this.attribs={},this.schemaTypeInfo=null,null!=o&&this.attribute(o),t.type===e.Document&&(this.isRoot=!0,this.documentObject=t,t.rootObject=this,t.children))for(i=0,a=(c=t.children).length;i<a;i++)if((s=c[i]).type===e.DocType){s.name=this.name;break}}return function(t,e){for(var r in e)h.call(e,r)&&(t[r]=e[r]);function n(){this.constructor=t}n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype}(r,t),Object.defineProperty(r.prototype,"tagName",{get:function(){return this.name}}),Object.defineProperty(r.prototype,"namespaceURI",{get:function(){return""}}),Object.defineProperty(r.prototype,"prefix",{get:function(){return""}}),Object.defineProperty(r.prototype,"localName",{get:function(){return this.name}}),Object.defineProperty(r.prototype,"id",{get:function(){throw new Error("This DOM method is not implemented."+this.debugInfo())}}),Object.defineProperty(r.prototype,"className",{get:function(){throw new Error("This DOM method is not implemented."+this.debugInfo())}}),Object.defineProperty(r.prototype,"classList",{get:function(){throw new Error("This DOM method is not implemented."+this.debugInfo())}}),Object.defineProperty(r.prototype,"attributes",{get:function(){return this.attributeMap&&this.attributeMap.nodes||(this.attributeMap=new o(this.attribs)),this.attributeMap}}),r.prototype.clone=function(){var t,e,r,n;for(e in(r=Object.create(this)).isRoot&&(r.documentObject=null),r.attribs={},n=this.attribs)h.call(n,e)&&(t=n[e],r.attribs[e]=t.clone());return r.children=[],this.children.forEach((function(t){var e;return(e=t.clone()).parent=r,r.children.push(e)})),r},r.prototype.attribute=function(t,e){var r,o;if(null!=t&&(t=i(t)),c(t))for(r in t)h.call(t,r)&&(o=t[r],this.attribute(r,o));else a(e)&&(e=e.apply()),this.options.keepNullAttributes&&null==e?this.attribs[t]=new n(this,t,""):null!=e&&(this.attribs[t]=new n(this,t,e));return this},r.prototype.removeAttribute=function(t){var e,r,n;if(null==t)throw new Error("Missing attribute name. "+this.debugInfo());if(t=i(t),Array.isArray(t))for(r=0,n=t.length;r<n;r++)e=t[r],delete this.attribs[e];else delete this.attribs[t];return this},r.prototype.toString=function(t){return this.options.writer.element(this,this.options.writer.filterOptions(t))},r.prototype.att=function(t,e){return this.attribute(t,e)},r.prototype.a=function(t,e){return this.attribute(t,e)},r.prototype.getAttribute=function(t){return this.attribs.hasOwnProperty(t)?this.attribs[t].value:null},r.prototype.setAttribute=function(t,e){throw new Error("This DOM method is not implemented."+this.debugInfo())},r.prototype.getAttributeNode=function(t){return this.attribs.hasOwnProperty(t)?this.attribs[t]:null},r.prototype.setAttributeNode=function(t){throw new Error("This DOM method is not implemented."+this.debugInfo())},r.prototype.removeAttributeNode=function(t){throw new Error("This DOM method is not implemented."+this.debugInfo())},r.prototype.getElementsByTagName=function(t){throw new Error("This DOM method is not implemented."+this.debugInfo())},r.prototype.getAttributeNS=function(t,e){throw new Error("This DOM method is not implemented."+this.debugInfo())},r.prototype.setAttributeNS=function(t,e,r){throw new Error("This DOM method is not implemented."+this.debugInfo())},r.prototype.removeAttributeNS=function(t,e){throw new Error("This DOM method is not implemented."+this.debugInfo())},r.prototype.getAttributeNodeNS=function(t,e){throw new Error("This DOM method is not implemented."+this.debugInfo())},r.prototype.setAttributeNodeNS=function(t){throw new Error("This DOM method is not implemented."+this.debugInfo())},r.prototype.getElementsByTagNameNS=function(t,e){throw new Error("This DOM method is not implemented."+this.debugInfo())},r.prototype.hasAttribute=function(t){return this.attribs.hasOwnProperty(t)},r.prototype.hasAttributeNS=function(t,e){throw new Error("This DOM method is not implemented."+this.debugInfo())},r.prototype.setIdAttribute=function(t,e){return this.attribs.hasOwnProperty(t)?this.attribs[t].isId:e},r.prototype.setIdAttributeNS=function(t,e,r){throw new Error("This DOM method is not implemented."+this.debugInfo())},r.prototype.setIdAttributeNode=function(t,e){throw new Error("This DOM method is not implemented."+this.debugInfo())},r.prototype.getElementsByTagName=function(t){throw new Error("This DOM method is not implemented."+this.debugInfo())},r.prototype.getElementsByTagNameNS=function(t,e){throw new Error("This DOM method is not implemented."+this.debugInfo())},r.prototype.getElementsByClassName=function(t){throw new Error("This DOM method is not implemented."+this.debugInfo())},r.prototype.isEqualNode=function(t){var e,n,o;if(!r.__super__.isEqualNode.apply(this,arguments).isEqualNode(t))return!1;if(t.namespaceURI!==this.namespaceURI)return!1;if(t.prefix!==this.prefix)return!1;if(t.localName!==this.localName)return!1;if(t.attribs.length!==this.attribs.length)return!1;for(e=n=0,o=this.attribs.length-1;0<=o?n<=o:n>=o;e=0<=o?++n:--n)if(!this.attribs[e].isEqualNode(t.attribs[e]))return!1;return!0},r}(s)}).call(this)},663:function(t){(function(){t.exports=function(){function t(t){this.nodes=t}return Object.defineProperty(t.prototype,"length",{get:function(){return Object.keys(this.nodes).length||0}}),t.prototype.clone=function(){return this.nodes=null},t.prototype.getNamedItem=function(t){return this.nodes[t]},t.prototype.setNamedItem=function(t){var e;return e=this.nodes[t.nodeName],this.nodes[t.nodeName]=t,e||null},t.prototype.removeNamedItem=function(t){var e;return e=this.nodes[t],delete this.nodes[t],e||null},t.prototype.item=function(t){return this.nodes[Object.keys(this.nodes)[t]]||null},t.prototype.getNamedItemNS=function(t,e){throw new Error("This DOM method is not implemented.")},t.prototype.setNamedItemNS=function(t){throw new Error("This DOM method is not implemented.")},t.prototype.removeNamedItemNS=function(t,e){throw new Error("This DOM method is not implemented.")},t}()}).call(this)},2026:function(t,e,r){(function(){var e,n,o,s,i,a,c,u,h,l,p,d,f,m,g,y,v,w={}.hasOwnProperty;v=r(8369),y=v.isObject,g=v.isFunction,m=v.isEmpty,f=v.getValue,u=null,o=null,s=null,i=null,a=null,p=null,d=null,l=null,c=null,n=null,h=null,e=null,t.exports=function(){function t(t){this.parent=t,this.parent&&(this.options=this.parent.options,this.stringify=this.parent.stringify),this.value=null,this.children=[],this.baseURI=null,u||(u=r(2161),o=r(6170),s=r(2096),i=r(9077),a=r(6544),p=r(9406),d=r(3595),l=r(9181),c=r(459),n=r(9335),h=r(2390),r(663),e=r(7557))}return Object.defineProperty(t.prototype,"nodeName",{get:function(){return this.name}}),Object.defineProperty(t.prototype,"nodeType",{get:function(){return this.type}}),Object.defineProperty(t.prototype,"nodeValue",{get:function(){return this.value}}),Object.defineProperty(t.prototype,"parentNode",{get:function(){return this.parent}}),Object.defineProperty(t.prototype,"childNodes",{get:function(){return this.childNodeList&&this.childNodeList.nodes||(this.childNodeList=new h(this.children)),this.childNodeList}}),Object.defineProperty(t.prototype,"firstChild",{get:function(){return this.children[0]||null}}),Object.defineProperty(t.prototype,"lastChild",{get:function(){return this.children[this.children.length-1]||null}}),Object.defineProperty(t.prototype,"previousSibling",{get:function(){var t;return t=this.parent.children.indexOf(this),this.parent.children[t-1]||null}}),Object.defineProperty(t.prototype,"nextSibling",{get:function(){var t;return t=this.parent.children.indexOf(this),this.parent.children[t+1]||null}}),Object.defineProperty(t.prototype,"ownerDocument",{get:function(){return this.document()||null}}),Object.defineProperty(t.prototype,"textContent",{get:function(){var t,e,r,o,s;if(this.nodeType===n.Element||this.nodeType===n.DocumentFragment){for(s="",e=0,r=(o=this.children).length;e<r;e++)(t=o[e]).textContent&&(s+=t.textContent);return s}return null},set:function(t){throw new Error("This DOM method is not implemented."+this.debugInfo())}}),t.prototype.setParent=function(t){var e,r,n,o,s;for(this.parent=t,t&&(this.options=t.options,this.stringify=t.stringify),s=[],r=0,n=(o=this.children).length;r<n;r++)e=o[r],s.push(e.setParent(this));return s},t.prototype.element=function(t,e,r){var n,o,s,i,a,c,u,h,l,p,d;if(c=null,null===e&&null==r&&(e=(l=[{},null])[0],r=l[1]),null==e&&(e={}),e=f(e),y(e)||(r=(p=[e,r])[0],e=p[1]),null!=t&&(t=f(t)),Array.isArray(t))for(s=0,u=t.length;s<u;s++)o=t[s],c=this.element(o);else if(g(t))c=this.element(t.apply());else if(y(t)){for(a in t)if(w.call(t,a))if(d=t[a],g(d)&&(d=d.apply()),!this.options.ignoreDecorators&&this.stringify.convertAttKey&&0===a.indexOf(this.stringify.convertAttKey))c=this.attribute(a.substr(this.stringify.convertAttKey.length),d);else if(!this.options.separateArrayItems&&Array.isArray(d)&&m(d))c=this.dummy();else if(y(d)&&m(d))c=this.element(a);else if(this.options.keepNullNodes||null!=d)if(!this.options.separateArrayItems&&Array.isArray(d))for(i=0,h=d.length;i<h;i++)o=d[i],(n={})[a]=o,c=this.element(n);else y(d)?!this.options.ignoreDecorators&&this.stringify.convertTextKey&&0===a.indexOf(this.stringify.convertTextKey)?c=this.element(d):(c=this.element(a)).element(d):c=this.element(a,d);else c=this.dummy()}else c=this.options.keepNullNodes||null!==r?!this.options.ignoreDecorators&&this.stringify.convertTextKey&&0===t.indexOf(this.stringify.convertTextKey)?this.text(r):!this.options.ignoreDecorators&&this.stringify.convertCDataKey&&0===t.indexOf(this.stringify.convertCDataKey)?this.cdata(r):!this.options.ignoreDecorators&&this.stringify.convertCommentKey&&0===t.indexOf(this.stringify.convertCommentKey)?this.comment(r):!this.options.ignoreDecorators&&this.stringify.convertRawKey&&0===t.indexOf(this.stringify.convertRawKey)?this.raw(r):!this.options.ignoreDecorators&&this.stringify.convertPIKey&&0===t.indexOf(this.stringify.convertPIKey)?this.instruction(t.substr(this.stringify.convertPIKey.length),r):this.node(t,e,r):this.dummy();if(null==c)throw new Error("Could not create any elements with: "+t+". "+this.debugInfo());return c},t.prototype.insertBefore=function(t,e,r){var n,o,s,i,a;if(null!=t?t.type:void 0)return i=e,(s=t).setParent(this),i?(o=children.indexOf(i),a=children.splice(o),children.push(s),Array.prototype.push.apply(children,a)):children.push(s),s;if(this.isRoot)throw new Error("Cannot insert elements at root level. "+this.debugInfo(t));return o=this.parent.children.indexOf(this),a=this.parent.children.splice(o),n=this.parent.element(t,e,r),Array.prototype.push.apply(this.parent.children,a),n},t.prototype.insertAfter=function(t,e,r){var n,o,s;if(this.isRoot)throw new Error("Cannot insert elements at root level. "+this.debugInfo(t));return o=this.parent.children.indexOf(this),s=this.parent.children.splice(o+1),n=this.parent.element(t,e,r),Array.prototype.push.apply(this.parent.children,s),n},t.prototype.remove=function(){var t;if(this.isRoot)throw new Error("Cannot remove the root element. "+this.debugInfo());return t=this.parent.children.indexOf(this),[].splice.apply(this.parent.children,[t,t-t+1].concat([])),this.parent},t.prototype.node=function(t,e,r){var n,o;return null!=t&&(t=f(t)),e||(e={}),e=f(e),y(e)||(r=(o=[e,r])[0],e=o[1]),n=new u(this,t,e),null!=r&&n.text(r),this.children.push(n),n},t.prototype.text=function(t){var e;return y(t)&&this.element(t),e=new d(this,t),this.children.push(e),this},t.prototype.cdata=function(t){var e;return e=new o(this,t),this.children.push(e),this},t.prototype.comment=function(t){var e;return e=new s(this,t),this.children.push(e),this},t.prototype.commentBefore=function(t){var e,r;return e=this.parent.children.indexOf(this),r=this.parent.children.splice(e),this.parent.comment(t),Array.prototype.push.apply(this.parent.children,r),this},t.prototype.commentAfter=function(t){var e,r;return e=this.parent.children.indexOf(this),r=this.parent.children.splice(e+1),this.parent.comment(t),Array.prototype.push.apply(this.parent.children,r),this},t.prototype.raw=function(t){var e;return e=new p(this,t),this.children.push(e),this},t.prototype.dummy=function(){return new c(this)},t.prototype.instruction=function(t,e){var r,n,o,s,i;if(null!=t&&(t=f(t)),null!=e&&(e=f(e)),Array.isArray(t))for(s=0,i=t.length;s<i;s++)r=t[s],this.instruction(r);else if(y(t))for(r in t)w.call(t,r)&&(n=t[r],this.instruction(r,n));else g(e)&&(e=e.apply()),o=new l(this,t,e),this.children.push(o);return this},t.prototype.instructionBefore=function(t,e){var r,n;return r=this.parent.children.indexOf(this),n=this.parent.children.splice(r),this.parent.instruction(t,e),Array.prototype.push.apply(this.parent.children,n),this},t.prototype.instructionAfter=function(t,e){var r,n;return r=this.parent.children.indexOf(this),n=this.parent.children.splice(r+1),this.parent.instruction(t,e),Array.prototype.push.apply(this.parent.children,n),this},t.prototype.declaration=function(t,e,r){var o,s;return o=this.document(),s=new i(o,t,e,r),0===o.children.length?o.children.unshift(s):o.children[0].type===n.Declaration?o.children[0]=s:o.children.unshift(s),o.root()||o},t.prototype.dtd=function(t,e){var r,o,s,i,c,u,h,l,p;for(r=this.document(),o=new a(r,t,e),s=i=0,u=(l=r.children).length;i<u;s=++i)if(l[s].type===n.DocType)return r.children[s]=o,o;for(s=c=0,h=(p=r.children).length;c<h;s=++c)if(p[s].isRoot)return r.children.splice(s,0,o),o;return r.children.push(o),o},t.prototype.up=function(){if(this.isRoot)throw new Error("The root node has no parent. Use doc() if you need to get the document object.");return this.parent},t.prototype.root=function(){var t;for(t=this;t;){if(t.type===n.Document)return t.rootObject;if(t.isRoot)return t;t=t.parent}},t.prototype.document=function(){var t;for(t=this;t;){if(t.type===n.Document)return t;t=t.parent}},t.prototype.end=function(t){return this.document().end(t)},t.prototype.prev=function(){var t;if((t=this.parent.children.indexOf(this))<1)throw new Error("Already at the first node. "+this.debugInfo());return this.parent.children[t-1]},t.prototype.next=function(){var t;if(-1===(t=this.parent.children.indexOf(this))||t===this.parent.children.length-1)throw new Error("Already at the last node. "+this.debugInfo());return this.parent.children[t+1]},t.prototype.importDocument=function(t){var e;return(e=t.root().clone()).parent=this,e.isRoot=!1,this.children.push(e),this},t.prototype.debugInfo=function(t){var e,r;return null!=(t=t||this.name)||(null!=(e=this.parent)?e.name:void 0)?null==t?"parent: <"+this.parent.name+">":(null!=(r=this.parent)?r.name:void 0)?"node: <"+t+">, parent: <"+this.parent.name+">":"node: <"+t+">":""},t.prototype.ele=function(t,e,r){return this.element(t,e,r)},t.prototype.nod=function(t,e,r){return this.node(t,e,r)},t.prototype.txt=function(t){return this.text(t)},t.prototype.dat=function(t){return this.cdata(t)},t.prototype.com=function(t){return this.comment(t)},t.prototype.ins=function(t,e){return this.instruction(t,e)},t.prototype.doc=function(){return this.document()},t.prototype.dec=function(t,e,r){return this.declaration(t,e,r)},t.prototype.e=function(t,e,r){return this.element(t,e,r)},t.prototype.n=function(t,e,r){return this.node(t,e,r)},t.prototype.t=function(t){return this.text(t)},t.prototype.d=function(t){return this.cdata(t)},t.prototype.c=function(t){return this.comment(t)},t.prototype.r=function(t){return this.raw(t)},t.prototype.i=function(t,e){return this.instruction(t,e)},t.prototype.u=function(){return this.up()},t.prototype.importXMLBuilder=function(t){return this.importDocument(t)},t.prototype.replaceChild=function(t,e){throw new Error("This DOM method is not implemented."+this.debugInfo())},t.prototype.removeChild=function(t){throw new Error("This DOM method is not implemented."+this.debugInfo())},t.prototype.appendChild=function(t){throw new Error("This DOM method is not implemented."+this.debugInfo())},t.prototype.hasChildNodes=function(){return 0!==this.children.length},t.prototype.cloneNode=function(t){throw new Error("This DOM method is not implemented."+this.debugInfo())},t.prototype.normalize=function(){throw new Error("This DOM method is not implemented."+this.debugInfo())},t.prototype.isSupported=function(t,e){return!0},t.prototype.hasAttributes=function(){return 0!==this.attribs.length},t.prototype.compareDocumentPosition=function(t){var r,n;return(r=this)===t?0:this.document()!==t.document()?(n=e.Disconnected|e.ImplementationSpecific,Math.random()<.5?n|=e.Preceding:n|=e.Following,n):r.isAncestor(t)?e.Contains|e.Preceding:r.isDescendant(t)?e.Contains|e.Following:r.isPreceding(t)?e.Preceding:e.Following},t.prototype.isSameNode=function(t){throw new Error("This DOM method is not implemented."+this.debugInfo())},t.prototype.lookupPrefix=function(t){throw new Error("This DOM method is not implemented."+this.debugInfo())},t.prototype.isDefaultNamespace=function(t){throw new Error("This DOM method is not implemented."+this.debugInfo())},t.prototype.lookupNamespaceURI=function(t){throw new Error("This DOM method is not implemented."+this.debugInfo())},t.prototype.isEqualNode=function(t){var e,r,n;if(t.nodeType!==this.nodeType)return!1;if(t.children.length!==this.children.length)return!1;for(e=r=0,n=this.children.length-1;0<=n?r<=n:r>=n;e=0<=n?++r:--r)if(!this.children[e].isEqualNode(t.children[e]))return!1;return!0},t.prototype.getFeature=function(t,e){throw new Error("This DOM method is not implemented."+this.debugInfo())},t.prototype.setUserData=function(t,e,r){throw new Error("This DOM method is not implemented."+this.debugInfo())},t.prototype.getUserData=function(t){throw new Error("This DOM method is not implemented."+this.debugInfo())},t.prototype.contains=function(t){return!!t&&(t===this||this.isDescendant(t))},t.prototype.isDescendant=function(t){var e,r,n,o;for(r=0,n=(o=this.children).length;r<n;r++){if(t===(e=o[r]))return!0;if(e.isDescendant(t))return!0}return!1},t.prototype.isAncestor=function(t){return t.isDescendant(this)},t.prototype.isPreceding=function(t){var e,r;return e=this.treePosition(t),r=this.treePosition(this),-1!==e&&-1!==r&&e<r},t.prototype.isFollowing=function(t){var e,r;return e=this.treePosition(t),r=this.treePosition(this),-1!==e&&-1!==r&&e>r},t.prototype.treePosition=function(t){var e,r;return r=0,e=!1,this.foreachTreeNode(this.document(),(function(n){if(r++,!e&&n===t)return e=!0})),e?r:-1},t.prototype.foreachTreeNode=function(t,e){var r,n,o,s,i;for(t||(t=this.document()),n=0,o=(s=t.children).length;n<o;n++){if(i=e(r=s[n]))return i;if(i=this.foreachTreeNode(r,e))return i}},t}()}).call(this)},2390:function(t){(function(){t.exports=function(){function t(t){this.nodes=t}return Object.defineProperty(t.prototype,"length",{get:function(){return this.nodes.length||0}}),t.prototype.clone=function(){return this.nodes=null},t.prototype.item=function(t){return this.nodes[t]||null},t}()}).call(this)},9181:function(t,e,r){(function(){var e,n,o={}.hasOwnProperty;e=r(9335),n=r(6488),t.exports=function(t){function r(t,n,o){if(r.__super__.constructor.call(this,t),null==n)throw new Error("Missing instruction target. "+this.debugInfo());this.type=e.ProcessingInstruction,this.target=this.stringify.insTarget(n),this.name=this.target,o&&(this.value=this.stringify.insValue(o))}return function(t,e){for(var r in e)o.call(e,r)&&(t[r]=e[r]);function n(){this.constructor=t}n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype}(r,t),r.prototype.clone=function(){return Object.create(this)},r.prototype.toString=function(t){return this.options.writer.processingInstruction(this,this.options.writer.filterOptions(t))},r.prototype.isEqualNode=function(t){return!!r.__super__.isEqualNode.apply(this,arguments).isEqualNode(t)&&t.target===this.target},r}(n)}).call(this)},9406:function(t,e,r){(function(){var e,n,o={}.hasOwnProperty;e=r(9335),n=r(2026),t.exports=function(t){function r(t,n){if(r.__super__.constructor.call(this,t),null==n)throw new Error("Missing raw text. "+this.debugInfo());this.type=e.Raw,this.value=this.stringify.raw(n)}return function(t,e){for(var r in e)o.call(e,r)&&(t[r]=e[r]);function n(){this.constructor=t}n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype}(r,t),r.prototype.clone=function(){return Object.create(this)},r.prototype.toString=function(t){return this.options.writer.raw(this,this.options.writer.filterOptions(t))},r}(n)}).call(this)},1996:function(t,e,r){(function(){var e,n,o,s={}.hasOwnProperty;e=r(9335),o=r(751),n=r(594),t.exports=function(t){function r(t,e){this.stream=t,r.__super__.constructor.call(this,e)}return function(t,e){for(var r in e)s.call(e,r)&&(t[r]=e[r]);function n(){this.constructor=t}n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype}(r,t),r.prototype.endline=function(t,e,o){return t.isLastRootNode&&e.state===n.CloseTag?"":r.__super__.endline.call(this,t,e,o)},r.prototype.document=function(t,e){var r,n,o,s,i,a,c,u,h;for(n=o=0,i=(c=t.children).length;o<i;n=++o)(r=c[n]).isLastRootNode=n===t.children.length-1;for(e=this.filterOptions(e),h=[],s=0,a=(u=t.children).length;s<a;s++)r=u[s],h.push(this.writeChildNode(r,e,0));return h},r.prototype.attribute=function(t,e,n){return this.stream.write(r.__super__.attribute.call(this,t,e,n))},r.prototype.cdata=function(t,e,n){return this.stream.write(r.__super__.cdata.call(this,t,e,n))},r.prototype.comment=function(t,e,n){return this.stream.write(r.__super__.comment.call(this,t,e,n))},r.prototype.declaration=function(t,e,n){return this.stream.write(r.__super__.declaration.call(this,t,e,n))},r.prototype.docType=function(t,e,r){var o,s,i,a;if(r||(r=0),this.openNode(t,e,r),e.state=n.OpenTag,this.stream.write(this.indent(t,e,r)),this.stream.write("<!DOCTYPE "+t.root().name),t.pubID&&t.sysID?this.stream.write(' PUBLIC "'+t.pubID+'" "'+t.sysID+'"'):t.sysID&&this.stream.write(' SYSTEM "'+t.sysID+'"'),t.children.length>0){for(this.stream.write(" ["),this.stream.write(this.endline(t,e,r)),e.state=n.InsideTag,s=0,i=(a=t.children).length;s<i;s++)o=a[s],this.writeChildNode(o,e,r+1);e.state=n.CloseTag,this.stream.write("]")}return e.state=n.CloseTag,this.stream.write(e.spaceBeforeSlash+">"),this.stream.write(this.endline(t,e,r)),e.state=n.None,this.closeNode(t,e,r)},r.prototype.element=function(t,r,o){var i,a,c,u,h,l,p,d,f;for(p in o||(o=0),this.openNode(t,r,o),r.state=n.OpenTag,this.stream.write(this.indent(t,r,o)+"<"+t.name),d=t.attribs)s.call(d,p)&&(i=d[p],this.attribute(i,r,o));if(u=0===(c=t.children.length)?null:t.children[0],0===c||t.children.every((function(t){return(t.type===e.Text||t.type===e.Raw)&&""===t.value})))r.allowEmpty?(this.stream.write(">"),r.state=n.CloseTag,this.stream.write("</"+t.name+">")):(r.state=n.CloseTag,this.stream.write(r.spaceBeforeSlash+"/>"));else if(!r.pretty||1!==c||u.type!==e.Text&&u.type!==e.Raw||null==u.value){for(this.stream.write(">"+this.endline(t,r,o)),r.state=n.InsideTag,h=0,l=(f=t.children).length;h<l;h++)a=f[h],this.writeChildNode(a,r,o+1);r.state=n.CloseTag,this.stream.write(this.indent(t,r,o)+"</"+t.name+">")}else this.stream.write(">"),r.state=n.InsideTag,r.suppressPrettyCount++,this.writeChildNode(u,r,o+1),r.suppressPrettyCount--,r.state=n.CloseTag,this.stream.write("</"+t.name+">");return this.stream.write(this.endline(t,r,o)),r.state=n.None,this.closeNode(t,r,o)},r.prototype.processingInstruction=function(t,e,n){return this.stream.write(r.__super__.processingInstruction.call(this,t,e,n))},r.prototype.raw=function(t,e,n){return this.stream.write(r.__super__.raw.call(this,t,e,n))},r.prototype.text=function(t,e,n){return this.stream.write(r.__super__.text.call(this,t,e,n))},r.prototype.dtdAttList=function(t,e,n){return this.stream.write(r.__super__.dtdAttList.call(this,t,e,n))},r.prototype.dtdElement=function(t,e,n){return this.stream.write(r.__super__.dtdElement.call(this,t,e,n))},r.prototype.dtdEntity=function(t,e,n){return this.stream.write(r.__super__.dtdEntity.call(this,t,e,n))},r.prototype.dtdNotation=function(t,e,n){return this.stream.write(r.__super__.dtdNotation.call(this,t,e,n))},r}(o)}).call(this)},6434:function(t,e,r){(function(){var e,n={}.hasOwnProperty;e=r(751),t.exports=function(t){function e(t){e.__super__.constructor.call(this,t)}return function(t,e){for(var r in e)n.call(e,r)&&(t[r]=e[r]);function o(){this.constructor=t}o.prototype=e.prototype,t.prototype=new o,t.__super__=e.prototype}(e,t),e.prototype.document=function(t,e){var r,n,o,s,i;for(e=this.filterOptions(e),s="",n=0,o=(i=t.children).length;n<o;n++)r=i[n],s+=this.writeChildNode(r,e,0);return e.pretty&&s.slice(-e.newline.length)===e.newline&&(s=s.slice(0,-e.newline.length)),s},e}(e)}).call(this)},5549:function(t){(function(){var e=function(t,e){return function(){return t.apply(e,arguments)}},r={}.hasOwnProperty;t.exports=function(){function t(t){var n,o,s;for(n in this.assertLegalName=e(this.assertLegalName,this),this.assertLegalChar=e(this.assertLegalChar,this),t||(t={}),this.options=t,this.options.version||(this.options.version="1.0"),o=t.stringify||{})r.call(o,n)&&(s=o[n],this[n]=s)}return t.prototype.name=function(t){return this.options.noValidation?t:this.assertLegalName(""+t||"")},t.prototype.text=function(t){return this.options.noValidation?t:this.assertLegalChar(this.textEscape(""+t||""))},t.prototype.cdata=function(t){return this.options.noValidation?t:(t=(t=""+t||"").replace("]]>","]]]]><![CDATA[>"),this.assertLegalChar(t))},t.prototype.comment=function(t){if(this.options.noValidation)return t;if((t=""+t||"").match(/--/))throw new Error("Comment text cannot contain double-hypen: "+t);return this.assertLegalChar(t)},t.prototype.raw=function(t){return this.options.noValidation?t:""+t||""},t.prototype.attValue=function(t){return this.options.noValidation?t:this.assertLegalChar(this.attEscape(t=""+t||""))},t.prototype.insTarget=function(t){return this.options.noValidation?t:this.assertLegalChar(""+t||"")},t.prototype.insValue=function(t){if(this.options.noValidation)return t;if((t=""+t||"").match(/\?>/))throw new Error("Invalid processing instruction value: "+t);return this.assertLegalChar(t)},t.prototype.xmlVersion=function(t){if(this.options.noValidation)return t;if(!(t=""+t||"").match(/1\.[0-9]+/))throw new Error("Invalid version number: "+t);return t},t.prototype.xmlEncoding=function(t){if(this.options.noValidation)return t;if(!(t=""+t||"").match(/^[A-Za-z](?:[A-Za-z0-9._-])*$/))throw new Error("Invalid encoding: "+t);return this.assertLegalChar(t)},t.prototype.xmlStandalone=function(t){return this.options.noValidation?t:t?"yes":"no"},t.prototype.dtdPubID=function(t){return this.options.noValidation?t:this.assertLegalChar(""+t||"")},t.prototype.dtdSysID=function(t){return this.options.noValidation?t:this.assertLegalChar(""+t||"")},t.prototype.dtdElementValue=function(t){return this.options.noValidation?t:this.assertLegalChar(""+t||"")},t.prototype.dtdAttType=function(t){return this.options.noValidation?t:this.assertLegalChar(""+t||"")},t.prototype.dtdAttDefault=function(t){return this.options.noValidation?t:this.assertLegalChar(""+t||"")},t.prototype.dtdEntityValue=function(t){return this.options.noValidation?t:this.assertLegalChar(""+t||"")},t.prototype.dtdNData=function(t){return this.options.noValidation?t:this.assertLegalChar(""+t||"")},t.prototype.convertAttKey="@",t.prototype.convertPIKey="?",t.prototype.convertTextKey="#text",t.prototype.convertCDataKey="#cdata",t.prototype.convertCommentKey="#comment",t.prototype.convertRawKey="#raw",t.prototype.assertLegalChar=function(t){var e,r;if(this.options.noValidation)return t;if(e="","1.0"===this.options.version){if(e=/[\0-\x08\x0B\f\x0E-\x1F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,r=t.match(e))throw new Error("Invalid character in string: "+t+" at index "+r.index)}else if("1.1"===this.options.version&&(e=/[\0\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,r=t.match(e)))throw new Error("Invalid character in string: "+t+" at index "+r.index);return t},t.prototype.assertLegalName=function(t){var e;if(this.options.noValidation)return t;if(this.assertLegalChar(t),e=/^([:A-Z_a-z\xC0-\xD6\xD8-\xF6\xF8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])([\x2D\.0-:A-Z_a-z\xB7\xC0-\xD6\xD8-\xF6\xF8-\u037D\u037F-\u1FFF\u200C\u200D\u203F\u2040\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])*$/,!t.match(e))throw new Error("Invalid character in name");return t},t.prototype.textEscape=function(t){var e;return this.options.noValidation?t:(e=this.options.noDoubleEncoding?/(?!&\S+;)&/g:/&/g,t.replace(e,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\r/g,"&#xD;"))},t.prototype.attEscape=function(t){var e;return this.options.noValidation?t:(e=this.options.noDoubleEncoding?/(?!&\S+;)&/g:/&/g,t.replace(e,"&amp;").replace(/</g,"&lt;").replace(/"/g,"&quot;").replace(/\t/g,"&#x9;").replace(/\n/g,"&#xA;").replace(/\r/g,"&#xD;"))},t}()}).call(this)},3595:function(t,e,r){(function(){var e,n,o={}.hasOwnProperty;e=r(9335),n=r(6488),t.exports=function(t){function r(t,n){if(r.__super__.constructor.call(this,t),null==n)throw new Error("Missing element text. "+this.debugInfo());this.name="#text",this.type=e.Text,this.value=this.stringify.text(n)}return function(t,e){for(var r in e)o.call(e,r)&&(t[r]=e[r]);function n(){this.constructor=t}n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype}(r,t),Object.defineProperty(r.prototype,"isElementContentWhitespace",{get:function(){throw new Error("This DOM method is not implemented."+this.debugInfo())}}),Object.defineProperty(r.prototype,"wholeText",{get:function(){var t,e,r;for(r="",e=this.previousSibling;e;)r=e.data+r,e=e.previousSibling;for(r+=this.data,t=this.nextSibling;t;)r+=t.data,t=t.nextSibling;return r}}),r.prototype.clone=function(){return Object.create(this)},r.prototype.toString=function(t){return this.options.writer.text(this,this.options.writer.filterOptions(t))},r.prototype.splitText=function(t){throw new Error("This DOM method is not implemented."+this.debugInfo())},r.prototype.replaceWholeText=function(t){throw new Error("This DOM method is not implemented."+this.debugInfo())},r}(n)}).call(this)},751:function(t,e,r){(function(){var e,n,o,s={}.hasOwnProperty;o=r(8369).assign,e=r(9335),r(9077),r(6544),r(6170),r(2096),r(2161),r(9406),r(3595),r(9181),r(459),r(1179),r(6347),r(9078),r(4777),n=r(594),t.exports=function(){function t(t){var e,r,n;for(e in t||(t={}),this.options=t,r=t.writer||{})s.call(r,e)&&(n=r[e],this["_"+e]=this[e],this[e]=n)}return t.prototype.filterOptions=function(t){var e,r,s,i,a,c,u,h;return t||(t={}),t=o({},this.options,t),(e={writer:this}).pretty=t.pretty||!1,e.allowEmpty=t.allowEmpty||!1,e.indent=null!=(r=t.indent)?r:"  ",e.newline=null!=(s=t.newline)?s:"\n",e.offset=null!=(i=t.offset)?i:0,e.dontPrettyTextNodes=null!=(a=null!=(c=t.dontPrettyTextNodes)?c:t.dontprettytextnodes)?a:0,e.spaceBeforeSlash=null!=(u=null!=(h=t.spaceBeforeSlash)?h:t.spacebeforeslash)?u:"",!0===e.spaceBeforeSlash&&(e.spaceBeforeSlash=" "),e.suppressPrettyCount=0,e.user={},e.state=n.None,e},t.prototype.indent=function(t,e,r){var n;return!e.pretty||e.suppressPrettyCount?"":e.pretty&&(n=(r||0)+e.offset+1)>0?new Array(n).join(e.indent):""},t.prototype.endline=function(t,e,r){return!e.pretty||e.suppressPrettyCount?"":e.newline},t.prototype.attribute=function(t,e,r){var n;return this.openAttribute(t,e,r),n=" "+t.name+'="'+t.value+'"',this.closeAttribute(t,e,r),n},t.prototype.cdata=function(t,e,r){var o;return this.openNode(t,e,r),e.state=n.OpenTag,o=this.indent(t,e,r)+"<![CDATA[",e.state=n.InsideTag,o+=t.value,e.state=n.CloseTag,o+="]]>"+this.endline(t,e,r),e.state=n.None,this.closeNode(t,e,r),o},t.prototype.comment=function(t,e,r){var o;return this.openNode(t,e,r),e.state=n.OpenTag,o=this.indent(t,e,r)+"\x3c!-- ",e.state=n.InsideTag,o+=t.value,e.state=n.CloseTag,o+=" --\x3e"+this.endline(t,e,r),e.state=n.None,this.closeNode(t,e,r),o},t.prototype.declaration=function(t,e,r){var o;return this.openNode(t,e,r),e.state=n.OpenTag,o=this.indent(t,e,r)+"<?xml",e.state=n.InsideTag,o+=' version="'+t.version+'"',null!=t.encoding&&(o+=' encoding="'+t.encoding+'"'),null!=t.standalone&&(o+=' standalone="'+t.standalone+'"'),e.state=n.CloseTag,o+=e.spaceBeforeSlash+"?>",o+=this.endline(t,e,r),e.state=n.None,this.closeNode(t,e,r),o},t.prototype.docType=function(t,e,r){var o,s,i,a,c;if(r||(r=0),this.openNode(t,e,r),e.state=n.OpenTag,a=this.indent(t,e,r),a+="<!DOCTYPE "+t.root().name,t.pubID&&t.sysID?a+=' PUBLIC "'+t.pubID+'" "'+t.sysID+'"':t.sysID&&(a+=' SYSTEM "'+t.sysID+'"'),t.children.length>0){for(a+=" [",a+=this.endline(t,e,r),e.state=n.InsideTag,s=0,i=(c=t.children).length;s<i;s++)o=c[s],a+=this.writeChildNode(o,e,r+1);e.state=n.CloseTag,a+="]"}return e.state=n.CloseTag,a+=e.spaceBeforeSlash+">",a+=this.endline(t,e,r),e.state=n.None,this.closeNode(t,e,r),a},t.prototype.element=function(t,r,o){var i,a,c,u,h,l,p,d,f,m,g,y,v,w;for(f in o||(o=0),m=!1,g="",this.openNode(t,r,o),r.state=n.OpenTag,g+=this.indent(t,r,o)+"<"+t.name,y=t.attribs)s.call(y,f)&&(i=y[f],g+=this.attribute(i,r,o));if(u=0===(c=t.children.length)?null:t.children[0],0===c||t.children.every((function(t){return(t.type===e.Text||t.type===e.Raw)&&""===t.value})))r.allowEmpty?(g+=">",r.state=n.CloseTag,g+="</"+t.name+">"+this.endline(t,r,o)):(r.state=n.CloseTag,g+=r.spaceBeforeSlash+"/>"+this.endline(t,r,o));else if(!r.pretty||1!==c||u.type!==e.Text&&u.type!==e.Raw||null==u.value){if(r.dontPrettyTextNodes)for(h=0,p=(v=t.children).length;h<p;h++)if(((a=v[h]).type===e.Text||a.type===e.Raw)&&null!=a.value){r.suppressPrettyCount++,m=!0;break}for(g+=">"+this.endline(t,r,o),r.state=n.InsideTag,l=0,d=(w=t.children).length;l<d;l++)a=w[l],g+=this.writeChildNode(a,r,o+1);r.state=n.CloseTag,g+=this.indent(t,r,o)+"</"+t.name+">",m&&r.suppressPrettyCount--,g+=this.endline(t,r,o),r.state=n.None}else g+=">",r.state=n.InsideTag,r.suppressPrettyCount++,m=!0,g+=this.writeChildNode(u,r,o+1),r.suppressPrettyCount--,m=!1,r.state=n.CloseTag,g+="</"+t.name+">"+this.endline(t,r,o);return this.closeNode(t,r,o),g},t.prototype.writeChildNode=function(t,r,n){switch(t.type){case e.CData:return this.cdata(t,r,n);case e.Comment:return this.comment(t,r,n);case e.Element:return this.element(t,r,n);case e.Raw:return this.raw(t,r,n);case e.Text:return this.text(t,r,n);case e.ProcessingInstruction:return this.processingInstruction(t,r,n);case e.Dummy:return"";case e.Declaration:return this.declaration(t,r,n);case e.DocType:return this.docType(t,r,n);case e.AttributeDeclaration:return this.dtdAttList(t,r,n);case e.ElementDeclaration:return this.dtdElement(t,r,n);case e.EntityDeclaration:return this.dtdEntity(t,r,n);case e.NotationDeclaration:return this.dtdNotation(t,r,n);default:throw new Error("Unknown XML node type: "+t.constructor.name)}},t.prototype.processingInstruction=function(t,e,r){var o;return this.openNode(t,e,r),e.state=n.OpenTag,o=this.indent(t,e,r)+"<?",e.state=n.InsideTag,o+=t.target,t.value&&(o+=" "+t.value),e.state=n.CloseTag,o+=e.spaceBeforeSlash+"?>",o+=this.endline(t,e,r),e.state=n.None,this.closeNode(t,e,r),o},t.prototype.raw=function(t,e,r){var o;return this.openNode(t,e,r),e.state=n.OpenTag,o=this.indent(t,e,r),e.state=n.InsideTag,o+=t.value,e.state=n.CloseTag,o+=this.endline(t,e,r),e.state=n.None,this.closeNode(t,e,r),o},t.prototype.text=function(t,e,r){var o;return this.openNode(t,e,r),e.state=n.OpenTag,o=this.indent(t,e,r),e.state=n.InsideTag,o+=t.value,e.state=n.CloseTag,o+=this.endline(t,e,r),e.state=n.None,this.closeNode(t,e,r),o},t.prototype.dtdAttList=function(t,e,r){var o;return this.openNode(t,e,r),e.state=n.OpenTag,o=this.indent(t,e,r)+"<!ATTLIST",e.state=n.InsideTag,o+=" "+t.elementName+" "+t.attributeName+" "+t.attributeType,"#DEFAULT"!==t.defaultValueType&&(o+=" "+t.defaultValueType),t.defaultValue&&(o+=' "'+t.defaultValue+'"'),e.state=n.CloseTag,o+=e.spaceBeforeSlash+">"+this.endline(t,e,r),e.state=n.None,this.closeNode(t,e,r),o},t.prototype.dtdElement=function(t,e,r){var o;return this.openNode(t,e,r),e.state=n.OpenTag,o=this.indent(t,e,r)+"<!ELEMENT",e.state=n.InsideTag,o+=" "+t.name+" "+t.value,e.state=n.CloseTag,o+=e.spaceBeforeSlash+">"+this.endline(t,e,r),e.state=n.None,this.closeNode(t,e,r),o},t.prototype.dtdEntity=function(t,e,r){var o;return this.openNode(t,e,r),e.state=n.OpenTag,o=this.indent(t,e,r)+"<!ENTITY",e.state=n.InsideTag,t.pe&&(o+=" %"),o+=" "+t.name,t.value?o+=' "'+t.value+'"':(t.pubID&&t.sysID?o+=' PUBLIC "'+t.pubID+'" "'+t.sysID+'"':t.sysID&&(o+=' SYSTEM "'+t.sysID+'"'),t.nData&&(o+=" NDATA "+t.nData)),e.state=n.CloseTag,o+=e.spaceBeforeSlash+">"+this.endline(t,e,r),e.state=n.None,this.closeNode(t,e,r),o},t.prototype.dtdNotation=function(t,e,r){var o;return this.openNode(t,e,r),e.state=n.OpenTag,o=this.indent(t,e,r)+"<!NOTATION",e.state=n.InsideTag,o+=" "+t.name,t.pubID&&t.sysID?o+=' PUBLIC "'+t.pubID+'" "'+t.sysID+'"':t.pubID?o+=' PUBLIC "'+t.pubID+'"':t.sysID&&(o+=' SYSTEM "'+t.sysID+'"'),e.state=n.CloseTag,o+=e.spaceBeforeSlash+">"+this.endline(t,e,r),e.state=n.None,this.closeNode(t,e,r),o},t.prototype.openNode=function(t,e,r){},t.prototype.closeNode=function(t,e,r){},t.prototype.openAttribute=function(t,e,r){},t.prototype.closeAttribute=function(t,e,r){},t}()}).call(this)},5532:function(t,e,r){(function(){var e,n,o,s,i,a,c,u,h,l;l=r(8369),u=l.assign,h=l.isFunction,o=r(1770),s=r(6934),i=r(9227),c=r(6434),a=r(1996),e=r(9335),n=r(594),t.exports.create=function(t,e,r,n){var o,i;if(null==t)throw new Error("Root element needs a name.");return n=u({},e,r,n),i=(o=new s(n)).element(t),n.headless||(o.declaration(n),null==n.pubID&&null==n.sysID||o.dtd(n)),i},t.exports.begin=function(t,e,r){var n;return h(t)&&(e=(n=[t,e])[0],r=n[1],t={}),e?new i(t,e,r):new s(t)},t.exports.stringWriter=function(t){return new c(t)},t.exports.streamWriter=function(t,e){return new a(t,e)},t.exports.implementation=new o,t.exports.nodeType=e,t.exports.writerState=n}).call(this)},9602:t=>{"use strict";t.exports=function(t){t.prototype[Symbol.iterator]=function*(){for(let t=this.head;t;t=t.next)yield t.value}}},4411:(t,e,r)=>{"use strict";function n(t){var e=this;if(e instanceof n||(e=new n),e.tail=null,e.head=null,e.length=0,t&&"function"==typeof t.forEach)t.forEach((function(t){e.push(t)}));else if(arguments.length>0)for(var r=0,o=arguments.length;r<o;r++)e.push(arguments[r]);return e}function o(t,e){t.tail=new i(e,t.tail,null,t),t.head||(t.head=t.tail),t.length++}function s(t,e){t.head=new i(e,null,t.head,t),t.tail||(t.tail=t.head),t.length++}function i(t,e,r,n){if(!(this instanceof i))return new i(t,e,r,n);this.list=n,this.value=t,e?(e.next=this,this.prev=e):this.prev=null,r?(r.prev=this,this.next=r):this.next=null}t.exports=n,n.Node=i,n.create=n,n.prototype.removeNode=function(t){if(t.list!==this)throw new Error("removing node which does not belong to this list");var e=t.next,r=t.prev;return e&&(e.prev=r),r&&(r.next=e),t===this.head&&(this.head=e),t===this.tail&&(this.tail=r),t.list.length--,t.next=null,t.prev=null,t.list=null,e},n.prototype.unshiftNode=function(t){if(t!==this.head){t.list&&t.list.removeNode(t);var e=this.head;t.list=this,t.next=e,e&&(e.prev=t),this.head=t,this.tail||(this.tail=t),this.length++}},n.prototype.pushNode=function(t){if(t!==this.tail){t.list&&t.list.removeNode(t);var e=this.tail;t.list=this,t.prev=e,e&&(e.next=t),this.tail=t,this.head||(this.head=t),this.length++}},n.prototype.push=function(){for(var t=0,e=arguments.length;t<e;t++)o(this,arguments[t]);return this.length},n.prototype.unshift=function(){for(var t=0,e=arguments.length;t<e;t++)s(this,arguments[t]);return this.length},n.prototype.pop=function(){if(this.tail){var t=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,t}},n.prototype.shift=function(){if(this.head){var t=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,t}},n.prototype.forEach=function(t,e){e=e||this;for(var r=this.head,n=0;null!==r;n++)t.call(e,r.value,n,this),r=r.next},n.prototype.forEachReverse=function(t,e){e=e||this;for(var r=this.tail,n=this.length-1;null!==r;n--)t.call(e,r.value,n,this),r=r.prev},n.prototype.get=function(t){for(var e=0,r=this.head;null!==r&&e<t;e++)r=r.next;if(e===t&&null!==r)return r.value},n.prototype.getReverse=function(t){for(var e=0,r=this.tail;null!==r&&e<t;e++)r=r.prev;if(e===t&&null!==r)return r.value},n.prototype.map=function(t,e){e=e||this;for(var r=new n,o=this.head;null!==o;)r.push(t.call(e,o.value,this)),o=o.next;return r},n.prototype.mapReverse=function(t,e){e=e||this;for(var r=new n,o=this.tail;null!==o;)r.push(t.call(e,o.value,this)),o=o.prev;return r},n.prototype.reduce=function(t,e){var r,n=this.head;if(arguments.length>1)r=e;else{if(!this.head)throw new TypeError("Reduce of empty list with no initial value");n=this.head.next,r=this.head.value}for(var o=0;null!==n;o++)r=t(r,n.value,o),n=n.next;return r},n.prototype.reduceReverse=function(t,e){var r,n=this.tail;if(arguments.length>1)r=e;else{if(!this.tail)throw new TypeError("Reduce of empty list with no initial value");n=this.tail.prev,r=this.tail.value}for(var o=this.length-1;null!==n;o--)r=t(r,n.value,o),n=n.prev;return r},n.prototype.toArray=function(){for(var t=new Array(this.length),e=0,r=this.head;null!==r;e++)t[e]=r.value,r=r.next;return t},n.prototype.toArrayReverse=function(){for(var t=new Array(this.length),e=0,r=this.tail;null!==r;e++)t[e]=r.value,r=r.prev;return t},n.prototype.slice=function(t,e){(e=e||this.length)<0&&(e+=this.length),(t=t||0)<0&&(t+=this.length);var r=new n;if(e<t||e<0)return r;t<0&&(t=0),e>this.length&&(e=this.length);for(var o=0,s=this.head;null!==s&&o<t;o++)s=s.next;for(;null!==s&&o<e;o++,s=s.next)r.push(s.value);return r},n.prototype.sliceReverse=function(t,e){(e=e||this.length)<0&&(e+=this.length),(t=t||0)<0&&(t+=this.length);var r=new n;if(e<t||e<0)return r;t<0&&(t=0),e>this.length&&(e=this.length);for(var o=this.length,s=this.tail;null!==s&&o>e;o--)s=s.prev;for(;null!==s&&o>t;o--,s=s.prev)r.push(s.value);return r},n.prototype.splice=function(t,e,...r){t>this.length&&(t=this.length-1),t<0&&(t=this.length+t);for(var n=0,o=this.head;null!==o&&n<t;n++)o=o.next;var s,a,c,u,h=[];for(n=0;o&&n<e;n++)h.push(o.value),o=this.removeNode(o);for(null===o&&(o=this.tail),o!==this.head&&o!==this.tail&&(o=o.prev),n=0;n<r.length;n++)s=this,a=o,c=r[n],u=void 0,null===(u=a===s.head?new i(c,null,a,s):new i(c,a,a.next,s)).next&&(s.tail=u),null===u.prev&&(s.head=u),s.length++,o=u;return h},n.prototype.reverse=function(){for(var t=this.head,e=this.tail,r=t;null!==r;r=r.prev){var n=r.prev;r.prev=r.next,r.next=n}return this.head=e,this.tail=t,this};try{r(9602)(n)}catch(t){}},2357:t=>{"use strict";t.exports=require("assert")},3129:t=>{"use strict";t.exports=require("child_process")},6417:t=>{"use strict";t.exports=require("crypto")},8614:t=>{"use strict";t.exports=require("events")},5747:t=>{"use strict";t.exports=require("fs")},2087:t=>{"use strict";t.exports=require("os")},5622:t=>{"use strict";t.exports=require("path")},1765:t=>{"use strict";t.exports=require("process")},2413:t=>{"use strict";t.exports=require("stream")},4304:t=>{"use strict";t.exports=require("string_decoder")},8213:t=>{"use strict";t.exports=require("timers")},1669:t=>{"use strict";t.exports=require("util")},7549:t=>{"use strict";t.exports=require("vscode")}},e={};function r(n){var o=e[n];if(void 0!==o)return o.exports;var s=e[n]={exports:{}};return t[n].call(s.exports,s,s.exports,r),s.exports}var n={};(()=>{"use strict";var t=n;Object.defineProperty(t,"__esModule",{value:!0}),t.activate=void 0;const e=r(5622),o=r(7549),s=r(5049),i=r(6419),a=r(9871),c=r(7172),u=r(5265),h=r(4380),l=r(5142),p=r(3740),d=r(6770),f=r(7494),m=r(4212),g=r(9216),y=r(9882),v=r(4927),w=r(5269),E=r(297),b=r(3676),C=r(5705);t.activate=async function(t){const r=[];t.subscriptions.push(new o.Disposable((()=>o.Disposable.from(...r).dispose()))),await async function(t,r){const n=o.window.createOutputChannel("Svn");o.commands.registerCommand("svn.showOutput",(()=>n.show())),r.push(n),u.configuration.get("showOutput")&&n.show();const _=async()=>{try{await async function(t,e,r){const n=u.configuration.get("path"),o=new m.SvnFinder,_=await o.findSvn(n),O=new f.Svn({svnPath:_.path,version:_.version}),S=await new d.SourceControlManager(O,i.ConstructorPolicy.Async);s.registerCommands(S,r),r.push(S,b.tempSvnFs,new C.SvnFileSystemProvider(S),new g.default(S),new l.RepoLogProvider(S),new h.ItemLogProvider(S),new v.BranchChangesProvider(S),new a.CheckActiveEditor(S),new c.OpenRepositoryCount(S),new E.IsSvn18orGreater(_.version),new w.IsSvn19orGreater(_.version)),e.appendLine(`Using svn "${_.version}" from "${_.path}"`);const D=t=>e.append(t);O.onOutput.addListener("log",D),r.push(y.toDisposable((()=>O.onOutput.removeListener("log",D)))),r.push(y.toDisposable(p.dispose))}(0,n,r)}catch(t){if(!/Svn installation not found/.test(t.message||""))throw t;if(!0===u.configuration.get("ignoreMissingSvnWarning"))return;console.warn(t.message),n.appendLine(t.message),n.show();const r="Find SVN executable",s="Download SVN",i="Don't Show Again",a=await o.window.showWarningMessage("SVN not found. Install it or configure it using the 'svn.path' setting.",r,s,i);if(a===r){let t;"\\"===e.sep&&(t={svn:["exe","bat"]});const r=await o.window.showOpenDialog({canSelectFiles:!0,canSelectFolders:!1,canSelectMany:!1,filters:t});if(r&&r[0]){const t=r[0].fsPath;n.appendLine(`Updated "svn.path" with "${t}"`),await u.configuration.update("path",t),await _()}}else a===s?o.commands.executeCommand("vscode.open",o.Uri.parse("https://subversion.apache.org/packages.html")):a===i&&await u.configuration.update("ignoreMissingSvnWarning",!0)}};await _()}(0,r).catch((t=>console.error(t)))},t.deactivate=function(){}})(),module.exports=n})();
//# sourceMappingURL=extension.js.map